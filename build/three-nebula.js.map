{"version":3,"file":"three-nebula.js","mappings":"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AmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACdA,aAAa,mBAAO,CAAC,mDAAW;AAChC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,qBAAqB,mBAAO,CAAC,mEAAmB;;AAEhD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC3BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;AACnC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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;AACA;;AAEA;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,uDAAa;;AAErC;AACA,kBAAkB,KAA0B;;AAE5C;AACA,gCAAgC,QAAa;;AAE7C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AClCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC5BA,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,GAAG;AACd,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;AC1BA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,2DAAe;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACpCA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa,GAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,WAAW,mBAAO,CAAC,6CAAQ;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;ACzBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,QAAQ;AAC/B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;ACjCA,UAAU,mBAAO,CAAC,yDAAW;AAC7B,kBAAkB,mBAAO,CAAC,iEAAmB;;AAE7C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,OAAO;AACzB;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;;;;;AC5Ge;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACb6E;AAC9D;AACf;AACA,eAAe,4EAA4B;AAC3C;;AAEA;AACA;;AAEA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AClBe;AACf;AACA;AACA;AACA;;AAEA,cAAc,uBAAuB;AACrC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACZe;;AAEf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qBAAqB,uCAAuC;;AAE5D;AACA;;AAEA;AACA;AACA,wCAAwC,QAAQ;AAChD;;AAEA;AACA;;AAEA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kDAAkD;AAClD;AACA;;AAEA,cAAc;AACd,iDAAiD;AACjD;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;UC7FA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAenD,yCAAf,E","sources":["webpack://Nebula/webpack/universalModuleDefinition","webpack://Nebula/./src/behaviour/Alpha.js","webpack://Nebula/./src/behaviour/Attraction.js","webpack://Nebula/./src/behaviour/Behaviour.js","webpack://Nebula/./src/behaviour/Collision.js","webpack://Nebula/./src/behaviour/Color.js","webpack://Nebula/./src/behaviour/CrossZone.js","webpack://Nebula/./src/behaviour/Force.js","webpack://Nebula/./src/behaviour/Gravity.js","webpack://Nebula/./src/behaviour/RandomDrift.js","webpack://Nebula/./src/behaviour/Repulsion.js","webpack://Nebula/./src/behaviour/Rotate.js","webpack://Nebula/./src/behaviour/Scale.js","webpack://Nebula/./src/behaviour/Spring.js","webpack://Nebula/./src/behaviour/constants.js","webpack://Nebula/./src/behaviour/index.js","webpack://Nebula/./src/behaviour/types.js","webpack://Nebula/./src/constants/index.js","webpack://Nebula/./src/core/Particle.js","webpack://Nebula/./src/core/Pool.js","webpack://Nebula/./src/core/System.js","webpack://Nebula/./src/core/constants.js","webpack://Nebula/./src/core/fromJSON.js","webpack://Nebula/./src/core/fromJSONAsync.js","webpack://Nebula/./src/core/index.js","webpack://Nebula/./src/core/three/Euler.js","webpack://Nebula/./src/core/three/Math.js","webpack://Nebula/./src/core/three/Matrix4.js","webpack://Nebula/./src/core/three/Quaternion.js","webpack://Nebula/./src/core/three/Vector3.js","webpack://Nebula/./src/core/three/constants.js","webpack://Nebula/./src/core/three/index.js","webpack://Nebula/./src/core/types.js","webpack://Nebula/./src/debug/Debug.js","webpack://Nebula/./src/debug/constants.js","webpack://Nebula/./src/debug/index.js","webpack://Nebula/./src/debug/log.js","webpack://Nebula/./src/ease/index.js","webpack://Nebula/./src/emitter/Emitter.js","webpack://Nebula/./src/emitter/FollowEmitter.js","webpack://Nebula/./src/emitter/constants.js","webpack://Nebula/./src/emitter/index.js","webpack://Nebula/./src/emitter/types.js","webpack://Nebula/./src/events/EventDispatcher.js","webpack://Nebula/./src/events/constants.js","webpack://Nebula/./src/events/index.js","webpack://Nebula/./src/initializer/Body.js","webpack://Nebula/./src/initializer/BodySprite.js","webpack://Nebula/./src/initializer/Initializer.js","webpack://Nebula/./src/initializer/InitializerUtil.js","webpack://Nebula/./src/initializer/Life.js","webpack://Nebula/./src/initializer/Mass.js","webpack://Nebula/./src/initializer/Position.js","webpack://Nebula/./src/initializer/Radius.js","webpack://Nebula/./src/initializer/Rate.js","webpack://Nebula/./src/initializer/Texture.js","webpack://Nebula/./src/initializer/Velocity/PolarVelocity.js","webpack://Nebula/./src/initializer/Velocity/RadialVelocity.js","webpack://Nebula/./src/initializer/Velocity/VectorVelocity.js","webpack://Nebula/./src/initializer/Velocity/Velocity.js","webpack://Nebula/./src/initializer/Velocity/index.js","webpack://Nebula/./src/initializer/constants.js","webpack://Nebula/./src/initializer/index.js","webpack://Nebula/./src/initializer/types.js","webpack://Nebula/./src/math/ArraySpan.js","webpack://Nebula/./src/math/Box.js","webpack://Nebula/./src/math/ColorSpan.js","webpack://Nebula/./src/math/MathUtils.js","webpack://Nebula/./src/math/Polar3D.js","webpack://Nebula/./src/math/Span.js","webpack://Nebula/./src/math/Vector3D.js","webpack://Nebula/./src/math/constants.js","webpack://Nebula/./src/math/index.js","webpack://Nebula/./src/math/integration.js","webpack://Nebula/./src/math/types.js","webpack://Nebula/./src/renderer/BaseRenderer.js","webpack://Nebula/./src/renderer/CustomRenderer.js","webpack://Nebula/./src/renderer/GPURenderer/Desktop/index.js","webpack://Nebula/./src/renderer/GPURenderer/Desktop/shaders/fragmentShader.js","webpack://Nebula/./src/renderer/GPURenderer/Desktop/shaders/index.js","webpack://Nebula/./src/renderer/GPURenderer/Desktop/shaders/vertexShader.js","webpack://Nebula/./src/renderer/GPURenderer/Mobile/index.js","webpack://Nebula/./src/renderer/GPURenderer/Mobile/shaders/fragmentShader.js","webpack://Nebula/./src/renderer/GPURenderer/Mobile/shaders/index.js","webpack://Nebula/./src/renderer/GPURenderer/Mobile/shaders/vertexShader.js","webpack://Nebula/./src/renderer/GPURenderer/common/ParticleBuffer/constants.js","webpack://Nebula/./src/renderer/GPURenderer/common/ParticleBuffer/index.js","webpack://Nebula/./src/renderer/GPURenderer/common/TextureAtlas/constants.js","webpack://Nebula/./src/renderer/GPURenderer/common/TextureAtlas/index.js","webpack://Nebula/./src/renderer/GPURenderer/common/constants.js","webpack://Nebula/./src/renderer/GPURenderer/common/index.js","webpack://Nebula/./src/renderer/GPURenderer/common/shaders/constants.js","webpack://Nebula/./src/renderer/GPURenderer/common/stores/Target.js","webpack://Nebula/./src/renderer/GPURenderer/common/stores/UniqueList.js","webpack://Nebula/./src/renderer/GPURenderer/common/stores/index.js","webpack://Nebula/./src/renderer/GPURenderer/index.js","webpack://Nebula/./src/renderer/MeshRenderer.js","webpack://Nebula/./src/renderer/SpriteRenderer.js","webpack://Nebula/./src/renderer/index.js","webpack://Nebula/./src/renderer/types.js","webpack://Nebula/./src/utils/ColorUtil.js","webpack://Nebula/./src/utils/PUID.js","webpack://Nebula/./src/utils/THREEUtil.js","webpack://Nebula/./src/utils/Util.js","webpack://Nebula/./src/utils/index.js","webpack://Nebula/./src/utils/uid.js","webpack://Nebula/./src/zone/BoxZone.js","webpack://Nebula/./src/zone/LineZone.js","webpack://Nebula/./src/zone/MeshZone.js","webpack://Nebula/./src/zone/PointZone.js","webpack://Nebula/./src/zone/ScreenZone.js","webpack://Nebula/./src/zone/SphereZone.js","webpack://Nebula/./src/zone/Zone.js","webpack://Nebula/./src/zone/index.js","webpack://Nebula/./src/zone/types.js","webpack://Nebula/./node_modules/lodash/_Symbol.js","webpack://Nebula/./node_modules/lodash/_arrayLikeKeys.js","webpack://Nebula/./node_modules/lodash/_arrayMap.js","webpack://Nebula/./node_modules/lodash/_arraySample.js","webpack://Nebula/./node_modules/lodash/_baseGetTag.js","webpack://Nebula/./node_modules/lodash/_baseIsArguments.js","webpack://Nebula/./node_modules/lodash/_baseIsTypedArray.js","webpack://Nebula/./node_modules/lodash/_baseKeys.js","webpack://Nebula/./node_modules/lodash/_baseRandom.js","webpack://Nebula/./node_modules/lodash/_baseSample.js","webpack://Nebula/./node_modules/lodash/_baseTimes.js","webpack://Nebula/./node_modules/lodash/_baseUnary.js","webpack://Nebula/./node_modules/lodash/_baseValues.js","webpack://Nebula/./node_modules/lodash/_freeGlobal.js","webpack://Nebula/./node_modules/lodash/_getRawTag.js","webpack://Nebula/./node_modules/lodash/_isIndex.js","webpack://Nebula/./node_modules/lodash/_isPrototype.js","webpack://Nebula/./node_modules/lodash/_nativeKeys.js","webpack://Nebula/./node_modules/lodash/_nodeUtil.js","webpack://Nebula/./node_modules/lodash/_objectToString.js","webpack://Nebula/./node_modules/lodash/_overArg.js","webpack://Nebula/./node_modules/lodash/_root.js","webpack://Nebula/./node_modules/lodash/isArguments.js","webpack://Nebula/./node_modules/lodash/isArray.js","webpack://Nebula/./node_modules/lodash/isArrayLike.js","webpack://Nebula/./node_modules/lodash/isBuffer.js","webpack://Nebula/./node_modules/lodash/isFunction.js","webpack://Nebula/./node_modules/lodash/isLength.js","webpack://Nebula/./node_modules/lodash/isNumber.js","webpack://Nebula/./node_modules/lodash/isObject.js","webpack://Nebula/./node_modules/lodash/isObjectLike.js","webpack://Nebula/./node_modules/lodash/isTypedArray.js","webpack://Nebula/./node_modules/lodash/keys.js","webpack://Nebula/./node_modules/lodash/sample.js","webpack://Nebula/./node_modules/lodash/stubFalse.js","webpack://Nebula/./node_modules/lodash/values.js","webpack://Nebula/./node_modules/uuid/lib/bytesToUuid.js","webpack://Nebula/./node_modules/uuid/lib/rng-browser.js","webpack://Nebula/./node_modules/uuid/v1.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://Nebula/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://Nebula/./node_modules/potpack/index.mjs","webpack://Nebula/webpack/bootstrap","webpack://Nebula/webpack/runtime/compat get default export","webpack://Nebula/webpack/runtime/define property getters","webpack://Nebula/webpack/runtime/global","webpack://Nebula/webpack/runtime/hasOwnProperty shorthand","webpack://Nebula/webpack/runtime/make namespace object","webpack://Nebula/webpack/runtime/node module decorator","webpack://Nebula/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nebula\"] = factory();\n\telse\n\t\troot[\"Nebula\"] = factory();\n})(this, function() {\nreturn ","import { MathUtils, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { PARTICLE_ALPHA_THRESHOLD } from './constants';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_ALPHA as type } from './types';\n\n/**\n * Behaviour that applies an alpha transition effect to particles.\n *\n */\nexport default class Alpha extends Behaviour {\n  /**\n   * Constructs an Alpha behaviour instance.\n   *\n   * @param {number} alphaA - The starting alpha value\n   * @param {?number} alphaB - The ending alpha value\n   * @param {number} life - The life of the behaviour\n   * @param {function} easing - The easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(alphaA = 1, alphaB = null, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    /**\n     * @desc The starting alpha value\n     * @type {number|Span}\n     */\n    this.alphaA = alphaA;\n\n    /**\n     * @desc The ending alpha value\n     * @type {number|Span}\n     */\n    this.alphaB = alphaB;\n\n    this.reset(alphaA, alphaB);\n  }\n\n  /**\n   * Gets the _same property which determines if the alpha are the same.\n   *\n   * @return {boolean}\n   */\n  get same() {\n    return this._same;\n  }\n\n  /**\n   * Sets the _same property which determines if the alpha are the same.\n   *\n   * @param {boolean} same\n   * @return {boolean}\n   */\n  set same(same) {\n    /**\n     * @type {boolean}\n     */\n    this._same = same;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} alphaA - the starting alpha value\n   * @param {?number} alphaB - the ending alpha value\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @return void\n   */\n  reset(alphaA = 1, alphaB = null, life, easing) {\n    this.same = alphaB === null || alphaB === undefined ? true : false;\n    this.alphaA = createSpan(alphaA);\n    this.alphaB = createSpan(alphaB);\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initializes the behaviour on a particle.\n   *\n   * @param {object} particle - the particle to initialize the behaviour on\n   * @return void\n   */\n  initialize(particle) {\n    particle.useAlpha = true;\n    particle.transform.alphaA = this.alphaA.getValue();\n\n    particle.transform.alphaB = this.same\n      ? particle.transform.alphaA\n      : this.alphaB.getValue();\n  }\n\n  /**\n   * Mutates the target's alpha/opacity property.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.alpha = MathUtils.lerp(\n      particle.transform.alphaA,\n      particle.transform.alphaB,\n      this.energy\n    );\n\n    if (particle.alpha < PARTICLE_ALPHA_THRESHOLD) {\n      particle.alpha = 0;\n    }\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.alphaA - The starting alpha value\n   * @property {number} json.alphaB - The ending alpha value\n   * @property {number} json.life - The life of the behaviour\n   * @property {string} json.easing - The easing equation to use for transforms\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { alphaA, alphaB, life, easing, isEnabled = true } = json;\n\n    return new Alpha(alphaA, alphaB, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import {\n  DEFAULT_ATTRACITON_RADIUS,\n  DEFAULT_ATTRACTION_FORCE_SCALAR,\n  DEFAULT_BEHAVIOUR_EASING,\n  DEFAULT_LIFE,\n  PARTICLE_LENGTH_SQ_THRESHOLD,\n} from './constants';\n\nimport Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_ATTRACTION as type } from './types';\n\n/**\n * Behaviour that causes particles to be attracted to a target position.\n *\n */\nexport default class Attraction extends Behaviour {\n  /**\n   * Constructs an Attraction behaviour instance.\n   *\n   * @param {Vector3D} targetPosition - The position the particles will be attracted to\n   * @param {number} force - The attraction force scalar multiplier\n   * @param {number} radius - The attraction radius\n   * @param {number} [life=DEFAULT_LIFE] - The life of the particle\n   * @param {function} [easing=DEFAULT_BEHAVIOUR_EASING] - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(\n    targetPosition = new Vector3D(),\n    force = DEFAULT_ATTRACTION_FORCE_SCALAR,\n    radius = DEFAULT_ATTRACITON_RADIUS,\n    life = DEFAULT_LIFE,\n    easing = DEFAULT_BEHAVIOUR_EASING,\n    isEnabled = true\n  ) {\n    super(life, easing, type, isEnabled);\n\n    /**\n     * @desc The position the particles will be attracted to\n     * @type {Vector3D}\n     */\n    this.targetPosition = targetPosition;\n\n    /**\n     * @desc The attraction radius\n     * @type {number} - the attraction radius\n     */\n    this.radius = radius;\n\n    /**\n     * @desc The attraction force scalar multiplier\n     * @type {number}\n     */\n    this.force = this.normalizeValue(force);\n\n    /**\n     * @desc The radius of the attraction squared\n     * @type {number}\n     */\n    this.radiusSq = this.radius * this.radius;\n\n    /**\n     * @desc The attraction force in 3D space\n     * @type {Vector3D}\n     */\n    this.attractionForce = new Vector3D();\n\n    /**\n     * @desc The linear attraction force\n     * @type {number}\n     */\n    this.lengthSq = 0;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Vector3D} targetPosition - the position the particles will be attracted to\n   * @param {number} force - the attraction force multiplier\n   * @param {number} radius - the attraction radius\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  reset(\n    targetPosition = new Vector3D(),\n    force = DEFAULT_ATTRACTION_FORCE_SCALAR,\n    radius = DEFAULT_ATTRACITON_RADIUS,\n    life,\n    easing\n  ) {\n    this.targetPosition = targetPosition;\n    this.radius = radius;\n    this.force = this.normalizeValue(force);\n    this.radiusSq = this.radius * this.radius;\n    this.attractionForce = new Vector3D();\n    this.lengthSq = 0;\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Mutates particle acceleration.\n   *\n   * @param {Particle} particle - the particle to apply the behaviour to\n   * @param {number} time - particle engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    this.attractionForce.copy(this.targetPosition);\n    this.attractionForce.sub(particle.position);\n\n    this.lengthSq = this.attractionForce.lengthSq();\n\n    if (\n      this.lengthSq > PARTICLE_LENGTH_SQ_THRESHOLD &&\n      this.lengthSq < this.radiusSq\n    ) {\n      this.attractionForce.normalize();\n      this.attractionForce.scalar(1 - this.lengthSq / this.radiusSq);\n      this.attractionForce.scalar(this.force);\n\n      particle.acceleration.add(this.attractionForce);\n    }\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.x - The target position x value\n   * @property {number} json.y - The target position y value\n   * @property {number} json.z - The target position z value\n   * @property {number} json.force - The attraction force scalar multiplier\n   * @property {number} json.life - The life of the particle\n   * @property {string} json.easing - The behaviour's decaying trend\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { x, y, z, force, radius, life, easing, isEnabled = true } = json;\n\n    return new Attraction(\n      new Vector3D(x, y, z),\n      force,\n      radius,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import { DEFAULT_BEHAVIOUR_EASING, DEFAULT_LIFE } from './constants';\n\nimport { BEHAVIOUR_TYPE_ABSTRACT } from './types';\nimport { MEASURE } from '../constants';\nimport isNumber from 'lodash/isNumber';\nimport { uid } from '../utils';\n\n/**\n * The base behaviour class.\n * Behaviours manage a particle's behaviour after they have been emitted.\n *\n */\nexport default class Behaviour {\n  /**\n   * Constructs a Behaviour instance.\n   *\n   * @param {number} [life=Infinity] - The life of the behaviour\n   * @param {function} [easing=DEFAULT_BEHAVIOUR_EASING] - The behaviour's decaying trend\n   * @param {string} [type=BEHAVIOUR_TYPE_ABSTRACT] - The behaviour type\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(\n    life = Infinity,\n    easing = DEFAULT_BEHAVIOUR_EASING,\n    type = BEHAVIOUR_TYPE_ABSTRACT,\n    isEnabled = true\n  ) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc Determines if the behaviour will be applied or not\n     * @type {boolean}\n     */\n    this.isEnabled = isEnabled;\n\n    /**\n     * @desc The behaviour's id\n     * @type {string} id\n     */\n    this.id = `behaviour-${uid()}`;\n\n    /**\n     * @desc The life of the behaviour\n     * @type {number}\n     */\n    this.life = life;\n\n    /**\n     * @desc The behaviour's decaying trend\n     * @type {function}\n     */\n    this.easing = easing;\n\n    /**\n     * @desc The age of the behaviour\n     * @type {number}\n     */\n    this.age = 0;\n\n    /**\n     * @desc The energy of the behaviour\n     * @type {number}\n     */\n    this.energy = 1;\n\n    /**\n     * Determines if the behaviour is dead or not\n     * @type {boolean}\n     */\n    this.dead = false;\n  }\n\n  /**\n   * Reset this behaviour's parameters\n   *\n   * @param {number} [life=DEFAULT_LIFE] - The life of the behaviour\n   * @param {function} [easing=DEFAULT_BEHAVIOUR_EASING] - The behaviour's decaying trend\n   */\n  reset(life = DEFAULT_LIFE, easing = DEFAULT_BEHAVIOUR_EASING) {\n    this.life = life;\n    this.easing = easing || DEFAULT_BEHAVIOUR_EASING;\n  }\n\n  /**\n   * Ensures that life is infinity if an invalid value is supplied.\n   *\n   * @return void\n   */\n  set life(life) {\n    this._life = isNumber(life) ? life : DEFAULT_LIFE;\n  }\n\n  /**\n   * Gets the behaviour's life.\n   *\n   * @return {Number}\n   */\n  get life() {\n    return this._life;\n  }\n\n  /**\n   * Normalize a force by 1:100;\n   *\n   * @param {Vector3D} force - The force to normalize.\n   * @return {Vector3D}\n   */\n  normalizeForce(force) {\n    return force.scalar(MEASURE);\n  }\n\n  /**\n   * Normalize a value by 1:100;\n   *\n   * @param {number} value - The value to normalize\n   * @return {number}\n   */\n  normalizeValue(value) {\n    return value * MEASURE;\n  }\n\n  /**\n   * Set the behaviour's initial properties on the particle.\n   *\n   * @param {Particle} particle\n   * @abstract\n   */\n  initialize(particle) {} // eslint-disable-line\n\n  /**\n   * Apply behaviour to the target as a factor of time.\n   * Internally calls the mutate method to change properties on the target\n   * Will not do so if the behaviour is disabled\n   *\n   * @abstract\n   * @param {Particle|Emitter} target - The particle or emitter to apply the behaviour to\n   * @param {Number} time - the system integration time\n   * @param {integer} index - the target index\n   * @return mixed\n   */\n  applyBehaviour(target, time, index) {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    this.mutate(target, time, index);\n  }\n\n  /**\n   * Change the target's properties according to specific behaviour logic.\n   *\n   * @abstract\n   * @param {Particle|Emitter} target - The particle or emitter to apply the behaviour to\n   * @param {Number} time - the system integration time\n   * @return mixed\n   */\n  mutate(target, time, index) {} // eslint-disable-line\n\n  /**\n   * Compares the age of the behaviour vs integration time and determines\n   * if the behaviour should be set to dead or not.\n   * Sets the behaviour energy as a factor of particle age and life.\n   *\n   * @param {Particle} particle - The particle to apply the behaviour to\n   * @param {Number} time - the system integration time\n   * @return void\n   */\n  energize(particle, time) {\n    if (this.dead) {\n      return;\n    }\n\n    this.age += time;\n\n    if (this.age >= this.life) {\n      this.energy = 0;\n      this.dead = true;\n\n      return;\n    }\n\n    const scale = this.easing(particle.age / particle.life);\n\n    this.energy = Math.max(1 - scale, 0);\n  }\n\n  /**\n   * Destory this behaviour.\n   *\n   * @abstract\n   */\n  destroy() {}\n\n  /**\n   * Returns a new instance of the behaviour from the JSON object passed.\n   *\n   * @abstract\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Behaviour}\n   */\n  fromJSON(json) {} // eslint-disable-line\n}\n","import Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { BEHAVIOUR_TYPE_COLLISION as type } from './types';\n\n/**\n * Behaviour that causes particles to move away from other particles they collide with.\n */\nexport default class Collision extends Behaviour {\n  /**\n   * Constructs a Collision behaviour instance.\n   *\n   * @param {Emitter} emitter - The emitter containing the particles to detect collisions against\n   * @param {boolean} useMass - Determiens whether to use mass or not\n   * @param {function} onCollide - Function to call when particles collide\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(emitter, useMass, onCollide, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(emitter, useMass, onCollide);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Emitter} emitter - The emitter containing the particles to detect collisions against\n   * @param {boolean} useMass - Determiens whether to use mass or not\n   * @param {function} onCollide - Function to call when particles collide\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  reset(emitter, useMass, onCollide, life, easing) {\n    this.emitter = emitter;\n    this.useMass = useMass;\n    this.onCollide = onCollide;\n    this.particles = [];\n    this.delta = new Vector3D();\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Detects collisions with other particles and calls the\n   * onCollide function on colliding particles.\n   *\n   * @param {Particle} particle - the particle to apply the behaviour to\n   * @param {number} time - particle engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    const particles = this.emitter\n      ? this.emitter.particles.slice(index)\n      : this.particles.slice(index);\n\n    let otherParticle, lengthSq, overlap, distance, averageMass1, averageMass2;\n\n    let i = particles.length;\n\n    while (i--) {\n      otherParticle = particles[i];\n\n      if (otherParticle == particle) {\n        continue;\n      }\n\n      this.delta.copy(otherParticle.position).sub(particle.position);\n\n      lengthSq = this.delta.lengthSq();\n      distance = particle.radius + otherParticle.radius;\n\n      if (lengthSq <= distance * distance) {\n        overlap = distance - Math.sqrt(lengthSq);\n        overlap += 0.5;\n\n        averageMass1 = this._getAverageMass(particle, otherParticle);\n        averageMass2 = this._getAverageMass(otherParticle, particle);\n\n        particle.position.add(\n          this.delta\n            .clone()\n            .normalize()\n            .scalar(overlap * -averageMass1)\n        );\n\n        otherParticle.position.add(\n          this.delta.normalize().scalar(overlap * averageMass2)\n        );\n\n        this.onCollide && this.onCollide(particle, otherParticle);\n      }\n    }\n  }\n\n  /**\n   * Gets the average mass of both particles.\n   *\n   * @param {Particle} particleA - The first particle\n   * @param {Particle} particleB - The second particle\n   * @return {number}\n   */\n  _getAverageMass(particleA, particleB) {\n    return this.useMass\n      ? particleB.mass / (particleA.mass + particleB.mass)\n      : 0.5;\n  }\n\n  // TODO\n  fromJSON(json) {} // eslint-disable-line\n}\n","import { MathUtils, createColorSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { ColorUtil } from '../utils';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_COLOR as type } from './types';\n\n/**\n * A behaviour which mutates the color of a particle over time.\n *\n */\nexport default class Color extends Behaviour {\n  /**\n   * Constructs a Color behaviour instance.\n   *\n   * @param {number|string} colorA - the starting color\n   * @param {number|string} colorB - the ending color\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(colorA, colorB, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(colorA, colorB);\n  }\n\n  /**\n   * Gets the _same property which determines if the alpha are the same.\n   *\n   * @return {boolean}\n   */\n  get same() {\n    return this._same;\n  }\n\n  /**\n   * Sets the _same property which determines if the alpha are the same.\n   *\n   * @param {boolean} same\n   * @return {boolean}\n   */\n  set same(same) {\n    /**\n     * @type {boolean}\n     */\n    this._same = same;\n  }\n\n  reset(colorA, colorB, life, easing) {\n    this.same = colorB === null || colorB === undefined ? true : false;\n\n    this.colorA = createColorSpan(colorA);\n    this.colorB = createColorSpan(colorB);\n    life && super.reset(life, easing);\n  }\n\n  initialize(particle) {\n    particle.transform.colorA = ColorUtil.getRGB(this.colorA.getValue());\n\n    particle.useColor = true;\n    particle.transform.colorB = this.same\n      ? particle.transform.colorA\n      : ColorUtil.getRGB(this.colorB.getValue());\n  }\n\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    if (!this._same) {\n      particle.color.r = MathUtils.lerp(\n        particle.transform.colorA.r,\n        particle.transform.colorB.r,\n        this.energy\n      );\n      particle.color.g = MathUtils.lerp(\n        particle.transform.colorA.g,\n        particle.transform.colorB.g,\n        this.energy\n      );\n      particle.color.b = MathUtils.lerp(\n        particle.transform.colorA.b,\n        particle.transform.colorB.b,\n        this.energy\n      );\n    } else {\n      particle.color.r = particle.transform.colorA.r;\n      particle.color.g = particle.transform.colorA.g;\n      particle.color.b = particle.transform.colorA.b;\n    }\n  }\n\n  /**\n   * Creates a Color initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.colorA - The starting color\n   * @property {number} json.colorB - The ending color\n   * @property {number} json.life - The life of the particle\n   * @property {string} json.easing - The behaviour's decaying trend\n   * @return {Color}\n   */\n  static fromJSON(json) {\n    const { colorA, colorB, life, easing, isEnabled = true } = json;\n\n    return new Color(colorA, colorB, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import * as Zone from '../zone';\n\nimport Behaviour from './Behaviour';\nimport { DEFAULT_CROSS_TYPE } from './constants';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_CROSS_ZONE as type } from './types';\n\n/**\n * Behaviour that allows for specific functions to be called on particles when\n * they interact with a zone.\n *\n */\nexport default class CrossZone extends Behaviour {\n  /**\n   * Constructs a CrossZone behaviour instance.\n   *\n   * @param {Zone} zone - the zone used to apply to particles with this behaviour\n   * @param {string} [crossType=DEFAULT_CROSS_TYPE] - enum of cross types, valid strings include 'dead', 'bound', 'cross'\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   */\n  constructor(zone, crossType, life, easing, isEnabled) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(zone, crossType);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Zone} zone - the zone used to apply to particles with this behaviour\n   * @param {string} [crossType=DEFAULT_CROSS_TYPE] - enum of cross types, valid strings include 'dead', 'bound', 'cross'\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   */\n  reset(zone, crossType = DEFAULT_CROSS_TYPE, life, easing) {\n    /**\n     * @desc The zone used to apply to particles with this behaviour\n     * @type {Zone}\n     */\n    this.zone = zone;\n    this.zone.crossType = crossType;\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Applies the behaviour to the particle.\n   *\n   * @see {@link '../zone/Zone.js'} crossing\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    this.zone.crossing.call(this.zone, particle);\n  }\n\n  /**\n   * Creates a CrossZone initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @return {CrossZone}\n   */\n  static fromJSON(json) {\n    const {\n      zoneType,\n      zoneParams,\n      crossType,\n      life,\n      easing,\n      isEnabled = true,\n    } = json;\n\n    const zone = new Zone[zoneType](...Object.values(zoneParams));\n\n    return new CrossZone(\n      zone,\n      crossType,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_FORCE as type } from './types';\n/**\n * Behaviour that forces particles along a specific axis.\n *\n */\nexport default class Force extends Behaviour {\n  /**\n   * Constructs a Force behaviour instance.\n   *\n   * @param {number} fx - the x axis force\n   * @param {number} fy - the y axis force\n   * @param {number} fz - the z axis force\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(fx, fy, fz, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(fx, fy, fz);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} fx - the x axis force\n   * @param {number} fy - the y axis force\n   * @param {number} fz - the z axis force\n   */\n  reset(fx, fy, fz) {\n    /**\n     * @desc The normalized force to exert on the particle in\n     * @type {Vector3D}\n     */\n    this.force = this.normalizeForce(new Vector3D(fx, fy, fz));\n\n    /**\n     * @desc The id of the force vector\n     * @property {number} this.force.id\n     */\n    this.force.id = Math.random();\n  }\n\n  /**\n   * Mutates the particle.acceleration property.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.acceleration.add(this.force);\n  }\n\n  /**\n   * Creates a Force initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @return {Force}\n   */\n  static fromJSON(json) {\n    const { fx, fy, fz, life, easing, isEnabled = true } = json;\n\n    return new Force(fx, fy, fz, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import Force from './Force';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_GRAVITY as type } from './types';\n\n/**\n * Behaviour that forces particles down the y axis.\n *\n */\nexport default class Gravity extends Force {\n  /**\n   * Constructs a Gravity behaviour instance.\n   *\n   * @param {number} gravity - the force to pull the particle down the y axis\n   * @param {number} life - the life of the particle\n   * @param {string} easing - the easing equation to use\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(gravity, life, easing, isEnabled = true) {\n    super(0, -gravity, 0, life, easing, isEnabled);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n  }\n\n  static fromJSON(json) {\n    const { gravity, life, easing, isEnabled = true } = json;\n\n    return new Gravity(gravity, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import { MathUtils, Vector3D, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { DEFAULT_RANDOM_DRIFT_DELAY } from './constants';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_RANDOM_DRIFT as type } from './types';\n\n/**\n * Behaviour that causes particles to drift to random coordinates in 3D space.\n *\n */\nexport default class RandomDrift extends Behaviour {\n  /**\n   * Constructs a RandomDrift behaviour instance.\n   *\n   * @param {number} driftX - x axis drift\n   * @param {number} driftY - y axis drift\n   * @param {number} driftZ - z axis drift\n   * @param {number} [delay=DEFAULT_RANDOM_DRIFT_DELAY] - drift delay\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  constructor(\n    driftX,\n    driftY,\n    driftZ,\n    delay = DEFAULT_RANDOM_DRIFT_DELAY,\n    life,\n    easing,\n    isEnabled = true\n  ) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(driftX, driftY, driftZ, delay);\n\n    /**\n     * @desc Internal time used for calculating drift vs internal delay.\n     * @type {number}\n     */\n    this.time = 0;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} driftX - x axis drift\n   * @param {number} driftY - y axis drift\n   * @param {number} driftZ - z axis drift\n   * @param {number} [delay=DEFAULT_RANDOM_DRIFT_DELAY] - drift delay\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   */\n  reset(\n    driftX,\n    driftY,\n    driftZ,\n    delay = DEFAULT_RANDOM_DRIFT_DELAY,\n    life,\n    easing\n  ) {\n    /**\n     * @desc A Vector3D that stores the drift properties.\n     * @type {Vector3D}\n     */\n    this.randomForce = this.normalizeForce(\n      new Vector3D(driftX, driftY, driftZ)\n    );\n    /**\n     * @desc A Span containing the delay supplied.\n     * @type {Span}\n     */\n    this.delayPan = createSpan(delay);\n    this.time = 0;\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Mutates the particle.acceleration property.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    this.time += time;\n\n    if (this.time >= this.delayPan.getValue()) {\n      const ax = MathUtils.randomAToB(-this.randomForce.x, this.randomForce.x);\n      const ay = MathUtils.randomAToB(-this.randomForce.y, this.randomForce.y);\n      const az = MathUtils.randomAToB(-this.randomForce.z, this.randomForce.z);\n\n      particle.acceleration.addValue(ax, ay, az);\n\n      this.time = 0;\n    }\n  }\n\n  static fromJSON(json) {\n    const { x, y, z, delay, life, easing, isEnabled = true } = json;\n\n    return new RandomDrift(\n      x,\n      y,\n      z,\n      delay,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import Attraction from './Attraction';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_REPULSION as type } from './types';\n/**\n * Behaviour that causes particles to be repelled from a target position.\n *\n */\nexport default class Repulsion extends Attraction {\n  /**\n   * Constructs an Repulsion behaviour instance.\n   *\n   * @param {Vector3D} targetPosition - The position the particles will be repelled from\n   * @param {number} force - The repulsion force scalar multiplier\n   * @param {number} radius - The repulsion radius\n   * @param {number} life - The life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  constructor(targetPosition, force, radius, life, easing, isEnabled = true) {\n    super(targetPosition, force, radius, life, easing, isEnabled);\n\n    /**\n     * @desc Repulsion is attraction with negative force.\n     * @type {number}\n     */\n    this.force *= -1;\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {Vector3D} targetPosition - the position the particles will be attracted to\n   * @param {number} force - the attraction force multiplier\n   * @param {number} radius - the attraction radius\n   * @param {number} life - the life of the particle\n   * @param {function} easing - The behaviour's decaying trend\n   * @return void\n   */\n  reset(targetPosition, force, radius, life, easing) {\n    super.reset(targetPosition, force, radius, life, easing);\n    this.force *= -1;\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.x - The target position x value\n   * @property {number} json.y - The target position y value\n   * @property {number} json.z - The target position z value\n   * @property {number} json.force - The attraction force scalar multiplier\n   * @property {number} json.life - The life of the particle\n   * @property {string} json.easing - The behaviour's decaying trend\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { x, y, z, force, radius, life, easing, isEnabled = true } = json;\n\n    return new Repulsion(\n      new Vector3D(x, y, z),\n      force,\n      radius,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import { DR, PI } from '../constants';\nimport { MathUtils, Vector3D, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_ROTATE as type } from './types';\n\n/**\n * Behaviour that rotates particles.\n */\nexport default class Rotate extends Behaviour {\n  /**\n   * Constructs a Rotate behaviour instance.\n   *\n   * @param {number} x - X axis rotation\n   * @param {number} y - Y axis rotation\n   * @param {number} z - Z axis rotation\n   * @param {number} life - The life of the behaviour\n   * @param {function} easing - The easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(x, y, z, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(x, y, z);\n  }\n\n  /**\n   * Gets the rotation type.\n   *\n   * @return {string}\n   */\n  get rotationType() {\n    return this._rotationType;\n  }\n\n  /**\n   * Sets the rotation type.\n   *\n   * @param {string}\n   * @return void\n   */\n  set rotationType(rotationType) {\n    /**\n     * @desc The rotation type. ENUM of ['same', 'set', 'to', 'add'].\n     * @type {string}\n     */\n    this._rotationType = rotationType;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} x - X axis rotation\n   * @param {number} y - Y axis rotation\n   * @param {number} z - Z axis rotation\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @return void\n   */\n  reset(x, y, z, life, easing) {\n    /**\n     * @desc X axis rotation.\n     * @type {number|Span}\n     */\n    this.x = x || 0;\n\n    /**\n     * @desc Y axis rotation.\n     * @type {number|Span}\n     */\n    this.y = y || 0;\n\n    /**\n     * @desc Z axis rotation.\n     * @type {number|Span}\n     */\n    this.z = z || 0;\n\n    if (x === undefined || x == 'same') {\n      this.rotationType = 'same';\n    } else if (y == undefined) {\n      this.rotationType = 'set';\n    } else if (z === undefined) {\n      this.rotationType = 'to';\n    } else {\n      this.rotationType = 'add';\n      this.x = createSpan(this.x * DR);\n      this.y = createSpan(this.y * DR);\n      this.z = createSpan(this.z * DR);\n    }\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initializes the behaviour on a particle.\n   *\n   * @param {object} particle - the particle to initialize the behaviour on\n   * @return void\n   */\n  initialize(particle) {\n    switch (this.rotationType) {\n      case 'same':\n        break;\n\n      case 'set':\n        this._setRotation(particle.rotation, this.x);\n        break;\n\n      case 'to':\n        particle.transform.fR = particle.transform.fR || new Vector3D();\n        particle.transform.tR = particle.transform.tR || new Vector3D();\n        this._setRotation(particle.transform.fR, this.x);\n        this._setRotation(particle.transform.tR, this.y);\n        break;\n\n      case 'add':\n        particle.transform.addR = new Vector3D(\n          this.x.getValue(),\n          this.y.getValue(),\n          this.z.getValue()\n        );\n        break;\n    }\n  }\n\n  /**\n   * Sets the particle's rotation prior to the behaviour being applied.\n   *\n   * NOTE It's hard to see here, but this is mutating the particle's rotation\n   * even though the particle is not being passed in directly.\n   *\n   * NOTE the else if below will never be reached because the value being passed in\n   * will never be of type Vector3D.\n   *\n   * @param {Vector3D} particleRotation - the particle's rotation vector\n   * @param {string|number} value - the value to set the rotation value to, if 'random'\n   * rotation is randomised\n   * @return void\n   */\n  _setRotation(particleRotation, value) {\n    particleRotation = particleRotation || new Vector3D();\n    if (value == 'random') {\n      var x = MathUtils.randomAToB(-PI, PI);\n      var y = MathUtils.randomAToB(-PI, PI);\n      var z = MathUtils.randomAToB(-PI, PI);\n\n      particleRotation.set(x, y, z);\n    }\n    // we can't ever get here because value will never be a Vector3D!\n    // consider refactoring to\n    //  if (value instance of Span) { vec3.add(value.getValue()); }\n    else if (value instanceof Vector3D) {\n      particleRotation.copy(value);\n    }\n  }\n\n  /**\n   * Mutates the particle.rotation property.\n   *\n   * @see http://stackoverflow.com/questions/21622956/how-to-convert-direction-vector-to-euler-angles\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    switch (this.rotationType) {\n      // orients the particle in the direction it is moving\n      case 'same':\n        if (!particle.rotation) {\n          particle.rotation = new Vector3D();\n        }\n\n        particle.rotation.eulerFromDir(particle.velocity);\n        break;\n\n      case 'set':\n        //\n        break;\n\n      case 'to':\n        particle.rotation.x = MathUtils.lerp(\n          particle.transform.fR.x,\n          particle.transform.tR.x,\n          this.energy\n        );\n        particle.rotation.y = MathUtils.lerp(\n          particle.transform.fR.y,\n          particle.transform.tR.y,\n          this.energy\n        );\n        particle.rotation.z = MathUtils.lerp(\n          particle.transform.fR.z,\n          particle.transform.tR.z,\n          this.energy\n        );\n        break;\n\n      case 'add':\n        particle.rotation.add(particle.transform.addR);\n        break;\n    }\n  }\n\n  static fromJSON(json) {\n    const { x, y, z, life, easing, isEnabled = true } = json;\n\n    return new Rotate(x, y, z, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import { MathUtils, createSpan } from '../math';\n\nimport Behaviour from './Behaviour';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_SCALE as type } from './types';\n\n/**\n * Behaviour that scales particles.\n *\n */\nexport default class Scale extends Behaviour {\n  /**\n   * Constructs a Scale behaviour instance.\n   *\n   * @param {number} scaleA - the starting scale value\n   * @param {?number} scaleB - the ending scale value\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(scaleA, scaleB, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(scaleA, scaleB);\n  }\n\n  /**\n   * Gets the _same property which determines if the scale props are the same.\n   *\n   * @return {boolean}\n   */\n  get same() {\n    return this._same;\n  }\n\n  /**\n   * Sets the _same property which determines if the scale props are the same.\n   *\n   * @param {boolean} same\n   * @return {boolean}\n   */\n  set same(same) {\n    /**\n     * @type {boolean}\n     */\n    this._same = same;\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} scaleA - the starting scale value\n   * @param {?number} scaleB - the ending scale value\n   * @param {number} life - the life of the behaviour\n   * @param {function} easing - the easing equation to use for transforms\n   * @return void\n   */\n  reset(scaleA, scaleB, life, easing) {\n    this.same = scaleB === null || scaleB === undefined ? true : false;\n\n    /**\n     * @desc The starting scale.\n     * @type {Span}\n     */\n    this.scaleA = createSpan(scaleA || 1);\n\n    /**\n     * @desc The ending scale.\n     * @type {Span}\n     */\n    this.scaleB = createSpan(scaleB);\n\n    life && super.reset(life, easing);\n  }\n\n  /**\n   * Initializes the behaviour on a particle.\n   * Stores initial values for comparison and mutation in the applyBehaviour method.\n   *\n   * @param {object} particle - the particle to initialize the behaviour on\n   * @return void\n   */\n  initialize(particle) {\n    particle.transform.scaleA = this.scaleA.getValue();\n    particle.transform.oldRadius = particle.radius;\n\n    particle.transform.scaleB = this.same\n      ? particle.transform.scaleA\n      : this.scaleB.getValue();\n  }\n\n  /**\n   * Applies the behaviour to the particle.\n   * Mutates the particle's scale and its radius according to this scale.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.scale = MathUtils.lerp(\n      particle.transform.scaleA,\n      particle.transform.scaleB,\n      this.energy\n    );\n\n    if (particle.scale < 0.0005) {\n      particle.scale = 0;\n    }\n\n    particle.radius = particle.transform.oldRadius * particle.scale;\n  }\n\n  /**\n   * Returns a new instance of the behaviour from the JSON object passed.\n   *\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Spring}\n   */\n  static fromJSON(json) {\n    const { scaleA, scaleB, life, easing, isEnabled = true } = json;\n\n    return new Scale(scaleA, scaleB, life, getEasingByName(easing), isEnabled);\n  }\n}\n","import Behaviour from './Behaviour';\nimport { Vector3D } from '../math';\nimport { getEasingByName } from '../ease';\nimport { BEHAVIOUR_TYPE_SPRING as type } from './types';\n\n/**\n * Behaviour that causes particles to spring.\n *\n */\nexport default class Spring extends Behaviour {\n  /**\n   * Constructs a Spring behaviour instance.\n   *\n   * @param {number} x - X axis spring\n   * @param {number} y - Y axis spring\n   * @param {number} z - Z axis spring\n   * @param {number} spring - Spring factor\n   * @param {number} friction - Spring friction\n   * @param {number} life - The life of the behaviour\n   * @param {function} easing - The easing equation to use for transforms\n   * @param {boolean} [isEnabled=true] - Determines if the behaviour will be applied or not\n   * @return void\n   */\n  constructor(x, y, z, spring, friction, life, easing, isEnabled = true) {\n    super(life, easing, type, isEnabled);\n\n    this.reset(x, y, z, spring, friction);\n  }\n\n  /**\n   * Resets the behaviour properties.\n   *\n   * @param {number} x - X axis spring\n   * @param {number} y - Y axis spring\n   * @param {number} z - Z axis spring\n   * @param {number} spring - Spring factor\n   * @param {number} friction - Spring friction\n   * @return void\n   */\n  reset(x, y, z, spring, friction) {\n    if (!this.pos) {\n      this.pos = new Vector3D(x, y, z);\n    } else {\n      this.pos.set(x, y, z);\n    }\n\n    this.spring = spring || 0.1;\n    this.friction = friction || 0.98;\n  }\n\n  /**\n   * Applies the behaviour to the particle.\n   * Mutates the particle's velocity according to this.pos and this.spring.\n   *\n   * @param {object} particle - the particle to apply the behaviour to\n   * @param {number} time - engine time\n   * @param {integer} index - the particle index\n   * @return void\n   */\n  mutate(particle, time, index) {\n    this.energize(particle, time, index);\n\n    particle.velocity.x += (this.pos.x - particle.position.x) * this.spring;\n    particle.velocity.y += (this.pos.y - particle.position.y) * this.spring;\n    particle.velocity.z += (this.pos.z - particle.position.z) * this.spring;\n  }\n\n  /**\n   * Returns a new instance of the behaviour from the JSON object passed.\n   *\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Spring}\n   */\n  static fromJSON(json) {\n    const { x, y, z, spring, friction, life, easing, isEnabled = true } = json;\n\n    return new Spring(\n      x,\n      y,\n      z,\n      spring,\n      friction,\n      life,\n      getEasingByName(easing),\n      isEnabled\n    );\n  }\n}\n","import { easeLinear } from '../ease';\n\nexport const DEFAULT_LIFE = Infinity;\nexport const DEFAULT_ATTRACITON_RADIUS = 1000;\nexport const DEFAULT_ATTRACTION_FORCE_SCALAR = 100;\nexport const DEFAULT_BEHAVIOUR_EASING = easeLinear;\nexport const DEFAULT_BEHAVIOUR_EASING_TYPE = 'easeLinear';\nexport const DEFAULT_RANDOM_DRIFT_DELAY = 0.03;\nexport const PARTICLE_ALPHA_THRESHOLD = 0.002;\nexport const PARTICLE_LENGTH_SQ_THRESHOLD = 0.000004;\nexport const DEFAULT_CROSS_TYPE = 'dead';\n","export { default as Alpha } from './Alpha';\nexport { default as Attraction } from './Attraction';\nexport { default as Collision } from './Collision';\nexport { default as Color } from './Color';\nexport { default as CrossZone } from './CrossZone';\nexport { default as Force } from './Force';\nexport { default as Gravity } from './Gravity';\nexport { default as RandomDrift } from './RandomDrift';\nexport { default as Repulsion } from './Repulsion';\nexport { default as Rotate } from './Rotate';\nexport { default as Scale } from './Scale';\nexport { default as Spring } from './Spring';\nexport { default as Behaviour } from './Behaviour';\n","export const BEHAVIOUR_TYPE_ABSTRACT = 'Behaviour';\nexport const BEHAVIOUR_TYPE_ALPHA = 'Alpha';\nexport const BEHAVIOUR_TYPE_ATTRACTION = 'Attraction';\nexport const BEHAVIOUR_TYPE_COLLISION = 'Collision';\nexport const BEHAVIOUR_TYPE_COLOR = 'Color';\nexport const BEHAVIOUR_TYPE_CROSS_ZONE = 'CrossZone';\nexport const BEHAVIOUR_TYPE_FORCE = 'Force';\nexport const BEHAVIOUR_TYPE_GRAVITY = 'Gravity';\nexport const BEHAVIOUR_TYPE_RANDOM_DRIFT = 'RandomDrift';\nexport const BEHAVIOUR_TYPE_REPULSION = 'Repulsion';\nexport const BEHAVIOUR_TYPE_ROTATE = 'Rotate';\nexport const BEHAVIOUR_TYPE_SCALE = 'Scale';\nexport const BEHAVIOUR_TYPE_SPRING = 'Spring';\n","export const PI = 3.142;\n\n/**\n * The max particle number in pool.\n *\n * @const {integer}\n */\nexport const POOL_MAX = 500;\nexport const TIME_STEP = 60;\nexport const DR = PI / 180;\n\n/**\n * 1:100\n *\n * @const {integer}\n */\nexport const MEASURE = 100;\nexport const EULER = 'euler';\nexport const RK2 = 'runge-kutta2';\nexport const RK4 = 'runge-kutta4';\nexport const VERLET = 'verlet';\nexport const BIND_EMITTER_EVENT = false;\n\nexport const __DEV__ = () => {\n  if (!process) {\n    return false;\n  }\n\n  if (!process.env) {\n    return false;\n  }\n\n  if (!process.env.NODE_ENV) {\n    return false;\n  }\n\n  if (process.env.NODE_ENV !== 'development') {\n    return false;\n  }\n\n  return true;\n};\n","import {\n  DEFAULT_AGE,\n  DEFAULT_ALPHA,\n  DEFAULT_BODY,\n  DEFAULT_DEAD,\n  DEFAULT_EASING,\n  DEFAULT_ENERGY,\n  DEFAULT_LIFE,\n  DEFAULT_MASS,\n  DEFAULT_PARENT,\n  DEFAULT_RADIUS,\n  DEFAULT_SCALE,\n  DEFAULT_SLEEP,\n  DEFAULT_USE_ALPHA,\n  DEFAULT_USE_COLOR,\n} from './constants';\nimport { Util, uid } from '../utils';\n\nimport { PI } from '../constants';\nimport { Vector3D } from '../math';\nimport { CORE_TYPE_PARTICLE as type } from './types';\n\n/**\n * A Particle is an object that is emitted by an emitter.\n *\n */\nexport default class Particle {\n  /**\n   * Constructs a Particle instance.\n   *\n   * @param {object} properties - The properties to instantiate the particle with\n   * @property {number} properties.life - The particle's life\n   * @property {number} properties.age - The particle's age\n   * @property {number} properties.energy - The particle's energy loss\n   * @property {boolean} properties.dead - Determines if the particle is dead or not\n   * @property {boolean} properties.sleep - Determines if the particle is sleeping or not\n   * @property {object} properties.target - The particle's target\n   * @property {object} properties.body - The particle's body\n   * @property {number} properties.mass - The particle's mass\n   * @property {number} properties.radius - The particle's radius\n   * @property {number} properties.alpha - The particle's alpha\n   * @property {number} properties.scale - The particle's scale\n   * @property {number} properties.rotation - The particle's rotation\n   * @property {string|number} properties.color - The particle's color\n   * @property {function} properties.easing - The particle's easing\n   * @property {Vector3D} properties.position - The particle's position\n   * @property {Vector3D} properties.velocity - The particle's velocity\n   * @property {Vector3D} properties.acceleration - The particle's acceleration\n   * @property {array} properties.behaviours - The particle's behaviours array\n   * @property {object} properties.transform - The particle's transform collection\n   * @return void\n   */\n  constructor(properties) {\n    /**\n     * @desc The particle's unique id\n     * @type {number}\n     */\n    this.id = `particle-${uid()}`;\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    /**\n     * @desc The particle's life\n     * @type {number}\n     */\n    this.life = DEFAULT_LIFE;\n    /**\n     * @desc The particle's age\n     * @type {number}\n     */\n    this.age = DEFAULT_AGE;\n    /**\n     * @desc The particle's energy loss\n     * @type {number}\n     */\n    this.energy = DEFAULT_ENERGY;\n    /**\n     * @desc Determines if the particle is dead or not\n     * @type {number}\n     */\n    this.dead = DEFAULT_DEAD;\n    /**\n     * @desc Determines if the particle is sleeping or not\n     * @type {number}\n     */\n    this.sleep = DEFAULT_SLEEP;\n    /**\n     * @desc The particle's body\n     * @type {object}\n     */\n    this.body = DEFAULT_BODY;\n    /**\n     * @desc The particle's parent\n     * @type {?Emitter}\n     */\n    this.parent = DEFAULT_PARENT;\n    /**\n     * @desc The particle's mass\n     * @type {number}\n     */\n    this.mass = DEFAULT_MASS;\n    /**\n     * @desc The particle's radius\n     * @type {number}\n     */\n    this.radius = DEFAULT_RADIUS;\n    /**\n     * @desc The particle's alpha\n     * @type {number}\n     */\n    this.alpha = DEFAULT_ALPHA;\n    /**\n     * @desc The particle's scale\n     * @type {number}\n     */\n    this.scale = DEFAULT_SCALE;\n    /**\n     * @desc Determines whether to use color or not\n     * @type {boolean}\n     */\n    this.useColor = DEFAULT_USE_COLOR;\n    /**\n     * @desc Determines whether to use alpha or not\n     * @type {boolean}\n     */\n    this.useAlpha = DEFAULT_USE_ALPHA;\n    /**\n     * @desc The particle's easing\n     * @type {string}\n     */\n    this.easing = DEFAULT_EASING;\n    /**\n     * @desc The particle's position\n     * @type {Vector3D}\n     */\n    this.position = new Vector3D();\n    /**\n     * @desc The particle's velocity\n     * @type {Vector3D}\n     */\n    this.velocity = new Vector3D();\n    /**\n     * @desc The particle's acceleration\n     * @type {Vector3D}\n     */\n    this.acceleration = new Vector3D();\n    /**\n     * @desc The particle's last position, velocity and acceleration\n     * @type {Vector3D}\n     */\n    this.old = {};\n    /**\n     * @desc The particle's old position\n     * @type {Vector3D}\n     */\n    this.old.position = this.position.clone();\n    /**\n     * @desc The particle's old velocity\n     * @type {Vector3D}\n     */\n    this.old.velocity = this.velocity.clone();\n    /**\n     * @desc The particle's old acceleration\n     * @type {Vector3D}\n     */\n    this.old.acceleration = this.acceleration.clone();\n    /**\n     * @desc The particle's behaviours array\n     * @type {array}\n     */\n    this.behaviours = [];\n    /**\n     * @desc The particle's transform collection\n     * @type {object}\n     */\n    this.transform = {};\n    /**\n     * @desc The particle's color store\n     * @type {object}\n     */\n    this.color = { r: 0, g: 0, b: 0 };\n    /**\n     * @desc The particle's rotation\n     * @type {number}\n     */\n    this.rotation = new Vector3D();\n\n    /**\n     * @desc The particle's distance to the camera, only set by the GPURenderer for depth sorting purposes.\n     * @type {number}\n     */\n    this.distanceToCamera = 0;\n\n    // override constructor props with passed properties.\n    Util.setPrototypeByObj(this, properties);\n  }\n\n  /**\n   * Gets the particle's current direction.\n   *\n   * @return {number}\n   */\n  getDirection() {\n    return Math.atan2(this.velocity.x, -this.velocity.y) * (180 / PI);\n  }\n\n  /**\n   * Resets the particle's default properties and clear's its particle's position,\n   * velocity, acceleration, color and rotation. Also destroy's the particle's\n   * transform collection & removes all behaviours.\n   *\n   * @return {Particle}\n   */\n  reset() {\n    this.life = DEFAULT_LIFE;\n    this.age = DEFAULT_AGE;\n    this.energy = DEFAULT_ENERGY;\n    this.dead = DEFAULT_DEAD;\n    this.sleep = DEFAULT_SLEEP;\n    this.body = DEFAULT_BODY;\n    this.parent = DEFAULT_PARENT;\n    this.mass = DEFAULT_MASS;\n    this.radius = DEFAULT_RADIUS;\n    this.alpha = DEFAULT_ALPHA;\n    this.scale = DEFAULT_SCALE;\n    this.useColor = DEFAULT_USE_COLOR;\n    this.useAlpha = DEFAULT_USE_ALPHA;\n    this.easing = DEFAULT_EASING;\n    this.position.set(0, 0, 0);\n    this.velocity.set(0, 0, 0);\n    this.acceleration.set(0, 0, 0);\n    this.old.position.set(0, 0, 0);\n    this.old.velocity.set(0, 0, 0);\n    this.old.acceleration.set(0, 0, 0);\n    this.color.r = 0;\n    this.color.g = 0;\n    this.color.b = 0;\n\n    this.rotation.clear();\n    Util.destroyObject(this.transform);\n    this.removeAllBehaviours();\n\n    return this;\n  }\n\n  /**\n   * Updates the particle's properties by applying each behaviour to the particle.\n   * Will also update the particle's energy, unless it's age is greater than it's life\n   * in which case it will be destroyed.\n   *\n   * @param {number} time - Integration time\n   * @param {integer} index - Particle index\n   * @return void\n   */\n  update(time, index) {\n    if (!this.sleep) {\n      this.age += time;\n\n      let i = this.behaviours.length;\n\n      while (i--) {\n        let behaviour = this.behaviours[i];\n\n        //behaviour && \n        behaviour.applyBehaviour(this, time, index);\n      }\n    }\n\n    if (this.age >= this.life) {\n      this.destroy();\n    } else {\n      const scale = this.easing(this.age / this.life);\n\n      this.energy = Math.max(1 - scale, 0);\n    }\n  }\n\n  /**\n   * Adds a behaviour to the particle.\n   *\n   * @param {Behaviour} behaviour - The behaviour to add to the particle\n   * @return void\n   */\n  addBehaviour(behaviour) {\n    this.behaviours.push(behaviour);\n    behaviour.initialize(this);\n  }\n\n  /**\n   * Adds multiple behaviours to the particle.\n   *\n   * @param {array<Behaviour>} behaviours - An array of behaviours to add to the particle\n   * @return void\n   */\n  addBehaviours(behaviours) {\n    let i = behaviours.length;\n\n    while (i--) {\n      this.addBehaviour(behaviours[i]);\n    }\n  }\n\n  /**\n   * Removes the behaviour from the particle.\n   *\n   * @param {Behaviour} behaviour - The behaviour to remove from the particle\n   * @return void\n   */\n  removeBehaviour(behaviour) {\n    const index = this.behaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      this.behaviours.splice(index, 1);\n    }\n  }\n\n  /**\n   * Removes all behaviours from the particle.\n   *\n   * @return void\n   */\n  removeAllBehaviours() {\n    Util.destroyArray(this.behaviours);\n  }\n\n  /**\n   * Destroys the particle.\n   *\n   * @return void\n   */\n  destroy() {\n    this.removeAllBehaviours();\n    this.energy = 0;\n    this.dead = true;\n    this.parent = null;\n  }\n}\n","import PUID from '../utils/PUID';\nimport { CORE_TYPE_POOL as type } from './types';\n/**\n * An object pool implementation. Used for pooling objects to avoid unnecessary\n * garbage collection.\n *\n */\nexport default class Pool {\n  /**\n   * Constructs a Pool instance.\n   *\n   * @return void\n   */\n  constructor() {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    /**\n     * @desc Incrementing id that keeps a count of the number of objects created\n     * @type {integer}\n     */\n    this.cID = 0;\n\n    /**\n     * @desc Map of pools in the format of PUID<String>: pool<Array>\n     * @type {object}\n     */\n    this.list = {};\n  }\n\n  /**\n   * Attempts to create a new object either by creating a new instance or calling its\n   * clone method.\n   *\n   * TODO COVERAGE - for the constructorArgs\n   * @param {function|object} functionOrObject - The object to instantiate or clone\n   * @return {object|undefined}\n   */\n  create(functionOrObject, ...constructorArgs) {\n    if (!this.canCreateNewObject(functionOrObject)) {\n      throw new Error(\n        'The pool is unable to create or clone the object supplied'\n      );\n    }\n\n    this.cID++;\n\n    if (this.canInstantiateObject(functionOrObject)) {\n      return new functionOrObject(...constructorArgs);\n    }\n\n    if (this.canCloneObject(functionOrObject)) {\n      return functionOrObject.clone();\n    }\n  }\n\n  /**\n   * Determines if the object is able to be instantiated or not.\n   *\n   * @param {object} object - The object to check\n   * @return {boolean}\n   */\n  canInstantiateObject(object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * Determines if the object is able to be cloned or not.\n   *\n   * @param {object} object - The object to check\n   * @return {boolean}\n   */\n  canCloneObject(object) {\n    return object.clone && typeof object.clone === 'function';\n  }\n\n  /**\n   * Determines if a new object is able to be created.\n   *\n   * @param {object} object - The object to check\n   * @return {boolean}\n   */\n  canCreateNewObject(object) {\n    return this.canInstantiateObject(object) || this.canCloneObject(object)\n      ? true\n      : false;\n  }\n\n  /**\n   * Gets a count of all objects in the pool.\n   *\n   * @return {integer}\n   */\n  getCount() {\n    var count = 0;\n\n    for (var id in this.list) count += this.list[id].length;\n\n    return count++;\n  }\n\n  /**\n   * Gets an object either by creating a new one or retrieving it from the pool.\n   *\n   * @param {function|object} obj - The function or object to get\n   * @param {array} args - The args to pass to the function on creation\n   * @return {object}\n   */\n  get(obj, ...args) {\n    var p,\n      puid = obj.__puid || PUID.id(obj);\n\n    if (this.list[puid] && this.list[puid].length > 0)\n      p = this.list[puid].pop();\n    else p = this.create(obj, ...args);\n\n    p.__puid = obj.__puid || puid;\n\n    return p;\n  }\n\n  /**\n   * Pushes an object into the pool.\n   *\n   * @param {object} obj - The object to expire\n   * @return {integer}\n   */\n  expire(obj) {\n    return this._getList(obj.__puid).push(obj);\n  }\n\n  /**\n   * Destroys all pools.\n   *\n   * @return void\n   */\n  destroy() {\n    for (var id in this.list) {\n      this.list[id].length = 0;\n      delete this.list[id];\n    }\n  }\n\n  /**\n   * Gets the pool mapped to the UID.\n   *\n   * @param {string} uid - The pool uid\n   * @return {array}\n   */\n  _getList(uid) {\n    uid = uid || 'default';\n    if (!this.list[uid]) this.list[uid] = [];\n\n    return this.list[uid];\n  }\n}\n","import EventDispatcher, {\n  EMITTER_ADDED,\n  EMITTER_REMOVED,\n  SYSTEM_UPDATE,\n  SYSTEM_UPDATE_AFTER,\n} from '../events';\n\nimport { DEFAULT_SYSTEM_DELTA } from './constants';\nimport Emitter from '../emitter/Emitter';\nimport { INTEGRATION_TYPE_EULER } from '../math/constants';\nimport { POOL_MAX } from '../constants';\nimport Pool from './Pool';\nimport fromJSON from './fromJSON';\nimport fromJSONAsync from './fromJSONAsync';\nimport { CORE_TYPE_SYSTEM as type } from './types';\n\n/**\n * The core of the three-system particle engine.\n * A System instance can contain multiple emitters, each with their own initializers\n * and behaviours.\n *\n */\nexport default class System {\n  /**\n   * Constructs a System instance.\n   *\n   * @param {object} THREE - ThreeJs\n   * @param {number} [preParticles=POOL_MAX] - The number of particles to start with\n   * @param {string} [integrationType=INTEGRATION_TYPE_EULER] - The integration type to use\n   * @return void\n   */\n  constructor(\n    preParticles = POOL_MAX,\n    integrationType = INTEGRATION_TYPE_EULER\n  ) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc Determines if the system can update or not. Set to false when destroying\n     * to ensure that external calls to update do not throw errors.\n     * @type {boolean}\n     */\n    this.canUpdate = true;\n\n    /**\n     * @desc The number of particles to start with.\n     * @type {number}\n     */\n    this.preParticles = preParticles;\n\n    /**\n     * @desc The integration algorithm type to use.\n     * @param {string}\n     */\n    this.integrationType = integrationType;\n\n    /**\n     * @desc The emitters in the particle system.\n     * @type {array<Emitter>}\n     */\n    this.emitters = [];\n\n    /**\n     * @desc The renderers for the system.\n     * @type {array<Renderer>}\n     */\n    this.renderers = [];\n\n    /**\n     * @desc A pool used to manage the internal system cache of objects\n     * @type {Pool}\n     */\n    this.pool = new Pool();\n\n    /**\n     * @desc Internal event dispatcher\n     * @type {EventDispatcher}\n     */\n    this.eventDispatcher = new EventDispatcher();\n  }\n\n  /**\n   * Creates a System instance from a JSON object.\n   *\n   * @param {object} json - The JSON to create the System instance from\n   * @param {object} THREE - The Web GL Api to use eg., THREE\n   * @return {System}\n   *\n   * @deprecated use fromJSONAsync instead\n   */\n  static fromJSON(json, THREE) {\n    return fromJSON(json, THREE, System, Emitter);\n  }\n\n  /**\n   * Loads a System instance from JSON asynchronously. Ensures all textures are\n   * fully loaded before resolving with the instantiated System instance.\n   *\n   * @param {object} json - The JSON to create the System instance from\n   * @param {object} THREE - The Web GL Api to use eg., THREE\n   * @param {?object} options - Optional config options\n   * @return {Promise<System>}\n   */\n  static fromJSONAsync(json, THREE, options) {\n    return fromJSONAsync(json, THREE, System, Emitter, options);\n  }\n\n  /**\n   * Proxy method for the internal event dispatcher's dispatchEvent method.\n   *\n   * @param {string} event - The event to dispatch\n   * @param {object<System|Emitter|Particle>} [target=this] - The event target\n   */\n  dispatch(event, target = this) {\n    this.eventDispatcher.dispatchEvent(event, target);\n  }\n\n  /**\n   * Adds a renderer to the System instance and initializes it.\n   *\n   * @param {Renderer} renderer - The renderer to add\n   * @return {System}\n   */\n  addRenderer(renderer) {\n    this.renderers.push(renderer);\n    renderer.init(this);\n\n    return this;\n  }\n\n  /**\n   * Removes a renderer from the System instance.\n   *\n   * @param {Renderer} renderer\n   * @return {System}\n   */\n  removeRenderer(renderer) {\n    this.renderers.splice(this.renderers.indexOf(renderer), 1);\n    renderer.remove(this);\n\n    return this;\n  }\n\n  /**\n   * Adds an emitter to the System instance.\n   * Dispatches the EMITTER_ADDED event.\n   *\n   * @param {Emitter} emitter - The emitter to add\n   * @return {System}\n   */\n  addEmitter(emitter) {\n    const index = this.emitters.length;\n\n    emitter.parent = this;\n    emitter.index = index;\n\n    this.emitters.push(emitter);\n    this.dispatch(EMITTER_ADDED, emitter);\n\n    return this;\n  }\n\n  /**\n   * Removes an emitter from the System instance.\n   * Dispatches the EMITTER_REMOVED event.\n   *\n   * @param {Emitter} emitter - The emitter to remove\n   * @return {System}\n   */\n  removeEmitter(emitter) {\n    if (emitter.parent !== this) {\n      return this;\n    }\n\n    emitter.parent = null;\n    emitter.index = undefined;\n\n    this.emitters.splice(this.emitters.indexOf(emitter), 1);\n    this.dispatch(EMITTER_REMOVED, emitter);\n\n    return this;\n  }\n\n  /**\n   * Wires up life cycle methods and causes a system's emitters to emit particles.\n   * Expects emitters to have their totalEmitTimes and life set already.\n   * Inifnite systems will resolve immediately.\n   *\n   * @param {object} hooks - Functions to hook into the life cycle API\n   * @param {function} hooks.onStart - Called when the system starts to emit particles\n   * @param {function} hooks.onUpdate - Called each time the system updates\n   * @param {function} hooks.onEnd - Called when the system's emitters have all died\n   * @return {Promise}\n   */\n  emit({ onStart, onUpdate, onEnd }) {\n    if (onStart) {\n      onStart();\n    }\n\n    if (onUpdate) {\n      this.eventDispatcher.addEventListener(SYSTEM_UPDATE, onUpdate);\n    }\n\n    const emitters = this.emitters.map(emitter => {\n      const { life } = emitter;\n\n      if (life === Infinity) {\n        if (onEnd) {\n          onEnd();\n        }\n\n        emitter.experimental_emit();\n\n        return Promise.resolve();\n      }\n\n      return new Promise(resolve => {\n        emitter.addOnEmitterDeadEventListener(() => {\n          if (onEnd) {\n            onEnd();\n          }\n\n          resolve();\n        });\n\n        emitter.experimental_emit();\n      });\n    });\n\n    try {\n      return Promise.all(emitters);\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n\n  /**\n   * Updates the particle system based on the delta passed.\n   *\n   * @example\n   * animate = () => {\n   *   threeRenderer.render(threeScene, threeCamera);\n   *   system.update();\n   *   requestAnimationFrame(animate);\n   * }\n   * animate();\n   *\n   * @param {number} delta - Delta time\n   * @return {Promise}\n   */\n  update(delta = DEFAULT_SYSTEM_DELTA) {\n    const d = delta || DEFAULT_SYSTEM_DELTA;\n\n    if (this.canUpdate) {\n      if (d > 0) {\n        let i = this.emitters.length;\n\n        while (i--) {\n          const emitter = this.emitters[i];\n\n          emitter.update(d);\n          emitter.isEmitting && this.dispatch(SYSTEM_UPDATE);\n        }\n      }\n\n      this.dispatch(SYSTEM_UPDATE_AFTER);\n    }\n\n    return Promise.resolve();\n  }\n\n  /**\n   * Gets a count of the total number of particles in the system.\n   *\n   * @return {integer}\n   */\n  getCount() {\n    const length = this.emitters.length;\n\n    let total = 0;\n\n    let i;\n\n    for (i = 0; i < length; i++) {\n      total += this.emitters[i].particles.length;\n    }\n\n    return total;\n  }\n\n  /**\n   * Destroys all emitters, renderers and the Nebula pool.\n   * Ensures that this.update will not perform any operations while the system\n   * is being destroyed.\n   *\n   * @return void\n   */\n  destroy() {\n    const length = this.emitters.length;\n\n    this.canUpdate = false;\n\n    for (let e = 0; e < length; e++) {\n      this.emitters[e] && this.emitters[e].destroy();\n      delete this.emitters[e];\n    }\n\n    for (let r = 0; r < length; r++) {\n      if (this.renderers[r] && this.renderers[r].destroy) {\n        this.renderers[r].destroy();\n        delete this.renderers[r];\n      }\n    }\n\n    this.emitters.length = 0;\n    this.pool.destroy();\n    this.canUpdate = true;\n  }\n}\n","import {\n  BEHAVIOUR_TYPE_ALPHA,\n  BEHAVIOUR_TYPE_ATTRACTION,\n  BEHAVIOUR_TYPE_COLOR,\n  BEHAVIOUR_TYPE_CROSS_ZONE,\n  BEHAVIOUR_TYPE_FORCE,\n  BEHAVIOUR_TYPE_GRAVITY,\n  BEHAVIOUR_TYPE_RANDOM_DRIFT,\n  BEHAVIOUR_TYPE_REPULSION,\n  BEHAVIOUR_TYPE_ROTATE,\n  BEHAVIOUR_TYPE_SCALE,\n  BEHAVIOUR_TYPE_SPRING,\n} from '../behaviour/types';\nimport {\n  INITIALIZER_TYPE_BODY,\n  INITIALIZER_TYPE_BODY_SPRITE,\n  INITIALIZER_TYPE_LIFE,\n  INITIALIZER_TYPE_MASS,\n  INITIALIZER_TYPE_POLAR_VELOCITY,\n  INITIALIZER_TYPE_POSITION,\n  INITIALIZER_TYPE_RADIAL_VELOCITY,\n  INITIALIZER_TYPE_RADIUS,\n  INITIALIZER_TYPE_TEXTURE,\n  INITIALIZER_TYPE_VECTOR_VELOCITY,\n} from '../initializer/types';\nimport {\n  ZONE_TYPE_BOX,\n  ZONE_TYPE_LINE,\n  ZONE_TYPE_MESH,\n  ZONE_TYPE_POINT,\n  ZONE_TYPE_SPHERE,\n} from '../zone/types';\n\nimport { RENDERER_TYPE_SPRITE } from '../renderer/types';\nimport { easeLinear } from '../ease';\n\n/**\n * @desc Default particle life\n * @type {number}\n */\nexport const DEFAULT_LIFE = Infinity;\n/**\n * @desc Default particle age\n * @type {number}\n */\nexport const DEFAULT_AGE = 0;\n/**\n * @desc Default particle energy\n * @type {number}\n */\nexport const DEFAULT_ENERGY = 1;\n/**\n * @desc Default particle dead\n * @type {boolean}\n */\nexport const DEFAULT_DEAD = false;\n/**\n * @desc Default particle sleep\n * @type {boolean}\n */\nexport const DEFAULT_SLEEP = false;\n\n/**\n * @desc Default particle index\n * @type {number}\n */\nexport const DEFAULT_INDEX = 0;\n/**\n * @desc Default particle body\n * @type {?object}\n */\nexport const DEFAULT_BODY = null;\n/**\n * @desc Default particle parent\n * @type {?Emitter}\n */\nexport const DEFAULT_PARENT = null;\n/**\n * @desc Default particle mass\n * @type {number}\n */\nexport const DEFAULT_MASS = 1;\n/**\n * @desc Default particle radius\n * @type {number}\n */\nexport const DEFAULT_RADIUS = 10;\n/**\n * @desc Default particle alpha\n * @type {number}\n */\nexport const DEFAULT_ALPHA = 1;\n/**\n * @desc Default particle scale\n * @type {number}\n */\nexport const DEFAULT_SCALE = 1;\n/**\n * @desc Default particle useColor\n * @type {boolean}\n */\nexport const DEFAULT_USE_COLOR = false;\n/**\n * @desc Default particle useAlpha\n * @type {boolean}\n */\nexport const DEFAULT_USE_ALPHA = false;\n/**\n * @desc Default particle easing\n * @type {function}\n */\nexport const DEFAULT_EASING = easeLinear;\n\n/**\n * @desc The default delta provided to the System instance\n * @type {number}\n */\nexport const DEFAULT_SYSTEM_DELTA = 0.0167;\n\n/**\n * @desc The types of initializers supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_INITIALIZER_TYPES = [\n  INITIALIZER_TYPE_POSITION,\n  INITIALIZER_TYPE_LIFE,\n  INITIALIZER_TYPE_RADIUS,\n  INITIALIZER_TYPE_MASS,\n  INITIALIZER_TYPE_BODY,\n  INITIALIZER_TYPE_BODY_SPRITE,\n  INITIALIZER_TYPE_TEXTURE,\n  INITIALIZER_TYPE_POLAR_VELOCITY,\n  INITIALIZER_TYPE_RADIAL_VELOCITY,\n  INITIALIZER_TYPE_VECTOR_VELOCITY,\n];\n\n/**\n * @desc The types of behaviours supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_BEHAVIOUR_TYPES = [\n  BEHAVIOUR_TYPE_ALPHA,\n  BEHAVIOUR_TYPE_ATTRACTION,\n  BEHAVIOUR_TYPE_COLOR,\n  BEHAVIOUR_TYPE_CROSS_ZONE,\n  BEHAVIOUR_TYPE_FORCE,\n  BEHAVIOUR_TYPE_GRAVITY,\n  BEHAVIOUR_TYPE_RANDOM_DRIFT,\n  BEHAVIOUR_TYPE_REPULSION,\n  BEHAVIOUR_TYPE_ROTATE,\n  BEHAVIOUR_TYPE_SCALE,\n  BEHAVIOUR_TYPE_SPRING,\n];\n\n/**\n * @desc The types of renderers supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_RENDERER_TYPES = [RENDERER_TYPE_SPRITE];\n\n/**\n * @desc The types of zones supported by the System.fromJSON method.\n * @type {array<string>}\n */\nexport const SUPPORTED_JSON_ZONE_TYPES = [\n  ZONE_TYPE_BOX,\n  ZONE_TYPE_LINE,\n  ZONE_TYPE_MESH,\n  ZONE_TYPE_POINT,\n  ZONE_TYPE_SPHERE,\n];\n\nexport { INITIALIZER_TYPES_THAT_REQUIRE_THREE } from '../initializer/types';\n","import * as Behaviour from '../behaviour';\nimport * as Initializer from '../initializer';\n\nimport { EULER, POOL_MAX } from '../constants';\nimport {\n  INITIALIZER_TYPES_THAT_REQUIRE_THREE,\n  SUPPORTED_JSON_BEHAVIOUR_TYPES,\n  SUPPORTED_JSON_INITIALIZER_TYPES,\n} from './constants';\n\nimport Rate from '../initializer/Rate';\n\n/**\n * Makes a rate instance.\n *\n * @param {object} json - The data required to construct a Rate instance\n * @return {Rate}\n */\nconst makeRate = json => Rate.fromJSON(json);\n\n/**\n * Makes initializers from json items.\n *\n * @param {array<object>} items - An array of objects which provide initializer constructor params\n * @param {object} THREE - The Web GL Api to use\n * @return {array<Initializer>}\n */\nconst makeInitializers = (items, THREE) => {\n  const initializers = [];\n\n  items.forEach(data => {\n    const { type, properties } = data;\n\n    if (!SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n      throw new Error(\n        `The initializer type ${type} is invalid or not yet supported`\n      );\n    }\n\n    if (INITIALIZER_TYPES_THAT_REQUIRE_THREE.includes(type)) {\n      initializers.push(Initializer[type].fromJSON(properties, THREE));\n    } else {\n      initializers.push(Initializer[type].fromJSON(properties));\n    }\n  });\n\n  return initializers;\n};\n\n/**\n * Makes behaviours from json items.\n *\n * @param {array<object>} items - An array of objects which provide behaviour constructor params\n * @return {array<Behaviour>}\n */\nconst makeBehaviours = items => {\n  const behaviours = [];\n\n  items.forEach(data => {\n    const { type, properties } = data;\n\n    if (!SUPPORTED_JSON_BEHAVIOUR_TYPES.includes(type)) {\n      throw new Error(\n        `The behaviour type ${type} is invalid or not yet supported`\n      );\n    }\n\n    behaviours.push(Behaviour[type].fromJSON(properties));\n  });\n\n  return behaviours;\n};\n\n/**\n * Creates a System instance from a JSON object.\n *\n * @deprecated Use fromJSONAsync instead.\n *\n * @param {object} json - The JSON to create the System instance from\n * @param {object} THREE - The Web GL Api to use\n * @param {function} System - The system class\n * @param {function} Emitter - The emitter class\n * @param {number} json.preParticles - The predetermined number of particles\n * @param {string} json.integrationType - The integration algorithm to use\n * @param {array<object>} json.emitters - The emitters for the system instance\n * @return {System}\n */\nexport default (json, THREE, System, Emitter) => {\n  const {\n    preParticles = POOL_MAX,\n    integrationType = EULER,\n    emitters = [],\n  } = json;\n  const system = new System(THREE, preParticles, integrationType);\n\n  emitters.forEach(data => {\n    const emitter = new Emitter();\n    const {\n      rate,\n      rotation,\n      initializers,\n      behaviours,\n      emitterBehaviours = [],\n      position,\n      totalEmitTimes = Infinity,\n      life = Infinity,\n    } = data;\n\n    emitter\n      .setRate(makeRate(rate))\n      .setRotation(rotation)\n      .setInitializers(makeInitializers(initializers, THREE))\n      .setBehaviours(makeBehaviours(behaviours))\n      .setEmitterBehaviours(makeBehaviours(emitterBehaviours))\n      .setPosition(position)\n      .emit(totalEmitTimes, life);\n\n    system.addEmitter(emitter);\n  });\n\n  return system;\n};\n","import * as Behaviour from '../behaviour';\nimport * as Initializer from '../initializer';\n\nimport { EULER, POOL_MAX } from '../constants';\nimport {\n  INITIALIZER_TYPES_THAT_REQUIRE_THREE,\n  SUPPORTED_JSON_BEHAVIOUR_TYPES,\n  SUPPORTED_JSON_INITIALIZER_TYPES,\n} from './constants';\n\nimport Rate from '../initializer/Rate';\nimport TextureInitializer from '../initializer/Texture';\n\nconst DEFAULT_OPTIONS = { shouldAutoEmit: true };\n\n/**\n * Makes a rate instance.\n *\n * @param {object} json - The data required to construct a Rate instance\n * @return {Rate}\n */\nconst makeRate = json => Rate.fromJSON(json);\n\n/**\n * Makes initializers from json items.\n *\n * @param {array<object>} items - An array of objects which provide initializer constructor params\n * @param {object} THREE - The Web GL Api to use\n * @return {array<Initializer>}\n */\nconst makeInitializers = (items, THREE) =>\n  new Promise((resolve, reject) => {\n    if (!items.length) {\n      return resolve([]);\n    }\n\n    const numberOfInitializers = items.length;\n    const madeInitializers = [];\n    const doNotRequireTextureLoading = items.filter(\n      ({ properties }) => !properties.texture\n    );\n    const doRequireTextureLoading = items.filter(\n      ({ properties }) => properties.texture\n    );\n\n    doNotRequireTextureLoading.forEach(data => {\n      const { type, properties } = data;\n\n      if (!SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n        return reject(\n          `The initializer type ${type} is invalid or not yet supported`\n        );\n      }\n\n      if (INITIALIZER_TYPES_THAT_REQUIRE_THREE.includes(type)) {\n        madeInitializers.push(Initializer[type].fromJSON(properties, THREE));\n      } else {\n        madeInitializers.push(Initializer[type].fromJSON(properties));\n      }\n\n      if (madeInitializers.length === numberOfInitializers) {\n        return resolve(madeInitializers);\n      }\n    });\n\n    doRequireTextureLoading.forEach(data => {\n      const {\n        type,\n        properties,\n        properties: { texture },\n      } = data;\n      const textureLoader = new THREE.TextureLoader();\n\n      if (!SUPPORTED_JSON_INITIALIZER_TYPES.includes(type)) {\n        return reject(\n          `The initializer type ${type} is invalid or not yet supported`\n        );\n      }\n\n      textureLoader.load(\n        texture,\n        loadedTexture => {\n          madeInitializers.push(\n            TextureInitializer.fromJSON(\n              {\n                ...properties,\n                loadedTexture,\n              },\n              THREE\n            )\n          );\n\n          if (madeInitializers.length === numberOfInitializers) {\n            return resolve(madeInitializers);\n          }\n        },\n        undefined,\n        reject\n      );\n    });\n  });\n\n/**\n * Makes behaviours from json items.\n *\n * @param {array<object>} items - An array of objects which provide behaviour constructor params\n * @return {Promise<array>}\n */\nconst makeBehaviours = items =>\n  new Promise((resolve, reject) => {\n    if (!items.length) {\n      return resolve([]);\n    }\n\n    const numberOfBehaviours = items.length;\n    const madeBehaviours = [];\n\n    items.forEach(data => {\n      const { type, properties } = data;\n\n      if (!SUPPORTED_JSON_BEHAVIOUR_TYPES.includes(type)) {\n        return reject(\n          `The behaviour type ${type} is invalid or not yet supported`\n        );\n      }\n\n      madeBehaviours.push(Behaviour[type].fromJSON(properties));\n\n      if (madeBehaviours.length === numberOfBehaviours) {\n        return resolve(madeBehaviours);\n      }\n    });\n  });\n\nconst makeEmitters = (emitters, Emitter, THREE, shouldAutoEmit) =>\n  new Promise((resolve, reject) => {\n    if (!emitters.length) {\n      return resolve([]);\n    }\n\n    const madeEmitters = [];\n    const numberOfEmitters = emitters.length;\n\n    if (!numberOfEmitters) {\n      return resolve(madeEmitters);\n    }\n\n    emitters.forEach(data => {\n      const emitter = new Emitter();\n      const {\n        rate,\n        rotation,\n        initializers,\n        behaviours,\n        emitterBehaviours = [],\n        position,\n        totalEmitTimes = Infinity,\n        life = Infinity,\n      } = data;\n\n      emitter\n        .setRate(makeRate(rate))\n        .setRotation(rotation)\n        .setPosition(position);\n\n      makeInitializers(initializers, THREE)\n        .then(madeInitializers => {\n          emitter.setInitializers(madeInitializers);\n\n          return makeBehaviours(behaviours);\n        })\n        .then(madeBehaviours => {\n          emitter.setBehaviours(madeBehaviours);\n\n          return makeBehaviours(emitterBehaviours);\n        })\n        .then(madeEmitterBehaviours => {\n          emitter.setEmitterBehaviours(madeEmitterBehaviours);\n\n          return Promise.resolve(emitter);\n        })\n        .then(emitter => {\n          madeEmitters.push(\n            shouldAutoEmit\n              ? emitter.emit(totalEmitTimes, life)\n              : emitter.setTotalEmitTimes(totalEmitTimes).setLife(life)\n          );\n\n          if (madeEmitters.length === numberOfEmitters) {\n            return resolve(madeEmitters);\n          }\n        })\n        .catch(reject);\n    });\n  });\n\n/**\n * Creates a System instance from a JSON object.\n *\n * @param {object} json - The JSON to create the System instance from\n * @param {number} json.preParticles - The predetermined number of particles\n * @param {string} json.integrationType - The integration algorithm to use\n * @param {array<object>} json.emitters - The emitters for the system instance\n * @param {object} THREE - The Web GL Api to use\n * @param {function} System - The system class\n * @param {function} Emitter - The emitter class\n * @param {object} [options={}] - Optional config options\n * @return {Promise<System>}\n */\nexport default (json, THREE, System, Emitter, options = {}) =>\n  new Promise((resolve, reject) => {\n    const {\n      preParticles = POOL_MAX,\n      integrationType = EULER,\n      emitters = [],\n    } = json;\n    const system = new System(preParticles, integrationType);\n    const { shouldAutoEmit } = { ...DEFAULT_OPTIONS, ...options };\n\n    makeEmitters(emitters, Emitter, THREE, shouldAutoEmit)\n      .then(madeEmitters => {\n        const numberOfEmitters = madeEmitters.length;\n\n        if (!numberOfEmitters) {\n          return resolve(system);\n        }\n\n        madeEmitters.forEach(madeEmitter => {\n          system.addEmitter(madeEmitter);\n\n          if (system.emitters.length === numberOfEmitters) {\n            resolve(system);\n          }\n        });\n      })\n      .catch(reject);\n  });\n","export { default as Particle } from './Particle';\nexport { default as Pool } from './Pool';\nexport { default as System } from './System';\n","import { Quaternion } from './Quaternion.js';\nimport { Vector3 } from './Vector3.js';\nimport { Matrix4 } from './Matrix4.js';\nimport { _Math } from './Math.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = _Math.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function () {\n\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function setFromQuaternion( q, order, update ) {\n\n\t\t\tmatrix.makeRotationFromQuaternion( q );\n\n\t\t\treturn this.setFromRotationMatrix( matrix, order, update );\n\n\t\t};\n\n\t}(),\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function () {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\tvar q = new Quaternion();\n\n\t\treturn function reorder( newOrder ) {\n\n\t\t\tq.setFromEuler( this );\n\n\t\t\treturn this.setFromQuaternion( q, newOrder );\n\n\t\t};\n\n\t}(),\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n\nexport { Euler };","/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _Math = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: ( function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar lut = [];\n\n\t\tfor ( var i = 0; i < 256; i ++ ) {\n\n\t\t\tlut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n\t\t}\n\n\t\treturn function generateUUID() {\n\n\t\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\t\tvar uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t\tlut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\n\t\t\t\tlut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\n\n\t\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\t\treturn uuid.toUpperCase();\n\n\t\t};\n\n\t} )(),\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * _Math.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * _Math.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t}\n\n};\n\n\nexport { _Math };","import { Vector3 } from './Vector3.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function extractRotation( m ) {\n\n\t\t\t// this method does not support reflection matrices\n\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\n\t\t\tvar scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\n\t\t\tvar scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\n\t\t\tvar scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\t\tte[ 3 ] = 0;\n\n\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\t\tte[ 7 ] = 0;\n\n\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\t\tte[ 11 ] = 0;\n\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function () {\n\n\t\tvar zero = new Vector3( 0, 0, 0 );\n\t\tvar one = new Vector3( 1, 1, 1 );\n\n\t\treturn function makeRotationFromQuaternion( q ) {\n\n\t\t\treturn this.compose( zero, q, one );\n\n\t\t};\n\n\t}(),\n\n\tlookAt: function () {\n\n\t\tvar x = new Vector3();\n\t\tvar y = new Vector3();\n\t\tvar z = new Vector3();\n\n\t\treturn function lookAt( eye, target, up ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tz.subVectors( eye, target );\n\n\t\t\tif ( z.lengthSq() === 0 ) {\n\n\t\t\t\t// eye and target are in the same position\n\n\t\t\t\tz.z = 1;\n\n\t\t\t}\n\n\t\t\tz.normalize();\n\t\t\tx.crossVectors( up, z );\n\n\t\t\tif ( x.lengthSq() === 0 ) {\n\n\t\t\t\t// up and z are parallel\n\n\t\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t\tz.x += 0.0001;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz.z += 0.0001;\n\n\t\t\t\t}\n\n\t\t\t\tz.normalize();\n\t\t\t\tx.crossVectors( up, z );\n\n\t\t\t}\n\n\t\t\tx.normalize();\n\t\t\ty.crossVectors( z, x );\n\n\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tapplyToBufferAttribute: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function applyToBufferAttribute( attribute ) {\n\n\t\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\t\tv1.x = attribute.getX( i );\n\t\t\t\tv1.y = attribute.getY( i );\n\t\t\t\tv1.z = attribute.getZ( i );\n\n\t\t\t\tv1.applyMatrix4( this );\n\n\t\t\t\tattribute.setXYZ( i, v1.x, v1.y, v1.z );\n\n\t\t\t}\n\n\t\t\treturn attribute;\n\n\t\t};\n\n\t}(),\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function () {\n\n\t\tvar vector = new Vector3();\n\t\tvar matrix = new Matrix4();\n\n\t\treturn function decompose( position, quaternion, scale ) {\n\n\t\t\tvar te = this.elements;\n\n\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t\t// if determine is negative, we need to invert one scale\n\t\t\tvar det = this.determinant();\n\t\t\tif ( det < 0 ) sx = - sx;\n\n\t\t\tposition.x = te[ 12 ];\n\t\t\tposition.y = te[ 13 ];\n\t\t\tposition.z = te[ 14 ];\n\n\t\t\t// scale the rotation part\n\t\t\tmatrix.copy( this );\n\n\t\t\tvar invSX = 1 / sx;\n\t\t\tvar invSY = 1 / sy;\n\t\t\tvar invSZ = 1 / sz;\n\n\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\tmatrix.elements[ 2 ] *= invSX;\n\n\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\tmatrix.elements[ 6 ] *= invSY;\n\n\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\n\t\t\tquaternion.setFromRotationMatrix( matrix );\n\n\t\t\tscale.x = sx;\n\t\t\tscale.y = sy;\n\t\t\tscale.z = sz;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t}(),\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n\nexport { Matrix4 };","/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nimport { _Math } from './Math.js';\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n\nexport { Quaternion };","import { _Math } from './Math.js';\nimport { Quaternion } from './Quaternion.js';\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyEuler( euler ) {\n\n\t\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t\t}\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromEuler( euler ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyAxisAngle: function () {\n\n\t\tvar quaternion = new Quaternion();\n\n\t\treturn function applyAxisAngle( axis, angle ) {\n\n\t\t\treturn this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\n\t\t};\n\n\t}(),\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( vector ) {\n\n\t\tvar scalar = vector.dot( this ) / vector.lengthSq();\n\n\t\treturn this.copy( vector ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function () {\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function projectOnPlane( planeNormal ) {\n\n\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\n\t\t\treturn this.sub( v1 );\n\n\t\t};\n\n\t}(),\n\n\treflect: function () {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\tvar v1 = new Vector3();\n\n\t\treturn function reflect( normal ) {\n\n\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t\t};\n\n\t}(),\n\n\tangleTo: function ( v ) {\n\n\t\tvar theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( _Math.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n\nexport { Vector3 };","export var REVISION = '106';\nexport var MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\nexport var CullFaceNone = 0;\nexport var CullFaceBack = 1;\nexport var CullFaceFront = 2;\nexport var CullFaceFrontBack = 3;\nexport var FrontFaceDirectionCW = 0;\nexport var FrontFaceDirectionCCW = 1;\nexport var BasicShadowMap = 0;\nexport var PCFShadowMap = 1;\nexport var PCFSoftShadowMap = 2;\nexport var FrontSide = 0;\nexport var BackSide = 1;\nexport var DoubleSide = 2;\nexport var FlatShading = 1;\nexport var SmoothShading = 2;\nexport var NoColors = 0;\nexport var FaceColors = 1;\nexport var VertexColors = 2;\nexport var NoBlending = 0;\nexport var NormalBlending = 1;\nexport var AdditiveBlending = 2;\nexport var SubtractiveBlending = 3;\nexport var MultiplyBlending = 4;\nexport var CustomBlending = 5;\nexport var AddEquation = 100;\nexport var SubtractEquation = 101;\nexport var ReverseSubtractEquation = 102;\nexport var MinEquation = 103;\nexport var MaxEquation = 104;\nexport var ZeroFactor = 200;\nexport var OneFactor = 201;\nexport var SrcColorFactor = 202;\nexport var OneMinusSrcColorFactor = 203;\nexport var SrcAlphaFactor = 204;\nexport var OneMinusSrcAlphaFactor = 205;\nexport var DstAlphaFactor = 206;\nexport var OneMinusDstAlphaFactor = 207;\nexport var DstColorFactor = 208;\nexport var OneMinusDstColorFactor = 209;\nexport var SrcAlphaSaturateFactor = 210;\nexport var NeverDepth = 0;\nexport var AlwaysDepth = 1;\nexport var LessDepth = 2;\nexport var LessEqualDepth = 3;\nexport var EqualDepth = 4;\nexport var GreaterEqualDepth = 5;\nexport var GreaterDepth = 6;\nexport var NotEqualDepth = 7;\nexport var MultiplyOperation = 0;\nexport var MixOperation = 1;\nexport var AddOperation = 2;\nexport var NoToneMapping = 0;\nexport var LinearToneMapping = 1;\nexport var ReinhardToneMapping = 2;\nexport var Uncharted2ToneMapping = 3;\nexport var CineonToneMapping = 4;\nexport var ACESFilmicToneMapping = 5;\n\nexport var UVMapping = 300;\nexport var CubeReflectionMapping = 301;\nexport var CubeRefractionMapping = 302;\nexport var EquirectangularReflectionMapping = 303;\nexport var EquirectangularRefractionMapping = 304;\nexport var SphericalReflectionMapping = 305;\nexport var CubeUVReflectionMapping = 306;\nexport var CubeUVRefractionMapping = 307;\nexport var RepeatWrapping = 1000;\nexport var ClampToEdgeWrapping = 1001;\nexport var MirroredRepeatWrapping = 1002;\nexport var NearestFilter = 1003;\nexport var NearestMipMapNearestFilter = 1004;\nexport var NearestMipMapLinearFilter = 1005;\nexport var LinearFilter = 1006;\nexport var LinearMipMapNearestFilter = 1007;\nexport var LinearMipMapLinearFilter = 1008;\nexport var UnsignedByteType = 1009;\nexport var ByteType = 1010;\nexport var ShortType = 1011;\nexport var UnsignedShortType = 1012;\nexport var IntType = 1013;\nexport var UnsignedIntType = 1014;\nexport var FloatType = 1015;\nexport var HalfFloatType = 1016;\nexport var UnsignedShort4444Type = 1017;\nexport var UnsignedShort5551Type = 1018;\nexport var UnsignedShort565Type = 1019;\nexport var UnsignedInt248Type = 1020;\nexport var AlphaFormat = 1021;\nexport var RGBFormat = 1022;\nexport var RGBAFormat = 1023;\nexport var LuminanceFormat = 1024;\nexport var LuminanceAlphaFormat = 1025;\nexport var RGBEFormat = RGBAFormat;\nexport var DepthFormat = 1026;\nexport var DepthStencilFormat = 1027;\nexport var RedFormat = 1028;\nexport var RGB_S3TC_DXT1_Format = 33776;\nexport var RGBA_S3TC_DXT1_Format = 33777;\nexport var RGBA_S3TC_DXT3_Format = 33778;\nexport var RGBA_S3TC_DXT5_Format = 33779;\nexport var RGB_PVRTC_4BPPV1_Format = 35840;\nexport var RGB_PVRTC_2BPPV1_Format = 35841;\nexport var RGBA_PVRTC_4BPPV1_Format = 35842;\nexport var RGBA_PVRTC_2BPPV1_Format = 35843;\nexport var RGB_ETC1_Format = 36196;\nexport var RGBA_ASTC_4x4_Format = 37808;\nexport var RGBA_ASTC_5x4_Format = 37809;\nexport var RGBA_ASTC_5x5_Format = 37810;\nexport var RGBA_ASTC_6x5_Format = 37811;\nexport var RGBA_ASTC_6x6_Format = 37812;\nexport var RGBA_ASTC_8x5_Format = 37813;\nexport var RGBA_ASTC_8x6_Format = 37814;\nexport var RGBA_ASTC_8x8_Format = 37815;\nexport var RGBA_ASTC_10x5_Format = 37816;\nexport var RGBA_ASTC_10x6_Format = 37817;\nexport var RGBA_ASTC_10x8_Format = 37818;\nexport var RGBA_ASTC_10x10_Format = 37819;\nexport var RGBA_ASTC_12x10_Format = 37820;\nexport var RGBA_ASTC_12x12_Format = 37821;\nexport var LoopOnce = 2200;\nexport var LoopRepeat = 2201;\nexport var LoopPingPong = 2202;\nexport var InterpolateDiscrete = 2300;\nexport var InterpolateLinear = 2301;\nexport var InterpolateSmooth = 2302;\nexport var ZeroCurvatureEnding = 2400;\nexport var ZeroSlopeEnding = 2401;\nexport var WrapAroundEnding = 2402;\nexport var TrianglesDrawMode = 0;\nexport var TriangleStripDrawMode = 1;\nexport var TriangleFanDrawMode = 2;\nexport var LinearEncoding = 3000;\nexport var sRGBEncoding = 3001;\nexport var GammaEncoding = 3007;\nexport var RGBEEncoding = 3002;\nexport var LogLuvEncoding = 3003;\nexport var RGBM7Encoding = 3004;\nexport var RGBM16Encoding = 3005;\nexport var RGBDEncoding = 3006;\nexport var BasicDepthPacking = 3200;\nexport var RGBADepthPacking = 3201;\nexport var TangentSpaceNormalMap = 0;\nexport var ObjectSpaceNormalMap = 1;\n","export { Vector3 } from './Vector3';\nexport { Quaternion } from './Quaternion';\nexport { Euler } from './Euler';\nexport * from './constants';\n","export const CORE_TYPE_PARTICLE = 'Particle';\nexport const CORE_TYPE_POOL = 'Pool';\nexport const CORE_TYPE_SYSTEM = 'System';\n","import { DEFAULT_POSITION, DEFAULT_SIZE as size } from './constants';\n\n/**\n * @exports Debug - methods and helpers for debugging System emitters, zones and particles.\n * @requires THREE - { SphereGeometry, BoxGeometry, MeshBasicMaterial, OctahedronGeometry, Mesh }\n */\nexport default {\n  /**\n   * Adds an event listener to the system instance's SYSTEM_UPDATE event.\n   *\n   * @param {System} system - the system instance\n   * @param {function} onSystemUpdated - the function to call when system has been updated\n   * @return {Debug}\n   */\n  addEventListener: function(system, onSystemUpdated) {\n    system.eventDispatcher.addEventListener('SYSTEM_UPDATE', onSystemUpdated);\n\n    return this;\n  },\n\n  /**\n   * Draws a wireframe mesh around the zone for debugging purposes.\n   *\n   * @param {System} system - the system instance\n   * @param {object} container - a three Object3D (usually the scene)\n   * @param {Zone} zone - a Zone instance\n   * @return void\n   */\n  drawZone: function(THREE, system, container, zone = {}) {\n    const color = '#2194ce';\n    const wireframe = true;\n    const {\n      width = size,\n      height = size,\n      depth = size,\n      radius = size,\n      x = DEFAULT_POSITION,\n      y = DEFAULT_POSITION,\n      z = DEFAULT_POSITION,\n    } = zone;\n\n    let geometry;\n\n    if (zone.isPointZone()) {\n      geometry = new THREE.SphereGeometry(15);\n    }\n\n    if (zone.isLineZone()) {\n      // TODO\n    }\n\n    if (zone.isBoxZone()) {\n      geometry = new THREE.BoxGeometry(width, height, depth);\n    }\n\n    if (zone.isSphereZone()) {\n      geometry = new THREE.SphereGeometry(radius, size, size);\n    }\n\n    if (zone.isMeshZone()) {\n      geometry = zone.geometry.geometry\n        ? zone.geometry.geometry.clone()\n        : zone.geometry.clone();\n    }\n\n    if (!geometry) {\n      geometry = new THREE.BoxGeometry(width, height, depth);\n    }\n\n    const material = new THREE.MeshBasicMaterial({ color, wireframe });\n    // NOTE! geometry.clone is required for UNKNOWN reasons,\n    // three does not render the mesh correctly without doing this since r88\n    const mesh = new THREE.Mesh(geometry.clone(), material);\n\n    container.add(mesh);\n\n    this.addEventListener(system, function() {\n      mesh.position.set(x, y, z);\n    });\n  },\n\n  /**\n   * Draws a mesh for each particle emitted in order to help debug particles.\n   *\n   * @param {object} system - the system instance\n   * @param {object} container - a three Object3D (usually the scene)\n   * @param {object} emitter - the emitter to debug\n   * @param {string} color - the color for the debug mesh material\n   * @return void\n   */\n  drawEmitter: function(THREE, system, container, emitter, color) {\n    const geometry = new THREE.OctahedronGeometry(size);\n    const material = new THREE.MeshBasicMaterial({\n      color: color || '#aaa',\n      wireframe: true,\n    });\n    // NOTE! geometry.clone is required for UNKNOWN reasons,\n    // three does not render the mesh correctly without doing this since r88\n    const mesh = new THREE.Mesh(geometry.clone(), material);\n\n    container.add(mesh);\n\n    this.addEventListener(system, function() {\n      mesh.position.copy(emitter.position);\n      mesh.rotation.set(\n        emitter.rotation.x,\n        emitter.rotation.y,\n        emitter.rotation.z\n      );\n    });\n  },\n\n  /**\n   * Renders emitter / particle information into the info element.\n   *\n   * @param {object} system - the system instance\n   * @param {integer} style - style to apply (see the addInfo method's switch statement)\n   * @return void\n   */\n  renderInfo: (function() {\n    function getCreatedNumber(type, system) {\n      var pool = type == 'material' ? '_materialPool' : '_targetPool';\n      var renderer = system.renderers[0];\n\n      return renderer[pool].cID;\n    }\n\n    function getEmitterPos(system) {\n      var e = system.emitters[0];\n\n      return (\n        Math.round(e.p.x) + ',' + Math.round(e.p.y) + ',' + Math.round(e.p.z)\n      );\n    }\n\n    return function(system, style) {\n      this.addInfo(style);\n      var str = '';\n\n      switch (this._infoType) {\n        case 2:\n          str += 'emitter:' + system.emitters.length + '<br>';\n          str += 'em speed:' + system.emitters[0].cID + '<br>';\n          str += 'pos:' + getEmitterPos(system);\n          break;\n\n        case 3:\n          str += system.renderers[0].name + '<br>';\n          str += 'target:' + getCreatedNumber('target') + '<br>';\n          str += 'material:' + getCreatedNumber('material');\n          break;\n\n        default:\n          str += 'particles:' + system.getCount() + '<br>';\n          str += 'pool:' + system.pool.getCount() + '<br>';\n          str += 'total:' + (system.getCount() + system.pool.getCount());\n      }\n      this._infoCon.innerHTML = str;\n    };\n  })(),\n\n  /**\n   * Appends the info element into the dom.\n   *\n   * @param {integer} style - the style type to apply\n   * @return void\n   */\n  addInfo: (function() {\n    return function(style) {\n      var self = this;\n\n      if (!this._infoCon) {\n        this._infoCon = document.createElement('div');\n        this._infoCon.style.cssText = [\n          'position:fixed;bottom:0px;left:0;cursor:pointer;',\n          'opacity:0.9;z-index:10000;padding:10px;font-size:12px;',\n          'width:120px;height:50px;background-color:#002;color:#0ff;',\n        ].join('');\n\n        this._infoType = 1;\n        this._infoCon.addEventListener(\n          'click',\n          function() {\n            self._infoType++;\n            if (self._infoType > 3) self._infoType = 1;\n          },\n          false\n        );\n\n        var bg, color;\n\n        switch (style) {\n          case 2:\n            bg = '#201';\n            color = '#f08';\n            break;\n\n          case 3:\n            bg = '#020';\n            color = '#0f0';\n            break;\n\n          default:\n            bg = '#002';\n            color = '#0ff';\n        }\n\n        this._infoCon.style['background-color'] = bg;\n        this._infoCon.style['color'] = color;\n      }\n\n      if (!this._infoCon.parentNode) document.body.appendChild(this._infoCon);\n    };\n  })(),\n};\n","export const DEFAULT_WIDTH = 10;\nexport const DEFAULT_HEIGHT = 10;\nexport const DEFAULT_DEPTH = 10;\nexport const DEFAULT_RADIUS = 15;\nexport const DEFAULT_SIZE = 15;\nexport const DEFAULT_POSITION = 0;\n","export { default as Debug } from './Debug';\nexport { default as log } from './log';\n","/**\n * You can use this emit particles.\n *\n * This method will console.log the fixed number of your info  in updata or requestAnimationFrame\n *\n * use like this log('+12',mc); log 12 times\n *\n * @return void\n */\nexport default function() {\n  let once = 0;\n\n  if (window.console && window.console.trace) {\n    var arg = Array.prototype.slice.call(arguments);\n    var s1 = arguments[0] + '';\n\n    if (s1.indexOf('+') == 0) {\n      var n = parseInt(arguments[0]);\n\n      if (once < n) {\n        arg.shift();\n        console.trace.apply(console, arg);\n        once++;\n      }\n    } else {\n      arg.unshift('+15');\n      this.apply(console, arg);\n    }\n  }\n}\n","import { PI } from '../constants';\n\n/**\n * The Ease class provides a collection of easing functions for use with System\n */\nexport const ease = {\n  easeLinear: function(value) {\n    return value;\n  },\n\n  easeInQuad: function(value) {\n    return Math.pow(value, 2);\n  },\n\n  easeOutQuad: function(value) {\n    return -(Math.pow(value - 1, 2) - 1);\n  },\n\n  easeInOutQuad: function(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 2);\n\n    return -0.5 * ((value -= 2) * value - 2);\n  },\n\n  easeInCubic: function(value) {\n    return Math.pow(value, 3);\n  },\n\n  easeOutCubic: function(value) {\n    return Math.pow(value - 1, 3) + 1;\n  },\n\n  easeInOutCubic: function(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 3);\n\n    return 0.5 * (Math.pow(value - 2, 3) + 2);\n  },\n\n  easeInQuart: function(value) {\n    return Math.pow(value, 4);\n  },\n\n  easeOutQuart: function(value) {\n    return -(Math.pow(value - 1, 4) - 1);\n  },\n\n  easeInOutQuart: function(value) {\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(value, 4);\n\n    return -0.5 * ((value -= 2) * Math.pow(value, 3) - 2);\n  },\n\n  easeInSine: function(value) {\n    return -Math.cos(value * (PI / 2)) + 1;\n  },\n\n  easeOutSine: function(value) {\n    return Math.sin(value * (PI / 2));\n  },\n\n  easeInOutSine: function(value) {\n    return -0.5 * (Math.cos(PI * value) - 1);\n  },\n\n  easeInExpo: function(value) {\n    return value === 0 ? 0 : Math.pow(2, 10 * (value - 1));\n  },\n\n  easeOutExpo: function(value) {\n    return value === 1 ? 1 : -Math.pow(2, -10 * value) + 1;\n  },\n\n  easeInOutExpo: function(value) {\n    if (value === 0) return 0;\n    if (value === 1) return 1;\n    if ((value /= 0.5) < 1) return 0.5 * Math.pow(2, 10 * (value - 1));\n\n    return 0.5 * (-Math.pow(2, -10 * --value) + 2);\n  },\n\n  easeInCirc: function(value) {\n    return -(Math.sqrt(1 - value * value) - 1);\n  },\n\n  easeOutCirc: function(value) {\n    return Math.sqrt(1 - Math.pow(value - 1, 2));\n  },\n\n  easeInOutCirc: function(value) {\n    if ((value /= 0.5) < 1) return -0.5 * (Math.sqrt(1 - value * value) - 1);\n\n    return 0.5 * (Math.sqrt(1 - (value -= 2) * value) + 1);\n  },\n\n  easeInBack: function(value) {\n    var s = 1.70158;\n\n    return value * value * ((s + 1) * value - s);\n  },\n\n  easeOutBack: function(value) {\n    var s = 1.70158;\n\n    return (value = value - 1) * value * ((s + 1) * value + s) + 1;\n  },\n\n  easeInOutBack: function(value) {\n    var s = 1.70158;\n\n    if ((value /= 0.5) < 1)\n      return 0.5 * (value * value * (((s *= 1.525) + 1) * value - s));\n\n    return 0.5 * ((value -= 2) * value * (((s *= 1.525) + 1) * value + s) + 2);\n  }\n};\n\nexport const {\n  easeLinear,\n  easeInQuad,\n  easeOutQuad,\n  easeInOutQuad,\n  easeInCubic,\n  easeOutCubic,\n  easeInOutCubic,\n  easeInQuart,\n  easeOutQuart,\n  easeInOutQuart,\n  easeInSine,\n  easeOutSine,\n  easeInOutSine,\n  easeInExpo,\n  easeOutExpo,\n  easeInOutExpo,\n  easeInCirc,\n  easeOutCirc,\n  easeInOutCirc,\n  easeInBack,\n  easeOutBack,\n  easeInOutBack\n} = ease;\n\nexport const setEasingByName = easeName => {\n  if (ease[easeName]) return ease[easeName];\n  else return ease.easeLinear;\n};\n\nexport const getEasingByName = name =>\n  ease[name] ? ease[name] : ease.easeLinear;\n","import {\n  DEFAULT_BIND_EMITTER,\n  DEFAULT_BIND_EMITTER_EVENT,\n  DEFAULT_DAMPING,\n  DEFAULT_EMITTER_INDEX,\n  DEFAULT_EMITTER_RATE,\n} from './constants';\nimport EventDispatcher, {\n  EMITTER_DEAD,\n  PARTICLE_CREATED,\n  PARTICLE_DEAD,\n  PARTICLE_UPDATE,\n} from '../events';\nimport { INTEGRATION_TYPE_EULER, integrate } from '../math';\nimport { Util, uid } from '../utils';\n\nimport { InitializerUtil } from '../initializer';\nimport Particle from '../core/Particle';\nimport isNumber from 'lodash/isNumber';\nimport { EMITTER_TYPE_EMITTER as type } from './types';\n\n/**\n * Emitters are the System engine's particle factories. They cause particles to\n * be rendered by emitting them, and store all particle initializers and behaviours.\n *\n */\nexport default class Emitter extends Particle {\n  /**\n   * Constructs an Emitter instance.\n   *\n   * @param {object} properties - The properties to instantiate the emitter with\n   * @return void\n   */\n  constructor(properties) {\n    super(properties);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc The particles emitted by this emitter.\n     * @type {array}\n     */\n    this.particles = [];\n\n    /**\n     * @desc The initializers for particles emitted by this emitter.\n     * @type {array}\n     */\n    this.initializers = [];\n\n    /**\n     * @desc The behaviours for particles emitted by this emitter.\n     * @type {array}\n     */\n    this.behaviours = [];\n\n    /**\n     * @desc The behaviours for the emitter.\n     * @type {array}\n     */\n    this.emitterBehaviours = [];\n\n    /**\n     * @desc The current emit iteration.\n     * @type {integer}\n     */\n    this.currentEmitTime = 0;\n\n    /**\n     * @desc The total number of times the emitter should emit particles.\n     * @type {integer}\n     */\n    this.totalEmitTimes = -1;\n\n    /**\n     * @desc The friction coefficient for all particle to emit by.\n     * @type {number}\n     */\n    this.damping = DEFAULT_DAMPING;\n\n    /**\n     * @desc Ensures that particles emitted by this emitter are positioned\n     * according to the emitter's properties.\n     * @type {boolean}\n     */\n    this.bindEmitter = DEFAULT_BIND_EMITTER;\n\n    /**\n     * @desc Determines if the emitter will dispatch internal events. Defaults\n     * to false\n     * @type {boolean}\n     */\n    this.bindEmitterEvent = DEFAULT_BIND_EMITTER_EVENT;\n\n    /**\n     * @desc The number of particles to emit per second (a [particle]/b [s])\n     * @type {Rate}\n     */\n    this.rate = DEFAULT_EMITTER_RATE;\n\n    /**\n     * @desc Determines if the emitter is emitting particles or not.\n     * @type {boolean}\n     */\n    this.isEmitting = false;\n\n    /**\n     * @desc The emitter's id.\n     * @type {string}\n     */\n    this.id = `emitter-${uid()}`;\n    this.cID = 0;\n    this.name = 'Emitter';\n\n    /**\n     * @desc The index of the emitter as it is added to the system.\n     * @type {number|undefined}\n     */\n    this.index = DEFAULT_EMITTER_INDEX;\n\n    /**\n     * @desc The emitter's internal event dispatcher.\n     * @type {EventDispatcher}\n     */\n    this.eventDispatcher = new EventDispatcher();\n  }\n\n  /**\n   * Proxy method for the internal event dispatcher's dispatchEvent method.\n   *\n   * @param {string} event - The event to dispatch\n   * @param {object<Particle>} [target=this] - The event target\n   */\n  dispatch(event, target = this) {\n    this.eventDispatcher.dispatchEvent(event, target);\n  }\n\n  /**\n   * Sets the emitter rate.\n   *\n   * @param {Rate} rate - a rate initializer object\n   * @return {Emitter}\n   */\n  setRate(rate) {\n    this.rate = rate;\n\n    return this;\n  }\n\n  /**\n   * Sets the position of the emitter.\n   *\n   * @param {object} newPosition - an object the new x, y and z props\n   * @return {Emitter}\n   */\n  setPosition(newPosition = {}) {\n    const { position } = this;\n    const { x = position.x, y = position.y, z = position.z } = newPosition;\n\n    this.position.set(x, y, z);\n\n    return this;\n  }\n\n  /**\n   * Sets the rotation of the emitter.\n   *\n   * @param {object} newRotation - an object the new x, y and z props\n   * @return {Emitter}\n   */\n  setRotation(newRotation = {}) {\n    const { rotation } = this;\n    const { x = rotation.x, y = rotation.y, z = rotation.z } = newRotation;\n\n    this.rotation.set(x, y, z);\n\n    return this;\n  }\n\n  /**\n   * Sets the total number of times the emitter should emit particles as well as\n   * the emitter's life. Also intializes the emitter rate.\n   * This enables the emitter to emit particles.\n   *\n   * @param {number} [totalEmitTimes=Infinity] - the total number of times to emit particles\n   * @param {number} [life=Infinity] - the life of this emitter in milliseconds\n   * @return {Emitter}\n   */\n  emit(totalEmitTimes = Infinity, life = Infinity) {\n    this.currentEmitTime = 0;\n    this.totalEmitTimes = isNumber(totalEmitTimes) ? totalEmitTimes : Infinity;\n\n    if (totalEmitTimes === 1) {\n      this.life = totalEmitTimes;\n    } else {\n      this.life = isNumber(life) ? life : Infinity;\n    }\n\n    this.rate.init();\n    this.isEmitting = true;\n\n    return this;\n  }\n\n  /**\n   * Experimental emit method that is designed to be called from the System.emit method.\n   *\n   * @return {Emitter}\n   */\n  experimental_emit() {\n    const { isEmitting, totalEmitTimes, life } = this;\n\n    if (!isEmitting) {\n      this.currentEmitTime = 0;\n\n      if (!totalEmitTimes) {\n        this.setTotalEmitTimes(Infinity);\n      }\n\n      if (!life) {\n        this.setLife(Infinity);\n      }\n\n      this.rate.init();\n      this.isEmitting = true;\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the total emit times for the emitter.\n   *\n   * @param {number} [totalEmitTimes=Infinity] - the total number of times to emit particles\n   * @return {Emitter}\n   */\n  setTotalEmitTimes(totalEmitTimes = Infinity) {\n    this.totalEmitTimes = isNumber(totalEmitTimes) ? totalEmitTimes : Infinity;\n\n    return this;\n  }\n\n  /**\n   * Sets the life of the emitter.\n   *\n   * @param {number} [life=Infinity] - the life of this emitter in milliseconds\n   * @return {Emitter}\n   */\n  setLife(life = Infinity) {\n    if (this.totalEmitTimes === 1) {\n      this.life = this.totalEmitTimes;\n    } else {\n      this.life = isNumber(life) ? life : Infinity;\n    }\n\n    return this;\n  }\n\n  /**\n   * Stops the emitter from emitting particles.\n   *\n   * @return void\n   */\n  stopEmit() {\n    this.totalEmitTimes = -1;\n    this.currentEmitTime = 0;\n    this.isEmitting = false;\n  }\n\n  /**\n   * Kills all of the emitter's particles.\n   *\n   * @return void\n   */\n  removeAllParticles() {\n    let i = this.particles.length;\n\n    while (i--) {\n      this.particles[i].dead = true;\n    }\n  }\n\n  /**\n   * Adds a particle initializer to the emitter.\n   * Each initializer is run on each particle when they are created.\n   *\n   * @param {Initializer} initializer - The initializer to add\n   * @return {Emitter}\n   */\n  addInitializer(initializer) {\n    this.initializers.push(initializer);\n\n    return this;\n  }\n\n  /**\n   * Adds multiple particle initializers to the emitter.\n   *\n   * @param {array<Initializer>} initializers - an array of particle initializers\n   * @return {Emitter}\n   */\n  addInitializers(initializers) {\n    let i = initializers.length;\n\n    while (i--) {\n      this.addInitializer(initializers[i]);\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the emitter's particle initializers.\n   *\n   * @param {array<Initializer>} initializers - an array of particle initializers\n   * @return {Emitter}\n   */\n  setInitializers(initializers) {\n    this.initializers = initializers;\n\n    return this;\n  }\n\n  /**\n   * Removes an initializer from the emitter's initializers array.\n   *\n   * @param {Initializer} initializer - The initializer to remove\n   * @return {Emitter}\n   */\n  removeInitializer(initializer) {\n    const index = this.initializers.indexOf(initializer);\n\n    if (index > -1) {\n      this.initializers.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes all initializers.\n   *\n   * @return {Emitter}\n   */\n  removeAllInitializers() {\n    Util.destroyArray(this.initializers);\n\n    return this;\n  }\n\n  /**\n   * Adds a behaviour to the emitter. All emitter behaviours are added to each particle when\n   * they are emitted.\n   *\n   * @param {Behaviour} behaviour - The behaviour to add to the emitter\n   * @return {Emitter}\n   */\n  addBehaviour(behaviour) {\n    this.behaviours.push(behaviour);\n\n    return this;\n  }\n\n  /**\n   * Adds multiple behaviours to the emitter.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  addBehaviours(behaviours) {\n    let i = behaviours.length;\n\n    while (i--) {\n      this.addBehaviour(behaviours[i]);\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the emitter's behaviours.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  setBehaviours(behaviours) {\n    this.behaviours = behaviours;\n\n    return this;\n  }\n\n  /**\n   * Removes the behaviour from the emitter's behaviours array.\n   *\n   * @param {Behaviour} behaviour - The behaviour to remove\n   * @return {Emitter}\n   */\n  removeBehaviour(behaviour) {\n    const index = this.behaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      this.behaviours.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes all behaviours from the emitter.\n   *\n   * @return {Emitter}\n   */\n  removeAllBehaviours() {\n    Util.destroyArray(this.behaviours);\n\n    return this;\n  }\n\n  /**\n   * Adds an emitter behaviour to the emitter.\n   *\n   * @param {Behaviour} behaviour - The behaviour to add to the emitter\n   * @return {Emitter}\n   */\n  addEmitterBehaviour(behaviour) {\n    this.emitterBehaviours.push(behaviour);\n\n    behaviour.initialize(this);\n\n    return this;\n  }\n\n  /**\n   * Adds multiple behaviours to the emitter.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  addEmitterBehaviours(behaviours) {\n    let i = behaviours.length;\n\n    while (i--) {\n      this.addEmitterBehaviour(behaviours[i]);\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the emitter's behaviours.\n   *\n   * @param {array<Behaviour>} behaviours - an array of emitter behaviours\n   * @return {Emitter}\n   */\n  setEmitterBehaviours(behaviours) {\n    const length = behaviours.length;\n\n    this.emitterBehaviours = behaviours;\n\n    for (let i = 0; i < length; i++) {\n      this.emitterBehaviours[i].initialize(this);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes the behaviour from the emitter's behaviours array.\n   *\n   * @param {Behaviour} behaviour - The behaviour to remove\n   * @return {Emitter}\n   */\n  removeEmitterBehaviour(behaviour) {\n    const index = this.emitterBehaviours.indexOf(behaviour);\n\n    if (index > -1) {\n      this.emitterBehaviours.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  /**\n   * Removes all behaviours from the emitter.\n   *\n   * @return {Emitter}\n   */\n  removeAllEmitterBehaviours() {\n    Util.destroyArray(this.emitterBehaviours);\n\n    return this;\n  }\n\n  /**\n   * Adds the event listener for the EMITTER_DEAD event.\n   *\n   * @param {onEmitterDead} - The function to call when the EMITTER_DEAD is dispatched.\n   * @return {Emitter}\n   */\n  addOnEmitterDeadEventListener(onEmitterDead) {\n    this.eventDispatcher.addEventListener(`${this.id}_${EMITTER_DEAD}`, () =>\n      onEmitterDead()\n    );\n\n    return this;\n  }\n\n  /**\n   * Creates a particle by retreiving one from the pool and setting it up with\n   * the supplied initializer and behaviour.\n   *\n   * @return {Emitter}\n   */\n  createParticle() {\n    const particle = this.parent.pool.get(Particle);\n    const index = this.particles.length;\n\n    this.setupParticle(particle, index);\n    this.parent && this.parent.dispatch(PARTICLE_CREATED, particle);\n    this.bindEmitterEvent && this.dispatch(PARTICLE_CREATED, particle);\n\n    return particle;\n  }\n\n  /**\n   * Sets up a particle by running all initializers on it and setting its behaviours.\n   * Also adds the particle to this.particles.\n   *\n   * @param {Particle} particle - The particle to setup\n   * @return void\n   */\n  setupParticle(particle, index) {\n    const { initializers, behaviours } = this;\n\n    InitializerUtil.initialize(this, particle, initializers);\n\n    particle.addBehaviours(behaviours);\n    particle.parent = this;\n    particle.index = index;\n\n    this.particles.push(particle);\n  }\n\n  /**\n   * Updates the emitter according to the time passed by calling the generate\n   * and integrate methods. The generate method creates particles, the integrate\n   * method updates existing particles.\n   *\n   * If the emitter age is greater than time, the emitter is killed.\n   *\n   * This method also indexes/deindexes particles.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  update(time) {\n    if (!this.isEmitting) {\n      return;\n    }\n\n    this.age += time;\n\n    if (this.dead || this.age >= this.life) {\n      this.destroy();\n    }\n\n    this.generate(time);\n    this.integrate(time);\n\n    let i = this.particles.length;\n\n    while (i--) {\n      const particle = this.particles[i];\n\n      if (particle.dead) {\n        this.parent && this.parent.dispatch(PARTICLE_DEAD, particle);\n        this.bindEmitterEvent && this.dispatch(PARTICLE_DEAD, particle);\n        this.parent.pool.expire(particle.reset());\n        this.particles.splice(i, 1);\n      }\n    }\n\n    this.updateEmitterBehaviours(time);\n  }\n\n  /**\n   * Updates the emitter's emitter behaviours.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  updateEmitterBehaviours(time) {\n    if (this.sleep) {\n      return;\n    }\n\n    const length = this.emitterBehaviours.length;\n\n    for (let i = 0; i < length; i++) {\n      this.emitterBehaviours[i].applyBehaviour(this, time, i);\n    }\n  }\n\n  /**\n   * Runs the integration algorithm on the emitter and all particles.\n   * Updates the particles with the timstamp passed.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  integrate(time) {\n    const integrationType = this.parent\n      ? this.parent.integrationType\n      : INTEGRATION_TYPE_EULER;\n    const damping = 1 - this.damping;\n\n    integrate(this, time, damping, integrationType);\n\n    let index = this.particles.length;\n\n    while (index--) {\n      const particle = this.particles[index];\n\n      particle.update(time, index);\n      integrate(particle, time, damping, integrationType);\n\n      this.parent && this.parent.dispatch(PARTICLE_UPDATE, particle);\n      this.bindEmitterEvent && this.dispatch(PARTICLE_UPDATE, particle);\n    }\n  }\n\n  /**\n   * Generates new particles.\n   *\n   * @param {number} time - System engine time\n   * @return void\n   */\n  generate(time) {\n    if (this.totalEmitTimes === 1) {\n      let i = this.rate.getValue(99999);\n\n      if (i > 0) {\n        this.cID = i;\n      }\n\n      while (i--) {\n        this.createParticle();\n      }\n\n      this.totalEmitTimes = 0;\n\n      return;\n    }\n\n    this.currentEmitTime += time;\n\n    if (this.currentEmitTime < this.totalEmitTimes) {\n      let i = this.rate.getValue(time);\n\n      if (i > 0) {\n        this.cID = i;\n      }\n\n      while (i--) {\n        this.createParticle();\n      }\n    }\n  }\n\n  /**\n   * Kills the emitter.\n   *\n   * @return void\n   */\n  destroy() {\n    this.dead = true;\n    this.energy = 0;\n    this.totalEmitTimes = -1;\n\n    if (this.particles.length == 0) {\n      this.isEmitting = false;\n      this.removeAllInitializers();\n      this.removeAllBehaviours();\n      this.dispatch(`${this.id}_${EMITTER_DEAD}`);\n\n      this.parent && this.parent.removeEmitter(this);\n    }\n  }\n}\n","import Emitter from './Emitter';\nimport THREEUtil from '../utils/THREEUtil';\nimport Util from '../utils/Util';\nimport { EMITTER_TYPE_FOLLOW as type } from './types';\n\nexport default class FollowEmitter extends Emitter {\n  /**\n   * The FollowEmitter class inherits from System.Emitter\n   *\n   * use the FollowEmitter will emit particle when mousemoving\n   *\n   * @class System.FollowEmitter\n   * @constructor\n   * @param {Element} mouseTarget mouseevent's target;\n   * @param {Number} ease the easing of following speed;\n   * @default 0.7\n   * @param {Object} pObj the parameters object;\n   */\n  constructor(mouseTarget, ease, pObj) {\n    super(pObj);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this.mouseTarget = Util.initValue(mouseTarget, window);\n    this.ease = Util.initValue(ease, 0.7);\n    this._allowEmitting = false;\n    this.initEventHandler();\n  }\n\n  initEventHandler() {\n    var self = this;\n\n    this.mousemoveHandler = function(e) {\n      self.mousemove.call(self, e);\n    };\n\n    this.mousedownHandler = function(e) {\n      self.mousedown.call(self, e);\n    };\n\n    this.mouseupHandler = function(e) {\n      self.mouseup.call(self, e);\n    };\n\n    this.mouseTarget.addEventListener(\n      'mousemove',\n      this.mousemoveHandler,\n      false\n    );\n  }\n\n  /**\n   * start emit particle\n   * @method emit\n   */\n  emit() {\n    this._allowEmitting = true;\n  }\n\n  /**\n   * stop emiting\n   * @method stopEmit\n   */\n  stopEmit() {\n    this._allowEmitting = false;\n  }\n\n  setCameraAndCanvas(camera, canvas) {\n    this.camera = camera;\n    this.canvas = canvas;\n  }\n\n  mousemove(e) {\n    if (e.layerX || e.layerX == 0) {\n      this.position.x += (e.layerX - this.position.x) * this.ease;\n      this.position.y += (e.layerY - this.position.y) * this.ease;\n    } else if (e.offsetX || e.offsetX == 0) {\n      this.position.x += (e.offsetX - this.position.x) * this.ease;\n      this.position.y += (e.offsetY - this.position.y) * this.ease;\n    }\n\n    this.position.copy(\n      THREEUtil.toSpacePos(this.position, this.camera, this.canvas)\n    );\n\n    if (this._allowEmitting) super.emit('once');\n  }\n\n  /**\n   * Destory this Emitter\n   * @method destroy\n   */\n  destroy() {\n    super.destroy();\n    this.mouseTarget.removeEventListener(\n      'mousemove',\n      this.mousemoveHandler,\n      false\n    );\n  }\n}\n","import { Rate } from '../initializer';\n\nexport const DEFAULT_DAMPING = 0.006;\nexport const DEFAULT_BIND_EMITTER = true;\nexport const DEFAULT_EMITTER_RATE = new Rate(1, 0.1);\nexport const DEFAULT_BIND_EMITTER_EVENT = false;\nexport const DEFAULT_EMITTER_INDEX = undefined;\n","export { default as FollowEmitter } from './FollowEmitter';\nexport { default as Emitter } from './Emitter';\n","export const EMITTER_TYPE_EMITTER = 'Emitter';\nexport const EMITTER_TYPE_FOLLOW = 'FollowEmitter';\n","/*\n * EventDispatcher\n * Visit http://createjs.com/ for documentation, updates and examples.\n *\n **/\n\nexport default class EventDispatcher {\n  constructor() {\n    this.listeners = null;\n  }\n\n  set listeners(listeners) {\n    this._listeners = listeners;\n  }\n\n  get listeners() {\n    return this._listeners;\n  }\n\n  addEventListener(type, listener) {\n    if (!this.listeners) {\n      this.listeners = {};\n    } else {\n      this.removeEventListener(type, listener);\n    }\n\n    if (!this.listeners[type]) this.listeners[type] = [];\n    this.listeners[type].push(listener);\n\n    return listener;\n  }\n\n  removeEventListener(type, listener) {\n    if (!this.listeners) return;\n    if (!this.listeners[type]) return;\n\n    var arr = this.listeners[type];\n\n    for (var i = 0, l = arr.length; i < l; i++) {\n      if (arr[i] == listener) {\n        if (l == 1) {\n          delete this.listeners[type];\n        }\n        // allows for faster checks.\n        else {\n          arr.splice(i, 1);\n        }\n        break;\n      }\n    }\n  }\n\n  removeAllEventListeners(type) {\n    if (!type) this.listeners = null;\n    else if (this.listeners) delete this.listeners[type];\n  }\n\n  dispatchEvent(eventName, eventTarget) {\n    var ret = false,\n      listeners = this.listeners;\n\n    if (eventName && listeners) {\n      var arr = listeners[eventName];\n\n      if (!arr) return ret;\n\n      arr = arr.slice();        //Should use a copy into a temporary here instead...\n      // to avoid issues with items being removed or added during the dispatch\n\n      var handler,\n        i = arr.length;\n\n      while (i--) {\n        handler = arr[i];\n\n        ret = ret || handler(eventTarget);\n      }\n    }\n\n    return !!ret;\n  }\n\n  hasEventListener(type) {\n    var listeners = this.listeners;\n\n    return !!(listeners && listeners[type]);\n  }\n}\n","export const SYSTEM_UPDATE = 'SYSTEM_UPDATE';\nexport const PARTICLE_CREATED = 'PARTICLE_CREATED';\nexport const PARTICLE_UPDATE = 'PARTICLE_UPDATE';\nexport const PARTICLE_DEAD = 'PARTICLE_DEAD';\nexport const EMITTER_ADDED = 'EMITTER_ADDED';\nexport const EMITTER_REMOVED = 'EMITTER_REMOVED';\nexport const EMITTER_DEAD = 'EMITTER_DEAD';\nexport const SYSTEM_UPDATE_AFTER = 'SYSTEM_UPDATE_AFTER';\n","import EventDispatcher from './EventDispatcher';\n\nexport default EventDispatcher;\nexport * from './constants';\n","import Initializer from './Initializer';\nimport { createArraySpan } from '../math';\nimport { INITIALIZER_TYPE_BODY as type } from './types';\n/**\n * Sets the body property on initialized particles.\n *\n */\nexport default class Body extends Initializer {\n  /**\n   * Constructs a Body initalizer instance.\n   *\n   * @param {string|number|object} body - The content for the particle body, can\n   * be a color or an object (mesh)\n   * @param {?number} w - The width of the particle body\n   * @param {?number} h - The height of the particle body\n   * @return void\n   */\n  constructor(body, w, h, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The content for the particle body\n     * @type {ArraySpan}\n     */\n    this.body = createArraySpan(body);\n\n    /**\n     * @desc The width of the particle Body\n     * @type {number}\n     */\n    this.w = w;\n\n    /**\n     * @desc The height of the particle Body\n     * @type {number}\n     */\n    this.h = h || w;\n  }\n\n  /**\n   * Sets the particle's initial body.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    var body = this.body.getValue();\n\n    if (this.w) {\n      particle.body = {\n        width: this.w,\n        height: this.h,\n        body: body,\n      };\n    } else {\n      particle.body = body;\n    }\n  }\n\n  /**\n   * Creates a Body initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.body - The color for the particle body\n   * @property {number} json.width - The width of the particle body\n   * @property {number} json.height - The height of the particle body\n   * @return {Body}\n   */\n  static fromJSON(json) {\n    const { body, width, height, isEnabled = true } = json;\n\n    return new Body(body, width, height, isEnabled);\n  }\n}\n","import {\n  DEFAULT_JSON_MATERIAL_PROPERTIES,\n  DEFAULT_MATERIAL_PROPERTIES,\n  SUPPORTED_MATERIAL_BLENDING_MODES,\n} from './constants';\n\nimport Initializer from './Initializer';\nimport { INITIALIZER_TYPE_BODY_SPRITE as type } from './types';\nimport { withDefaults } from '../utils';\n\n/**\n * Sets the body property to be a THREE.Sprite on initialized particles.\n *\n * NOTE The texture map MUST be set on the SpriteMaterial in the TextureLoader.load\n * callback. Not doing so will cause WebGL buffer errors.\n */\nexport default class BodySprite extends Initializer {\n  /**\n   * Constructs a BodySprite initializer.\n   *\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {string} texture - The sprite texture\n   * @param {object} materialProperties - The sprite material properties\n   * @throws {Error} If the TextureLoader fails to load the supplied texture\n   * @return void\n   */\n  constructor(\n    THREE,\n    texture,\n    materialProperties = DEFAULT_MATERIAL_PROPERTIES,\n    isEnabled = true\n  ) {\n    super(type, isEnabled);\n\n    const { Sprite, SpriteMaterial, TextureLoader } = THREE;\n\n    /**\n     * @desc The material properties for this object's SpriteMaterial\n     * NOTE This is required for testing purposes\n     * @type {object}\n     */\n    this.materialProperties = withDefaults(\n      DEFAULT_MATERIAL_PROPERTIES,\n      materialProperties\n    );\n\n    new TextureLoader().load(\n      texture,\n      map => {\n        /**\n         * @desc The texture for the THREE.SpriteMaterial map.\n         * @type {Texture}\n         */\n        this.texture = map;\n\n        /**\n         * @desc THREE.SpriteMaterial instance.\n         * @type {SpriteMaterial}\n         */\n        this.material = new SpriteMaterial({\n          ...{ map },\n          ...this.materialProperties,\n        });\n\n        /**\n         * @desc THREE.Sprite instance.\n         * @type {Sprite}\n         */\n        this.sprite = new Sprite(this.material);\n      },\n      undefined,\n      error => {\n        throw new Error(error);\n      }\n    );\n  }\n\n  /**\n   * Sets the particle body to the sprite.\n   *\n   * @param {Particle} particle - The particle to set the body of\n   * @return void\n   */\n  initialize(particle) {\n    particle.body = this.sprite;\n  }\n\n  /**\n   * Creates a BodySprite initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {string} json.texture - The sprite texture\n   * @param {object} json.materialProperties - The sprite material properties\n   * @return {BodySprite}\n   */\n  static fromJSON(json, THREE) {\n    const {\n      texture,\n      materialProperties = DEFAULT_JSON_MATERIAL_PROPERTIES,\n      isEnabled = true,\n    } = json;\n\n    const ensureMappedBlendingMode = properties => {\n      const { blending } = properties;\n\n      return {\n        ...properties,\n        blending: blending\n          ? SUPPORTED_MATERIAL_BLENDING_MODES[blending]\n          : SUPPORTED_MATERIAL_BLENDING_MODES[\n            DEFAULT_JSON_MATERIAL_PROPERTIES.blending\n          ],\n      };\n    };\n\n    return new BodySprite(\n      THREE,\n      texture,\n      withDefaults(\n        DEFAULT_JSON_MATERIAL_PROPERTIES,\n        ensureMappedBlendingMode(materialProperties)\n      ),\n      isEnabled\n    );\n  }\n}\n","import { INITIALIZER_TYPE_ABSTRACT } from './types';\n\n/**\n * The base Emitter / Particle property class.\n *\n * @abstract\n */\nexport default class Initializer {\n  /**\n   * Constructs an Initializer instance.\n   *\n   * @param {string} [type=INITIALIZER_TYPE_ABSTRACT] - The intiializer type\n   * @param {boolean} [isEnabled=true] - Determines if the initializer should be enabled or not\n\n   * @return void\n   */\n  constructor(type = INITIALIZER_TYPE_ABSTRACT, isEnabled = true) {\n    this.type = type;\n    this.isEnabled = isEnabled;\n  }\n\n  /**\n   * Initializes the property on the emitter or particle.\n   *\n   * @see {@link '../emitter/emitter.js'} setupParticle\n   * @param {Emitter} emitter - the emitter to initialize the property on\n   * @param {Particle} particle - the particle to intiialize the property on\n   * @return void\n   */\n  init(emitter, particle) {\n    if (!this.isEnabled) {\n      return;\n    }\n\n    if (particle) {\n      this.initialize(particle);\n      particle.hasBeenInitialized = true;\n    } else {\n      this.initialize(emitter);\n      emitter.hasBeenInitialized = true;\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {}\n\n  /**\n   * Place custom property initialization code in this method in the subclass.\n   *\n   * @param {object} target - either an Emitter or a Particle\n   * @abstract\n   */\n  initialize(target) {} // eslint-disable-line\n\n  /**\n   * Determines if the initializer requires a Web GL API to be provided to its constructor.\n   * If true, the WebGL API will need to be provided as the first argument to the constructor\n   * and fromJSON methods.\n   *\n   * @return {boolean}\n   */\n  static requiresWebGlApi() {\n    return false;\n  }\n\n  /**\n   * Returns a new instance of the initializer from the JSON object passed.\n   *\n   * @abstract\n   * @param {object} json - JSON object containing the required constructor properties\n   * @return {Behaviour}\n   */\n  static fromJSON(json) {} // eslint-disable-line\n}\n","import { Euler } from '../core/three/';\n\nconst particleEuler = new Euler();\n\nexport default {\n  particleEuler: null,\n  /**\n   * Loops through the initializers array and calls each initializer's initialize method\n   * on the supplied particle. This sets the particle's initial properties.\n   *\n   * @see {@link '../emitter/Emitter'} setupParticle\n   * @param {Emitter} emitter - The emitter that has called this method\n   * @param {Particle} particle - The particle that has just been created\n   * @param {array<Initializer>} initializers - All of the emitter's initializers\n   * @return void\n   */\n  initialize: function(emitter, particle, initializers) {\n    let i = initializers.length;\n\n    while (i--) {\n      initializers[i].init(emitter, particle);\n    }\n\n    emitter.bindEmitter && this.bindEmitter(emitter, particle);\n  },\n\n  /**\n   * Ensures that the emitter's position, velocity and accleration are added\n   * to each created particle.\n   *\n   * @param {Emitter} emitter - The emitter that is emitting the particles\n   * @param {Particle} particle - The newly created particle\n   * @return void\n   */\n  bindEmitter: function(emitter, particle) {\n    const {\n      rotation: { x, y, z },\n    } = emitter;\n\n    particle.position.add(emitter.position);\n    particle.velocity.add(emitter.velocity);\n    particle.acceleration.add(emitter.acceleration);\n    particle.velocity.applyEuler(particleEuler.set(x, y, z));\n  },\n};\n","import Initializer from './Initializer';\nimport { createSpan } from '../math';\nimport { INITIALIZER_TYPE_LIFE as type } from './types';\n\n/**\n * Sets the life property on initialized particles.\n *\n */\nexport default class Life extends Initializer {\n  /**\n   * Constructs a Life property instance.\n   *\n   * @param {number} min - The minimum life\n   * @param {number} max - The maximum life\n   * @param {boolean} [center] - Determines whether to average the life value\n   * @param {boolean} [isEnabled=true] - Determines if the initializer should be enabled or not\n   * @return void\n   */\n  constructor(min, max, center, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The life span of the particle.\n     * @type {Span}\n     */\n    this.lifePan = createSpan(min, max, center);\n  }\n\n  /**\n   * Sets the particle's initial life.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    if (this.lifePan.a == Infinity || this.lifePan.a == 'infi') {\n      particle.life = Infinity;\n    } else {\n      particle.life = this.lifePan.getValue();\n    }\n  }\n\n  /**\n   * Creates a Life initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.min - The minimum life time\n   * @param {number} json.max - The maximum life time\n   * @param {number} json.center - The center of the life time\n   * @param {boolean} [json.isEnabled=true] - Determines if the initializer should be enabled or not\n   * @return {Life}\n   */\n  static fromJSON(json) {\n    const { min, max, center = false, isEnabled = true } = json;\n\n    return new Life(min, max, center, isEnabled);\n  }\n}\n","import Initializer from './Initializer';\nimport { createSpan } from '../math';\nimport { INITIALIZER_TYPE_MASS as type } from './types';\n\n/**\n * Sets the mass property on initialized particles.\n *\n */\nexport default class Mass extends Initializer {\n  /**\n   * Constructs a Mass initializer instance.\n   *\n   * @param {number} min - The minumum mass for the particle\n   * @param {number} max - The maximum mass for the particle\n   * @param {boolean} [center] - Determines whether to average the mass value\n   * @return void\n   */\n  constructor(min, max, center = false, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The mass span which is used to set the particle mass value.\n     * @type {Span}\n     */\n    this.massPan = createSpan(min, max, center);\n  }\n\n  /**\n   * Sets the particle's initial mass.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    particle.mass = this.massPan.getValue();\n  }\n\n  /**\n   * Creates a Mass initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.min - The minimum mass\n   * @property {number} json.max - The maximum mass\n   * @property {number} json.center - The center of the mass\n   * @return {Mass}\n   */\n  static fromJSON(json) {\n    const { min, max, center = false, isEnabled = true } = json;\n\n    return new Mass(min, max, center, isEnabled);\n  }\n}\n","import * as Zone from '../zone';\n\nimport Initializer from './Initializer';\nimport { SUPPORTED_JSON_ZONE_TYPES } from '../core/constants';\nimport { INITIALIZER_TYPE_POSITION as type } from './types';\n\n/**\n * Sets the starting position property for initialized particles.\n * This is derived from a zone randomly chosen from those supplied to the constructor.\n *\n */\nexport default class Position extends Initializer {\n  /**\n   * Constructs a Position initializer instance.\n   *\n   * @param {Zone|array<Zone>}\n   * @return void\n   */\n  constructor() {\n    super(type);\n\n    this.reset.apply(this, arguments);\n  }\n\n  /**\n   * Resets the initializer properties.\n   * Clears all previously set zones and resets the zones according to args passed.\n   *\n   * @param {Zone|array<Zone>}\n   * @return void\n   */\n  reset() {\n    if (!this.zones) {\n      this.zones = [];\n    } else {\n      this.zones.length = 0;\n    }\n\n    /**\n     * @desc The zones to use as bounds for calculating the particle's starting position.\n     * @type {array<Zone>}\n     */\n    this.zones = this.zones.concat(Array.prototype.slice.call(arguments));\n  }\n\n  /**\n   * Adds a zone or zones to this.zones.\n   *\n   * @param {Zone|array<Zone>}\n   * @return void\n   */\n  addZone() {\n    this.zones = this.zones.concat(Array.prototype.slice.call(arguments));\n  }\n\n  /**\n   * Creates a Position initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {string} json.zoneType - The type of zone to use for initial position\n   * @return {Position}\n   */\n  static fromJSON(json) {\n    const { zoneType, ...params } = json;\n\n    if (!SUPPORTED_JSON_ZONE_TYPES.includes(zoneType)) {\n      throw new Error(\n        `The zone type ${zoneType} is invalid or not yet supported`\n      );\n    }\n\n    return new Position(new Zone[zoneType](...Object.values(params)));\n  }\n}\n\n/**\n * Sets the particle's initial position.\n *\n * @param {Particle} particle - the particle to initialize the property on\n * @return void\n */\nPosition.prototype.initialize = (function() {\n  let zone;\n\n  return function(target) {\n    zone = this.zones[(Math.random() * this.zones.length) >> 0];\n\n    zone.getPosition();\n\n    target.position.x = zone.vector.x;\n    target.position.y = zone.vector.y;\n    target.position.z = zone.vector.z;\n  };\n})();\n","import Initializer from './Initializer';\nimport { createSpan } from '../math';\nimport { INITIALIZER_TYPE_RADIUS as type } from './types';\n/**\n * Sets the radius property on initialized particles.\n *\n */\nexport default class Radius extends Initializer {\n  /**\n   * Constructs a Radius initializer instance.\n   *\n   * @param {number} width - The width of the particle radius\n   * @param {number} height - The height of the particle radius\n   * @param {boolean} [center=false] - Determines whether to average the radius value\n   * @return void\n   */\n  constructor(width, height, center = false, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc The radius span which is used to set the particle radius value.\n     * @type {Span}\n     */\n    this.radius = createSpan(width, height, center);\n  }\n\n  /**\n   * Resets the initializer properties.\n   * Clears all previously set zones and resets the zones according to args passed.\n   *\n   * @param {number} width - The width of the particle radius\n   * @param {number} height - The height of the particle radius\n   * @param {boolean} [center=false] - Determines whether to average the radius value\n   * @return void\n   */\n  reset(width, height, center = false) {\n    this.radius = createSpan(width, height, center);\n  }\n\n  /**\n   * Sets the particle's initial radius.\n   *\n   * @param {Particle} particle - the particle to initialize the property on\n   * @return void\n   */\n  initialize(particle) {\n    particle.radius = this.radius.getValue();\n    particle.transform.oldRadius = particle.radius;\n  }\n\n  /**\n   * Creates a Radius initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.width - The width of the particle radius\n   * @property {number} json.height - The height of the particle radius\n   * @property {number} json.center - The center of the particle radius\n   * @return {Radius}\n   */\n  static fromJSON(json) {\n    const { width, height, center = false, isEnabled = true } = json;\n\n    return new Radius(width, height, center, isEnabled);\n  }\n}\n","import { DEFAULT_RATE_NUM_PAN, DEFAULT_RATE_TIME_PAN } from './constants';\nimport { Span, createSpan } from '../math';\n\nimport Initializer from './Initializer';\nimport { INITIALIZER_TYPE_RATE as type } from './types';\n\n/**\n * Calculates the rate of particle emission.\n *\n * NOTE This doesn't need to be an initializer, it doesn't have an initialize\n * method, it overrides the base init method and it is only relevent to the Emitter class.\n * It would be better to move this to the Emitter module itself as a standalone class.\n *\n */\nexport default class Rate extends Initializer {\n  /**\n   * Constructs a Rate instance.\n   *\n   * @param {number|array|Span} numPan - The number of particles to emit\n   * @param {number|array|Span} timePan - The time between each particle emission\n   * @return void\n   */\n  constructor(numPan = DEFAULT_RATE_NUM_PAN, timePan = DEFAULT_RATE_TIME_PAN) {\n    super(type);\n\n    /**\n     * @desc Sets the number of particles to emit.\n     * @type {Span}\n     */\n    this.numPan = createSpan(numPan);\n\n    /**\n     * @desc Sets the time between each particle emission.\n     * @type {Span}\n     */\n    this.timePan = createSpan(timePan);\n\n    /**\n     * @desc The rate's start time.\n     * @type {number}\n     */\n    this.startTime = 0;\n\n    /**\n     * @desc The rate's next time.\n     * @type {number}\n     */\n    this.nextTime = 0;\n\n    this.init();\n  }\n\n  /**\n   * Sets the startTime and nextTime properties.\n   *\n   * @return void\n   */\n  init() {\n    this.startTime = 0;\n    this.nextTime = this.timePan.getValue();\n  }\n\n  /**\n   * Gets the number of particles to emit.\n   *\n   * @param {number} time - Current particle engine time\n   * @return {number}\n   */\n  getValue(time) {\n    this.startTime += time;\n\n    if (this.startTime >= this.nextTime) {\n      this.init();\n\n      if (this.numPan.b == 1) {\n        if (this.numPan.getValue('Float') > 0.5) return 1;\n        else return 0;\n      } else {\n        return this.numPan.getValue('Int');\n      }\n    }\n\n    return 0;\n  }\n\n  /**\n   * Creates a Rate initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @property {number} json.particlesMin - The minimum number of particles to emit\n   * @property {number} json.particlesMax - The maximum number of particles to emit\n   * @property {number} json.perSecondMin - The minimum per second emit rate\n   * @property {number} json.perSecondMax - The maximum per second emit rate\n   * @return {Rate}\n   */\n  static fromJSON(json) {\n    const { particlesMin, particlesMax, perSecondMin, perSecondMax } = json;\n\n    return new Rate(\n      new Span(particlesMin, particlesMax),\n      new Span(perSecondMin, perSecondMax)\n    );\n  }\n}\n","import {\n  DEFAULT_JSON_MATERIAL_PROPERTIES,\n  DEFAULT_MATERIAL_PROPERTIES,\n  SUPPORTED_MATERIAL_BLENDING_MODES,\n} from './constants';\n\nimport Initializer from './Initializer';\nimport { INITIALIZER_TYPE_TEXTURE as type } from './types';\nimport { withDefaults } from '../utils';\n\n/**\n * Sets the body property to be a THREE.Sprite with a texture map on initialized particles.\n *\n */\nexport default class Texture extends Initializer {\n  /**\n   * Constructs an Texture initializer.\n   *\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {string} texture - The sprite texture\n   * @param {object|undefined} materialProperties - The sprite material properties\n   * @param {?Texture} loadedTexture - Preloaded THREE.Texture instance\n   */\n  constructor(\n    THREE,\n    loadedTexture,\n    materialProperties = DEFAULT_MATERIAL_PROPERTIES,\n    isEnabled = true\n  ) {\n    super(type, isEnabled);\n\n    const { Sprite, SpriteMaterial } = THREE;\n\n    /**\n     * @desc The material properties for this object's SpriteMaterial\n     * NOTE This is required for testing purposes\n     * @type {object}\n     */\n    this.materialProperties = withDefaults(\n      DEFAULT_MATERIAL_PROPERTIES,\n      materialProperties\n    );\n\n    /**\n     * @desc The texture for the THREE.SpriteMaterial map.\n     * @type {Texture}\n     */\n    this.texture = loadedTexture;\n\n    /**\n     * @desc THREE.SpriteMaterial instance.\n     * @type {SpriteMaterial}\n     */\n    this.material = new SpriteMaterial({\n      ...{ map: loadedTexture },\n      ...this.materialProperties,\n    });\n\n    /**\n     * @desc THREE.Sprite instance.\n     * @type {Sprite}\n     */\n    this.sprite = new Sprite(this.material);\n  }\n\n  /**\n   * Sets the particle body to the sprite.\n   *\n   * @param {Particle} particle - The particle to set the body of\n   * @return void\n   */\n  initialize(particle) {\n    particle.body = this.sprite;\n  }\n\n  /**\n   * Creates a Texture initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from\n   * @param {object} THREE - The Web GL API we are using eg., THREE\n   * @param {Texture} json.loadedTexture - The loaded sprite texture\n   * @param {object} json.materialProperties - The sprite material properties\n   * @return {BodySprite}\n   */\n  static fromJSON(json, THREE) {\n    const {\n      loadedTexture,\n      materialProperties = DEFAULT_JSON_MATERIAL_PROPERTIES,\n      isEnabled = true,\n    } = json;\n\n    const ensureMappedBlendingMode = properties => {\n      const { blending } = properties;\n\n      return {\n        ...properties,\n        blending: blending\n          ? SUPPORTED_MATERIAL_BLENDING_MODES[blending]\n          : SUPPORTED_MATERIAL_BLENDING_MODES[\n            DEFAULT_JSON_MATERIAL_PROPERTIES.blending\n          ],\n      };\n    };\n\n    return new Texture(\n      THREE,\n      loadedTexture,\n      withDefaults(\n        DEFAULT_JSON_MATERIAL_PROPERTIES,\n        ensureMappedBlendingMode(materialProperties)\n      ),\n      isEnabled\n    );\n  }\n}\n","import { DR } from '../../constants';\nimport { Polar3D } from '../../math';\nimport Velocity from './Velocity';\nimport { INITIALIZER_TYPE_POLAR_VELOCITY as type } from '../types';\n\n/**\n * Sets the velocity property on initialized particles.\n *\n */\nexport default class PolarVelocity extends Velocity {\n  /**\n   * Constructs a PolarVelocity initializer.\n   *\n   * @param {Polar3D} polar3d - The polar vector for the velocity\n   * @param {number} theta - The theta angle to use\n   * @return void\n   */\n  constructor(polar3d, theta, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Theta.\n     * @type {number}\n     */\n    this.tha = theta * DR;\n\n    /**\n     * @desc Directional vector\n     * @type {Vector3D}\n     */\n    this.dirVec = polar3d.toVector3D();\n\n    /**\n     * @desc Determines whether to use the directional vector or not.\n     * @type {boolean}\n     */\n    this._useV = false;\n  }\n\n  /**\n   * Creates a PolarVelocity initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.polarRadius - The Polar3D radius\n   * @param {number} json.polarTheta - The Polar3D theta\n   * @param {number} json.polarPhi - The Polar3D phi\n   * @param {number} json.velocityTheta - The velocity theta\n   * @return {PolarVelocity}\n   */\n  static fromJSON(json) {\n    const {\n      polarRadius,\n      polarTheta,\n      polarPhi,\n      velocityTheta,\n      isEnabled = true,\n    } = json;\n\n    return new PolarVelocity(\n      new Polar3D(polarRadius, polarTheta, polarPhi),\n      velocityTheta,\n      isEnabled\n    );\n  }\n}\n","import { Vector3D, createSpan } from '../../math';\n\nimport { DR } from '../../constants';\nimport Velocity from './Velocity';\nimport { INITIALIZER_TYPE_RADIAL_VELOCITY as type } from '../types';\n\n/**\n * Sets the velocity property on initialized particles.\n *\n */\nexport default class RadialVelocity extends Velocity {\n  /**\n   * Constructs a RadialVelocity initializer.\n   *\n   * @param {number|Span} radius - The velocity radius\n   * @param {Vector3D} vector3d - The directional vector for the velocity\n   * @param {number} theta - The theta angle to use\n   * @return void\n   */\n  constructor(radius, vector3d, theta, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Velocity radius span.\n     * @type {Span}\n     */\n    this.radiusPan = createSpan(radius);\n\n    /**\n     * @desc Direction vector.\n     * @type {Vector3D}\n     */\n    this.dir = vector3d.clone().normalize();\n\n    /**\n     * @desc Theta.\n     * @type {number}\n     */\n    this.tha = theta * DR;\n\n    /**\n     * @desc Determines whether to use the directional vector or not.\n     * @type {boolean}\n     */\n    this._useV = true;\n  }\n\n  /**\n   * Creates a RadialVelocity initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.radius - The velocity radius\n   * @param {number} json.x - The velocity x axis direction\n   * @param {number} json.y - The velocity y axis direction\n   * @param {number} json.z - The velocity z axis direction\n   * @param {number} json.theta - The velocity theta\n   * @return {RadialVelocity}\n   */\n  static fromJSON(json) {\n    const { radius, x, y, z, theta, isEnabled = true } = json;\n\n    return new RadialVelocity(radius, new Vector3D(x, y, z), theta, isEnabled);\n  }\n}\n","import { Vector3D, createSpan } from '../../math';\n\nimport { DR } from '../../constants';\nimport Velocity from './Velocity';\nimport { INITIALIZER_TYPE_VECTOR_VELOCITY as type } from '../types';\n\n/**\n * Sets the velocity property on initialized particles.\n *\n */\nexport default class VectorVelocity extends Velocity {\n  /**\n   * Constructs a VectorVelocity initializer.\n   *\n   * @param {Vector3D} vector3d - The directional vector for the velocity\n   * @param {number} theta - The theta angle to use\n   * @return void\n   */\n  constructor(vector3d, theta, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Velocity radius span.\n     * @type {Span}\n     */\n    this.radiusPan = createSpan(1);\n\n    /**\n     * @desc Direction vector.\n     * @type {Vector3D}\n     */\n    this.dir = vector3d.clone();\n\n    /**\n     * @desc Theta.\n     * @type {number}\n     */\n    this.tha = theta * DR;\n\n    /**\n     * @desc Determines whether to use the directional vector or not.\n     * @type {boolean}\n     */\n    this._useV = true;\n  }\n\n  /**\n   * Creates a VectorVelocity initializer from JSON.\n   *\n   * @param {object} json - The JSON to construct the instance from.\n   * @param {number} json.x - The velocity x axis direction\n   * @param {number} json.y - The velocity y axis direction\n   * @param {number} json.z - The velocity z axis direction\n   * @param {number} json.theta - The velocity theta\n   * @return {VectorVelocity}\n   */\n  static fromJSON(json) {\n    const { x, y, z, theta, isEnabled = true } = json;\n\n    return new VectorVelocity(new Vector3D(x, y, z), theta, isEnabled);\n  }\n}\n","import { MEASURE, PI } from '../../constants';\nimport { MathUtils, Vector3D } from '../../math';\n\nimport Initializer from '../Initializer';\n\n/**\n * Abstract class for Velocity initializers.\n *\n */\nexport default class Velocity extends Initializer {\n  /**\n   * Constructs a Velocity intitializer instance.\n   *\n   * @return void\n   */\n  constructor(type, isEnabled = true) {\n    super(type, isEnabled);\n\n    /**\n     * @desc Directional vector\n     * @type {Vector3D}\n     */\n    this.dirVec = new Vector3D(0, 0, 0);\n  }\n\n  normalize(vr) {\n    return vr * MEASURE;\n  }\n}\n\n/**\n * Sets the particle's initial velocity.\n *\n * @singleton\n * @param {Particle} particle - the particle to initialize the property on\n * @return void\n */\nVelocity.prototype.initialize = (function() {\n  var tha;\n  var normal = new Vector3D(0, 0, 1);\n  var v = new Vector3D(0, 0, 0);\n\n  return function initialize(particle) {\n    tha = this.tha * Math.random();\n    this._useV && this.dirVec.copy(this.dir).scalar(this.radiusPan.getValue());\n\n    MathUtils.getNormal(this.dirVec, normal);\n    v.copy(this.dirVec).applyAxisAngle(normal, tha);\n    v.applyAxisAngle(this.dirVec.normalize(), Math.random() * PI * 2);\n\n    particle.velocity.copy(v);\n\n    return this;\n  };\n})();\n","export { default as PolarVelocity } from './PolarVelocity';\nexport { default as RadialVelocity } from './RadialVelocity';\nexport { default as VectorVelocity } from './VectorVelocity';\n","import {\n  AdditiveBlending,\n  CustomBlending,\n  MultiplyBlending,\n  NoBlending,\n  NormalBlending,\n  SubtractiveBlending,\n} from '../core/three/';\n\nexport const SUPPORTED_MATERIAL_BLENDING_MODES = {\n  AdditiveBlending,\n  CustomBlending,\n  MultiplyBlending,\n  NoBlending,\n  NormalBlending,\n  SubtractiveBlending,\n};\n\nexport const DEFAULT_MATERIAL_PROPERTIES = {\n  color: 0xff0000,\n  blending: AdditiveBlending,\n  fog: true,\n};\nexport const DEFAULT_JSON_MATERIAL_PROPERTIES = {\n  ...DEFAULT_MATERIAL_PROPERTIES,\n  blending: 'AdditiveBlending',\n};\nexport const DEFAULT_RATE_NUM_PAN = 1;\nexport const DEFAULT_RATE_TIME_PAN = 1;\n","export { default as Body } from './Body';\nexport { default as BodySprite } from './BodySprite';\nexport { default as InitializerUtil } from './InitializerUtil';\nexport { default as Life } from './Life';\nexport { default as Mass } from './Mass';\nexport { default as Position } from './Position';\nexport { default as Radius } from './Radius';\nexport { default as Rate } from './Rate';\nexport { default as Texture } from './Texture';\nexport { VectorVelocity, PolarVelocity, RadialVelocity } from './Velocity';\n","export const INITIALIZER_TYPE_ABSTRACT = 'Initializer';\nexport const INITIALIZER_TYPE_BODY = 'Body';\nexport const INITIALIZER_TYPE_BODY_SPRITE = 'BodySprite';\nexport const INITIALIZER_TYPE_TEXTURE = 'Texture';\nexport const INITIALIZER_TYPE_LIFE = 'Life';\nexport const INITIALIZER_TYPE_MASS = 'Mass';\nexport const INITIALIZER_TYPE_POSITION = 'Position';\nexport const INITIALIZER_TYPE_RADIUS = 'Radius';\nexport const INITIALIZER_TYPE_ZONE = 'Zone';\nexport const INITIALIZER_TYPE_VECTOR_VELOCITY = 'VectorVelocity';\nexport const INITIALIZER_TYPE_POLAR_VELOCITY = 'PolarVelocity';\nexport const INITIALIZER_TYPE_RADIAL_VELOCITY = 'RadialVelocity';\nexport const INITIALIZER_TYPE_RATE = 'Rate';\nexport const INITIALIZER_TYPES_THAT_REQUIRE_THREE = [\n  INITIALIZER_TYPE_BODY_SPRITE,\n  INITIALIZER_TYPE_TEXTURE,\n];\n","import Span from './Span';\nimport sample from 'lodash/sample';\nimport { MATH_TYPE_ARRAY_SPAN as type } from './types';\n\n/**\n * Class for storing items of mixed type and fetching a randomised\n * value from these items.\n *\n */\nexport default class ArraySpan extends Span {\n  /**\n   * Constructs an ArraySpan instance.\n   *\n   * @param {mixed|array<mixed>} items - Items\n   * @return void\n   */\n  constructor(items) {\n    super();\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc An array of colors\n     * @type {array}\n     */\n    this.items = Array.isArray(items) ? items : [items];\n  }\n\n  /**\n   * Gets a random item.\n   *\n   * @return {mixed}\n   */\n  getValue() {\n    return sample(this.items);\n  }\n}\n\n/**\n * Attempts to create an ArraySpan from the items provided.\n *\n * @param {mixed} items - Items to try and create an ArraySpan from\n * @return {?ArraySpan}\n */\nexport const createArraySpan = items => {\n  if (!items) {\n    return null;\n  }\n\n  if (items instanceof ArraySpan) {\n    return items;\n  }\n\n  return new ArraySpan(items);\n};\n","import { MATH_TYPE_BOX as type } from './types';\n\nexport default class Box {\n  constructor(x, y, z, w, h, d) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.width = w;\n    this.height = h;\n    this.depth = d;\n    this.bottom = this.y + this.height;\n    this.right = this.x + this.width;\n    this.right = this.x + this.width;\n  }\n\n  contains(x, y, z) {\n    if (\n      x <= this.right &&\n      x >= this.x &&\n      y <= this.bottom &&\n      y >= this.y &&\n      z <= this.depth &&\n      z >= this.z\n    )\n      return true;\n    else return false;\n  }\n}\n","import MathUtils from './MathUtils';\nimport Span from './Span';\nimport sample from 'lodash/sample';\nimport { MATH_TYPE_COLOR_SPAN as type } from './types';\n\n/**\n * Class for storing and interacting with an array of colours.\n *\n */\nexport default class ColorSpan extends Span {\n  /**\n   * Constructs a ColorSpan instance.\n   *\n   * @param {string|array<string>} colors - A color or array of colors. If the\n   * string 'random' is provided, a random color will be returned from getValue\n   * @return void\n   */\n  constructor(colors) {\n    super();\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    /**\n     * @desc Determines if a random color should be returned from the getValue method.\n     * @type {boolean}\n     */\n    this.shouldRandomize = colors === 'random' ? true : false;\n\n    /**\n     * @desc An array of colors to select from\n     * @type {array<string>}\n     */\n    this.colors = Array.isArray(colors) ? colors : [colors];\n  }\n\n  /**\n   * Gets a color from the color array\n   * or a random color if this.shouldRandomize is true.\n   *\n   * @return {string} a hex color\n   */\n  getValue() {\n    return this.shouldRandomize ? MathUtils.randomColor() : sample(this.colors);\n  }\n}\n\n/**\n * Attempts to create an ArraySpan from the colors provided.\n *\n * @param {mixed} colors - colors to try and create an ArraySpan from\n * @return {?ColorSpan}\n */\nexport const createColorSpan = colors => {\n  if (!colors) {\n    console.warn(\n      `Invalid colors argument ${colors} passed to createColorSpan. Defaulting to 'random'.`\n    );\n\n    colors = 'random';\n  }\n\n  if (colors instanceof ColorSpan) {\n    return colors;\n  }\n\n  return new ColorSpan(colors);\n};\n","import { PI } from '../constants';\n\nexport default {\n  randomAToB: function(a, b, INT) {\n    if (!INT) return a + Math.random() * (b - a);\n    else return ((Math.random() * (b - a)) >> 0) + a;\n  },\n  randomFloating: function(center, f, INT) {\n    return this.randomAToB(center - f, center + f, INT);\n  },\n\n  randomZone: function(display) {}, //eslint-disable-line\n\n  degreeTransform: function(a) {\n    return (a * PI) / 180;\n  },\n\n  toColor16: function getRGB(num) {\n    return '#' + num.toString(16);\n  },\n\n  randomColor: function() {\n    return (\n      '#' +\n      ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).slice(-6)\n    );\n  },\n\n  lerp: function(a, b, energy) {\n    return b + (a - b) * energy;\n  },\n\n  getNormal: function(v, n) {\n    if (v.x == 0 && v.y == 0) {\n      if (v.z == 0) n.set(1, 0, 1);\n      else n.set(1, 1, -v.y / v.z);\n    } else {\n      if (v.x == 0) n.set(1, 0, 1);\n      else n.set(-v.y / v.x, 1, 1);\n    }\n\n    return n.normalize();\n  },\n\n  /**\n   * Rodrigues' Rotation Formula\n   * https://en.wikipedia.org/wiki/Rodrigues%27_rotation_formula\n   * v = vcos() + k(kv)(1cos()) + (k*v)sin()\n   */\n  axisRotate: function(v0, v, k, tha) {\n    var cos = Math.cos(tha);\n    var sin = Math.sin(tha);\n    var p = k.dot(v) * (1 - cos);\n\n    v0.copy(k);\n    v0.cross(v).scalar(sin);\n    v0.addValue(v.x * cos, v.y * cos, v.z * cos);\n    v0.addValue(k.x * p, k.y * p, k.z * p);\n  }\n};\n","import Vector3D from './Vector3D';\nimport { MATH_TYPE_POLAR_3D as type } from './types';\n\nexport default class Polar3D {\n  constructor(radius, theta, phi) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this.radius = radius || 1;\n    this.phi = phi || 0;\n    this.theta = theta || 0;\n  }\n\n  set(radius, theta, phi) {\n    this.radius = radius || 1;\n    this.phi = phi || 0;\n    this.theta = theta || 0;\n\n    return this;\n  }\n\n  setRadius(radius) {\n    this.radius = radius;\n\n    return this;\n  }\n\n  setPhi(phi) {\n    this.phi = phi;\n\n    return this;\n  }\n\n  setTheta(theta) {\n    this.theta = theta;\n\n    return this;\n  }\n\n  copy(p) {\n    this.radius = p.radius;\n    this.phi = p.phi;\n    this.theta = p.theta;\n\n    return this;\n  }\n\n  toVector3D() {\n    return new Vector3D(this.getX(), this.getY(), this.getZ());\n  }\n\n  getX() {\n    return this.radius * Math.sin(this.theta) * Math.cos(this.phi);\n  }\n\n  getY() {\n    return -this.radius * Math.sin(this.theta) * Math.sin(this.phi);\n  }\n\n  getZ() {\n    return this.radius * Math.cos(this.theta);\n  }\n\n  normalize() {\n    this.radius = 1;\n\n    return this;\n  }\n\n  equals(v) {\n    return (\n      v.radius === this.radius && v.phi === this.phi && v.theta === this.theta\n    );\n  }\n\n  clear() {\n    this.radius = 0.0;\n    this.phi = 0.0;\n    this.theta = 0.0;\n\n    return this;\n  }\n\n  clone() {\n    return new Polar3D(this.radius, this.phi, this.theta);\n  }\n}\n","import MathUtils from './MathUtils';\nimport Util from '../utils/Util';\nimport { MATH_TYPE_SPAN as type } from './types';\n\nexport default class Span {\n  /**\n   * Span Class. Get a random Number from a to b. Or from c-a to c+b\n   * @param {Number|Array} a - min number\n   * @param {Number} b - max number\n   * @param {Number} center - the center's z value\n   * @example\n   * var span = new Span(0,30);\n   * or\n   * var span = new Span([\"#fff\",\"#ff0\",\"#000\"]);\n   * or\n   * var span = new Span(5,1,\"center\");\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(a, b, center) {\n    this._isArray = false;\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n\n    if (Util.isArray(a)) {\n      this._isArray = true;\n      this.a = a;\n    } else {\n      this.a = Util.initValue(a, 1);\n      this.b = Util.initValue(b, this.a);\n      this._center = Util.initValue(center, false);\n    }\n  }\n\n  /**\n   * Span.getValue function\n   * @name get a random Number from a to b. Or get a random Number from c-a to c+b\n   * @param {number} INT or int\n   * @return {number} a random Number\n   */\n  getValue(INT) {\n    if (this._isArray) {\n      return this.a[(this.a.length * Math.random()) >> 0];\n    } else {\n      if (!this._center) return MathUtils.randomAToB(this.a, this.b, INT);\n      else return MathUtils.randomFloating(this.a, this.b, INT);\n    }\n  }\n}\n\nexport const createSpan = (a, b, c) => {\n  if (a instanceof Span) return a;\n\n  if (b === undefined) {\n    return new Span(a);\n  } else {\n    if (c === undefined) return new Span(a, b);\n    else return new Span(a, b, c);\n  }\n};\n","import { Euler, Vector3 } from '../core/three/';\n\nexport default class Vector3D extends Vector3 {\n  clear() {\n    this.x = 0.0;\n    this.y = 0.0;\n    this.z = 0.0;\n\n    return this;\n  }\n\n  scalar(s) {\n    this.x *= s;\n    this.y *= s;\n    this.z *= s;\n\n    return this;\n  }\n\n  addValue(a, b, c) {\n    this.x += a;\n    this.y += b;\n    this.z += c;\n\n    return this;\n  }\n\n  toString() {\n    return 'x:' + this.x + 'y:' + this.y + 'z:' + this.z;\n  }\n\n  eulerFromDir(vector3D) {\n    const euler = new Euler();\n\n    return euler.setFromVector3(vector3D);\n  }\n}\n","/**\n * @see https://en.wikipedia.org/wiki/Euler_method\n * @type {string}\n */\nexport const INTEGRATION_TYPE_EULER = 'EULER';\n\n/**\n * @see http://web.mit.edu/10.001/Web/Course_Notes/Differential_Equations_Notes/node5.html\n * @type {string}\n */\nexport const INTEGRATION_TYPE_RK2 = 'RUNGE_KUTTA_2';\n\n/**\n * @see http://web.mit.edu/10.001/Web/Course_Notes/Differential_Equations_Notes/node5.html\n * @type {string}\n */\nexport const INTEGRATION_TYPE_RK4 = 'RUNGE_KUTTA_4';\n\n/**\n * @see https://en.wikipedia.org/wiki/Verlet_integration\n * @type {string}\n */\nexport const INTEGRATION_TYPE_VERLET = 'VERLET';\n","export { default as ArraySpan, createArraySpan } from './ArraySpan';\nexport { default as ColorSpan, createColorSpan } from './ColorSpan';\nexport { default as Box } from './Box';\nexport { integrate } from './integration';\nexport { default as MathUtils } from './MathUtils';\nexport { default as Polar3D } from './Polar3D';\nexport { default as Span, createSpan } from './Span';\nexport { default as Vector3D } from './Vector3D';\nexport {\n  INTEGRATION_TYPE_EULER,\n  INTEGRATION_TYPE_RK2,\n  INTEGRATION_TYPE_RK4,\n  INTEGRATION_TYPE_VERLET\n} from './constants';\n","import { INTEGRATION_TYPE_EULER } from './constants';\nimport { DEFAULT_SYSTEM_DELTA } from '../core/constants';\n\n/**\n * Performs euler integration on the particle.\n *\n * @param {Particle} particle - The particle to integrate\n * @param {number} time - The factor of time to use\n * @param {number} damping - The damping to use\n * @return void\n */\nconst eulerIntegration = (particle, time, damping) => {\n  if (particle.sleep) {\n    return;\n  }\n\n  particle.old.position.copy(particle.position);\n  particle.old.velocity.copy(particle.velocity);\n  particle.acceleration.scalar(1 / particle.mass);\n  particle.velocity.add(particle.acceleration.scalar(time));\n  particle.position.add(particle.old.velocity.scalar(time));\n  damping &&\n    particle.velocity.scalar(Math.pow(damping, time / DEFAULT_SYSTEM_DELTA));\n  particle.acceleration.clear();\n};\n\n/**\n * Performs the chosen integration on the particle.\n * Defaults to euler integration.\n *\n * @param {Particle} particle - The particle to integrate\n * @param {number} time - The factor of time to use\n * @param {number} damping - The damping to use\n * @param {string} [type=INTEGRATION_TYPE_EULER] - The algorithm to use\n * @return void\n */\nexport const integrate = (\n  particle,\n  time,\n  damping,\n  type = INTEGRATION_TYPE_EULER\n) => {\n  switch (type) {\n    case INTEGRATION_TYPE_EULER:\n      eulerIntegration(particle, time, damping);\n      break;\n    default:\n      eulerIntegration(particle, time, damping);\n  }\n};\n","export const MATH_TYPE_ARRAY_SPAN = 'ArraySpan';\nexport const MATH_TYPE_COLOR_SPAN = 'ColorSpan';\nexport const MATH_TYPE_BOX = 'Box';\nexport const MATH_TYPE_POLAR_3D = 'Polar3D';\nexport const MATH_TYPE_SPAN = 'Span';\nexport const MATH_TYPE_VECTOR_3D = 'Vector3D';\n","import {\n  PARTICLE_CREATED,\n  PARTICLE_DEAD,\n  PARTICLE_UPDATE,\n  SYSTEM_UPDATE,\n} from '../events/constants';\n\nimport { RENDERER_TYPE_BASE } from './types';\nimport { __DEV__ } from '../constants';\n\nexport default class BaseRenderer {\n  constructor(type = RENDERER_TYPE_BASE) {\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n  }\n\n  init(system) {\n    var self = this;\n\n    this.system = system;\n\n    this.system.eventDispatcher.addEventListener(SYSTEM_UPDATE, function(\n      system\n    ) {\n      self.onSystemUpdate.call(self, system);\n    });\n\n    this.system.eventDispatcher.addEventListener(PARTICLE_CREATED, function(\n      particle\n    ) {\n      self.onParticleCreated.call(self, particle);\n    });\n\n    this.system.eventDispatcher.addEventListener(PARTICLE_UPDATE, function(\n      particle\n    ) {\n      self.onParticleUpdate.call(self, particle);\n    });\n\n    this.system.eventDispatcher.addEventListener(PARTICLE_DEAD, function(\n      particle\n    ) {\n      self.onParticleDead.call(self, particle);\n    });\n\n    this.logRendererType();\n  }\n\n  remove() {\n    this.system = null;\n  }\n\n  /**\n   * @abstract\n   */\n  onParticleCreated(particle) {} // eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  onParticleUpdate(particle) {} // eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  onParticleDead(particle) {} // eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  onSystemUpdate(system) {} // eslint-disable-line\n\n  /**\n   * Logs the renderer type being used when in development mode.\n   *\n   * @return void\n   */\n  logRendererType() {\n    if (!__DEV__) {\n      return;\n    }\n\n    console.log(`${this.type}`);\n  }\n}\n","import BaseRenderer from './BaseRenderer';\nimport { Pool } from '../core';\nimport { RENDERER_TYPE_CUSTOM as type } from './types';\n\nexport default class CustomRenderer extends BaseRenderer {\n  constructor() {\n    super(type);\n\n    this.targetPool = new Pool();\n    this.materialPool = new Pool();\n  }\n\n  onSystemUpdate() {}\n\n  onParticleCreated(particle) {} // eslint-disable-line\n\n  onParticleUpdate(particle) {} // eslint-disable-line\n\n  onParticleDead(particle) {} // eslint-disable-line\n}\n","import { ParticleBuffer, Target, TextureAtlas, UniqueList } from '../common';\nimport { fragmentShader, vertexShader } from './shaders';\n\nimport BaseRenderer from '../../BaseRenderer';\nimport { DEFAULT_RENDERER_OPTIONS } from '../common/constants';\nimport { Pool } from '../../../core';\nimport { RENDERER_TYPE_GPU_DESKTOP } from '../../types';\n\nlet THREE;\n\n/**\n * GPURenderer for devices that support floating point textures.\n *\n * @author thrax <manthrax@gmail.com>\n * @author rohan-deshpande <rohan@creativelifeform.com>\n */\nexport default class DesktopGPURenderer extends BaseRenderer {\n  constructor(container, three, options = DEFAULT_RENDERER_OPTIONS) {\n    super(RENDERER_TYPE_GPU_DESKTOP);\n\n    THREE = this.three = three;\n    const props = { ...DEFAULT_RENDERER_OPTIONS, ...options };\n    const {\n      camera,\n      maxParticles,\n      baseColor,\n      blending,\n      depthTest,\n      depthWrite,\n      transparent,\n      shouldDebugTextureAtlas,\n    } = props;\n    const particleBuffer = new ParticleBuffer(maxParticles, THREE);\n    const material = new THREE.ShaderMaterial({\n      uniforms: {\n        baseColor: { value: new THREE.Color(baseColor) },\n        uTexture: { value: null },\n        atlasIndex: { value: null },\n      },\n      vertexShader: vertexShader(),\n      fragmentShader: fragmentShader(),\n      blending: THREE[blending],\n      depthTest,\n      depthWrite,\n      transparent,\n    });\n\n    this.container = container;\n    this.camera = camera;\n    this.targetPool = new Pool();\n    this.uniqueList = new UniqueList(maxParticles);\n    this.particleBuffer = particleBuffer;\n    this.buffer = particleBuffer.buffer;\n    this.stride = particleBuffer.stride;\n    this.geometry = particleBuffer.geometry;\n    this.material = material;\n    this.points = new THREE.Points(this.geometry, this.material);\n    this.points.frustumCulled = false;\n    this.shouldDebugTextureAtlas = shouldDebugTextureAtlas;\n\n    this.container.add(this.points);\n  }\n\n  onSystemUpdate(system) {\n    super.onSystemUpdate(system);\n\n    this.buffer.needsUpdate = true;\n\n    this.textureAtlas && this.textureAtlas.update();\n  }\n\n  /**\n   * Pools the particle target if it does not exist.\n   * Updates the target and maps particle properties to the point.\n   *\n   * @param {Particle}\n   */\n  onParticleCreated(particle) {\n    if (!particle.target) {\n      particle.target = this.targetPool.get(Target, THREE);\n      this.uniqueList.add(particle.id);\n    }\n\n    this.updateTarget(particle).mapParticleTargetPropsToPoint(particle);\n  }\n\n  /**\n   * Maps particle properties to the point if the particle has a target.\n   *\n   * @param {Particle}\n   */\n  onParticleUpdate(particle) {\n    if (!particle.target) {\n      return;\n    }\n\n    this.updateTarget(particle).mapParticleTargetPropsToPoint(particle);\n  }\n\n  /**\n   * Resets and clears the particle target.\n   *\n   * @param {Particle}\n   */\n  onParticleDead(particle) {\n    if (!particle.target) {\n      return;\n    }\n\n    particle.target.reset();\n    this.mapParticleTargetPropsToPoint(particle);\n\n    particle.target = null;\n  }\n\n  /**\n   * Maps all mutable properties from the particle to the target.\n   *\n   * @param {Particle}\n   * @return {DesktopGPURenderer}\n   */\n  updateTarget(particle) {\n    const { position, scale, radius, color, alpha, body, id } = particle;\n    const { r, g, b } = color;\n\n    particle.target.position.copy(position);\n    particle.target.size = scale * radius;\n    particle.target.color.setRGB(r, g, b);\n    particle.target.alpha = alpha;\n    particle.target.index = this.uniqueList.find(id);\n\n    if (body && body instanceof THREE.Sprite) {\n      const { map } = body.material;\n\n      particle.target.texture = map;\n      particle.target.textureIndex = this.getTextureID(\n        map,\n        this.shouldDebugTextureAtlas\n      );\n    }\n\n    return this;\n  }\n\n  /**\n   * Entry point for mapping particle properties to buffer geometry points.\n   *\n   * @param {Particle} particle - The particle containing the properties to map\n   * @return {DesktopGPURenderer}\n   */\n  mapParticleTargetPropsToPoint(particle) {\n    this.updatePointPosition(particle)\n      .updatePointSize(particle)\n      .updatePointColor(particle)\n      .updatePointAlpha(particle)\n      .updatePointTextureIndex(particle);\n\n    return this;\n  }\n\n  /**\n   * Updates the point's position according to the particle's target position.\n   *\n   * @param {Particle} particle - The particle containing the target position.\n   * @return {DesktopGPURenderer}\n   */\n  updatePointPosition(particle) {\n    const attribute = 'position';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.position.x;\n    buffer.array[target.index * stride + offset + 1] = target.position.y;\n    buffer.array[target.index * stride + offset + 2] = target.position.z;\n\n    return this;\n  }\n\n  /**\n   * Updates the point's size relative to the particle's target scale and radius.\n   *\n   * @param {Particle} particle - The particle containing the target scale.\n   * @return {DesktopGPURenderer}\n   */\n  updatePointSize(particle) {\n    const attribute = 'size';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.size;\n\n    return this;\n  }\n\n  /**\n   * Updates the point's color attribute according with the particle's target color.\n   *\n   * @param {Particle} particle - The particle containing the target color and alpha.\n   * @return {DesktopGPURenderer}\n   */\n  updatePointColor(particle) {\n    const attribute = 'color';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.color.r;\n    buffer.array[target.index * stride + offset + 1] = target.color.g;\n    buffer.array[target.index * stride + offset + 2] = target.color.b;\n\n    return this;\n  }\n\n  /**\n   * Updates the point alpha attribute with the particle's target alpha.\n   *\n   * @param {Particle} particle - The particle containing the target alpha.\n   * @return {DesktopGPURenderer}\n   */\n  updatePointAlpha(particle) {\n    const attribute = 'alpha';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.alpha;\n\n    return this;\n  }\n\n  /**\n   * Updates the point texture attribute with the particle's target texture.\n   *\n   * @param {Particle} particle - The particle containing the target texture.\n   * @return {DesktopGPURenderer}\n   */\n  updatePointTextureIndex(particle) {\n    const attribute = 'texID';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.textureIndex;\n\n    return this;\n  }\n\n  getTextureID(texture, debug) {\n    if (texture.textureIndex === undefined) {\n      if (!this.textureAtlas) {\n        this.textureAtlas = new TextureAtlas(this, debug);\n      }\n\n      this.textureAtlas.addTexture(texture);\n    }\n\n    return texture.textureIndex;\n  }\n\n  /**\n   * Tears down the GPURenderer.\n   *\n   * @return void\n   */\n  destroy() {\n    const { container, points, textureAtlas, uniqueList } = this;\n\n    container.remove(points);\n    uniqueList.destroy();\n    textureAtlas && textureAtlas.destroy();\n  }\n}\n","export const fragmentShader = () => {\n  return `\n    uniform vec3 baseColor;\n    uniform sampler2D uTexture;\n    uniform sampler2D atlasIndex;\n\n    varying vec3 targetColor;\n    varying float targetAlpha;\n    varying vec4 tileRect;\n    varying float tileID;\n\n    void main() {\n      gl_FragColor = vec4(baseColor * targetColor, targetAlpha);\n\n      vec2 uv = gl_PointCoord;\n      uv = mix(tileRect.xy, tileRect.zw, gl_PointCoord);\n\n      gl_FragColor = gl_FragColor * texture2D(uTexture, uv);\n\n    }\n`;\n};\n","export { fragmentShader } from './fragmentShader';\nexport { vertexShader } from './vertexShader';\n","import { DATA_TEXTURE_SIZE } from '../../common/TextureAtlas/constants';\nimport { SIZE_ATTENUATION_FACTOR } from '../../common/shaders/constants';\n\nexport const vertexShader = () => {\n  return `\n    uniform sampler2D uTexture;\n    //atlasIndex is a 256x1 float texture of tile rectangles as r=minx g=miny b=maxx a=maxy\n    uniform sampler2D atlasIndex;\n\n    attribute float size;\n    attribute vec3 color;\n    attribute float alpha;\n    attribute float texID;\n\n    varying vec3 targetColor;\n    varying float targetAlpha;\n    varying vec4 tileRect;\n    varying float tileID;\n\n    void main() {\n      vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n      targetColor = color;\n      targetAlpha = alpha;\n\n      tileID = texID;\n      //get the tile rectangle from the atlasIndex texture..\n      tileRect = texture2D(atlasIndex, vec2((tileID + 0.5) / ${DATA_TEXTURE_SIZE}.0, 0.5));\n\n      gl_PointSize = ((size * ${SIZE_ATTENUATION_FACTOR}) / -mvPosition.z);\n      gl_Position = projectionMatrix * mvPosition;\n    }\n`;\n};\n","import { ParticleBuffer, Target, TextureAtlas, UniqueList } from '../common';\nimport { fragmentShader, vertexShader } from './shaders';\n\nimport BaseRenderer from '../../BaseRenderer';\nimport { DEFAULT_RENDERER_OPTIONS } from '../common/constants';\nimport { Pool } from '../../../core';\nimport { RENDERER_TYPE_GPU_MOBILE } from '../../types';\n\nlet THREE;\n\n/**\n * GPURenderer for mobile devices that do not support floating point textures.\n *\n * @author thrax <manthrax@gmail.com>\n * @author rohan-deshpande <rohan@creativelifeform.com>\n */\nexport default class MobileGPURenderer extends BaseRenderer {\n  constructor(container, three, options = DEFAULT_RENDERER_OPTIONS) {\n    super(RENDERER_TYPE_GPU_MOBILE);\n\n    THREE = this.three = three;\n    const props = { ...DEFAULT_RENDERER_OPTIONS, ...options };\n    const {\n      camera,\n      maxParticles,\n      baseColor,\n      blending,\n      depthTest,\n      depthWrite,\n      transparent,\n      shouldDebugTextureAtlas,\n    } = props;\n    const particleBuffer = new ParticleBuffer(maxParticles, THREE);\n    const material = new THREE.ShaderMaterial({\n      uniforms: {\n        baseColor: { value: new THREE.Color(baseColor) },\n        uTexture: { value: null },\n        FFatlasIndex: { value: null },\n        atlasDim: { value: new THREE.Vector2() },\n      },\n      vertexShader: vertexShader(),\n      fragmentShader: fragmentShader(),\n      blending: THREE[blending],\n      depthTest,\n      depthWrite,\n      transparent,\n    });\n\n    this.camera = camera;\n    this.targetPool = new Pool();\n    this.uniqueList = new UniqueList(maxParticles);\n    this.particleBuffer = particleBuffer;\n    this.buffer = particleBuffer.buffer;\n    this.stride = particleBuffer.stride;\n    this.geometry = particleBuffer.geometry;\n    this.material = material;\n    this.points = new THREE.Points(this.geometry, this.material);\n    this.points.frustumCulled = false;\n    this.shouldDebugTextureAtlas = shouldDebugTextureAtlas;\n\n    container.add(this.points);\n  }\n\n  onSystemUpdate(system) {\n    super.onSystemUpdate(system);\n\n    this.buffer.needsUpdate = true;\n\n    const { textureAtlas } = this;\n\n    if (textureAtlas) {\n      textureAtlas.update();\n      this.material.uniforms.atlasDim.value.set(\n        textureAtlas.atlasTexture.image.width,\n        textureAtlas.atlasTexture.image.height\n      );\n    }\n  }\n\n  /**\n   * Pools the particle target if it does not exist.\n   * Updates the target and maps particle properties to the point.\n   *\n   * @param {Particle}\n   */\n  onParticleCreated(particle) {\n    if (!particle.target) {\n      particle.target = this.targetPool.get(Target, THREE);\n      this.uniqueList.add(particle.id);\n    }\n\n    this.updateTarget(particle).mapParticleTargetPropsToPoint(particle);\n  }\n\n  /**\n   * Maps particle properties to the point if the particle has a target.\n   *\n   * @param {Particle}\n   */\n  onParticleUpdate(particle) {\n    if (!particle.target) {\n      return;\n    }\n\n    this.updateTarget(particle).mapParticleTargetPropsToPoint(particle);\n  }\n\n  /**\n   * Resets and clears the particle target.\n   *\n   * @param {Particle}\n   */\n  onParticleDead(particle) {\n    if (!particle.target) {\n      return;\n    }\n\n    particle.target.reset();\n    this.mapParticleTargetPropsToPoint(particle);\n\n    particle.target = null;\n  }\n\n  /**\n   * Maps all mutable properties from the particle to the target.\n   *\n   * @param {Particle}\n   * @return {GPURenderer}\n   */\n  updateTarget(particle) {\n    const { position, scale, radius, color, alpha, body, id } = particle;\n    const { r, g, b } = color;\n\n    particle.target.position.copy(position);\n    particle.target.size = scale * radius;\n    particle.target.color.setRGB(r, g, b);\n    particle.target.alpha = alpha;\n    particle.target.index = this.uniqueList.find(id);\n\n    if (body && body instanceof THREE.Sprite) {\n      const { map } = body.material;\n\n      particle.target.texture = map;\n      particle.target.textureIndex = this.getTextureID(\n        map,\n        this.shouldDebugTextureAtlas\n      );\n    }\n\n    return this;\n  }\n\n  /**\n   * Entry point for mapping particle properties to buffer geometry points.\n   *\n   * @param {Particle} particle - The particle containing the properties to map\n   * @return {GPURenderer}\n   */\n  mapParticleTargetPropsToPoint(particle) {\n    this.updatePointPosition(particle)\n      .updatePointSize(particle)\n      .updatePointColor(particle)\n      .updatePointAlpha(particle)\n      .updatePointTextureIndex(particle);\n\n    return this;\n  }\n\n  /**\n   * Updates the point's position according to the particle's target position.\n   *\n   * @param {Particle} particle - The particle containing the target position.\n   * @return {GPURenderer}\n   */\n  updatePointPosition(particle) {\n    const attribute = 'position';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.position.x;\n    buffer.array[target.index * stride + offset + 1] = target.position.y;\n    buffer.array[target.index * stride + offset + 2] = target.position.z;\n\n    return this;\n  }\n\n  /**\n   * Updates the point's size relative to the particle's target scale and radius.\n   *\n   * @param {Particle} particle - The particle containing the target scale.\n   * @return {GPURenderer}\n   */\n  updatePointSize(particle) {\n    const attribute = 'size';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.size;\n\n    return this;\n  }\n\n  /**\n   * Updates the point's color attribute according with the particle's target color.\n   *\n   * @param {Particle} particle - The particle containing the target color and alpha.\n   * @return {GPURenderer}\n   */\n  updatePointColor(particle) {\n    const attribute = 'color';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.color.r;\n    buffer.array[target.index * stride + offset + 1] = target.color.g;\n    buffer.array[target.index * stride + offset + 2] = target.color.b;\n\n    return this;\n  }\n\n  /**\n   * Updates the point alpha attribute with the particle's target alpha.\n   *\n   * @param {Particle} particle - The particle containing the target alpha.\n   * @return {GPURenderer}\n   */\n  updatePointAlpha(particle) {\n    const attribute = 'alpha';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n\n    buffer.array[target.index * stride + offset + 0] = target.alpha;\n\n    return this;\n  }\n\n  /**\n   * Updates the point texture attribute with the particle's target texture.\n   *\n   * @param {Particle} particle - The particle containing the target texture.\n   * @return {GPURenderer}\n   */\n  updatePointTextureIndex(particle) {\n    const attribute = 'texID';\n    const { geometry, stride, buffer } = this;\n    const { target } = particle;\n    const { offset } = geometry.attributes[attribute];\n    const id = target.index * stride + offset + 0;\n\n    // eslint-disable-next-line\n    if (false) {\n      buffer.array[id] = target.textureIndex;\n    } else {\n      let ti = target.textureIndex * 4;\n      const ta = this.textureAtlas;\n      const ida = ta.indexData;\n      const nx = ida[ti++];\n      const ny = ida[ti++];\n      const px = ida[ti++];\n      const py = ida[ti++];\n\n      buffer.array[id] = ((nx * ta.atlasTexture.image.width) | 0) + px;\n      buffer.array[id + 1] = ((ny * ta.atlasTexture.image.height) | 0) + py;\n    }\n\n    return this;\n  }\n\n  getTextureID(texture, debug) {\n    if (texture.textureIndex === undefined) {\n      if (!this.textureAtlas) {\n        this.textureAtlas = new TextureAtlas(this, debug);\n      }\n\n      this.textureAtlas.addTexture(texture);\n    }\n\n    return texture.textureIndex;\n  }\n\n  destroy() {\n    const { container, points, textureAtlas, uniqueList } = this;\n\n    container.remove(points);\n    uniqueList.destroy();\n    textureAtlas && textureAtlas.destroy();\n  }\n}\n","export const fragmentShader = () => {\n  return `\n    uniform vec3 baseColor;\n    uniform sampler2D uTexture;\n\n    varying vec3 targetColor;\n    varying float targetAlpha;\n    varying vec4 tileRect;\n\n    void main() {\n      gl_FragColor = vec4(baseColor * targetColor, targetAlpha);\n\n      vec2 uv = gl_PointCoord;\n      uv = mix(tileRect.xy, tileRect.zw, gl_PointCoord);\n\n      gl_FragColor = gl_FragColor * texture2D(uTexture, uv);\n    }\n`;\n};\n","export { fragmentShader } from './fragmentShader';\nexport { vertexShader } from './vertexShader';\n","import { SIZE_ATTENUATION_FACTOR } from '../../common/shaders/constants';\n\nexport const vertexShader = () => {\n  return `\n    uniform sampler2D uTexture;\n    uniform vec2 atlasDim;\n\n    attribute float size;\n    attribute vec3 color;\n    attribute float alpha;\n    attribute vec2 texID;\n\n    varying vec3 targetColor;\n    varying float targetAlpha;\n    varying vec4 tileRect;\n\n    void main() {\n      vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n      targetColor = color;\n      targetAlpha = alpha;\n\n      vec2 tmin = floor(texID) / atlasDim;\n      vec2 tmax = fract(texID);\n      tileRect = vec4(tmin,tmax);\n\n      gl_PointSize = ((size * ${SIZE_ATTENUATION_FACTOR}) / -mvPosition.z);\n      gl_Position = projectionMatrix * mvPosition;\n    }\n`;\n};\n","// Primitives\nexport const DEFAULT_MAX_PARTICLES = 10000;\nexport const VECTOR_3_SIZE = ['x', 'y', 'z'].length;\nexport const RGBA_SIZE = ['r', 'g', 'b', 'a'].length;\nexport const FLOAT_BYTE_SIZE = 4;\n\n// Byte sizes\nexport const POSITION_BYTE_SIZE = VECTOR_3_SIZE * FLOAT_BYTE_SIZE;\nexport const SIZE_BYTE_SIZE = FLOAT_BYTE_SIZE;\nexport const RGBA_BYTE_SIZE = RGBA_SIZE * FLOAT_BYTE_SIZE;\nexport const ALL_BYTE_SIZES = [\n  POSITION_BYTE_SIZE,\n  SIZE_BYTE_SIZE,\n  RGBA_BYTE_SIZE,\n];\nexport const PARTICLE_BYTE_SIZE = ALL_BYTE_SIZES.reduce(\n  (cur, acc) => cur + acc\n);\n\n// Attributes\nexport const POSITION_ATTRIBUTE_BUFFER_SIZE = VECTOR_3_SIZE;\nexport const SIZE_ATTRIBUTE_BUFFER_SIZE = 1;\nexport const RGBA_ATTRIBUTE_BUFFER_SIZE = RGBA_SIZE;\nexport const ALPHA_ATTRIBUTE_BUFFER_SIZE = 1;\nexport const TEXID_ATTRIBUTE_BUFFER_SIZE = 2;\n\nexport const ATTRIBUTE_TO_SIZE_MAP = {\n  position: POSITION_ATTRIBUTE_BUFFER_SIZE,\n  size: SIZE_ATTRIBUTE_BUFFER_SIZE,\n  // THREE.Color does not contain alpha, so we will have separate attributes for these\n  color: RGBA_ATTRIBUTE_BUFFER_SIZE,\n  alpha: ALPHA_ATTRIBUTE_BUFFER_SIZE,\n  texID: TEXID_ATTRIBUTE_BUFFER_SIZE,\n};\n\nexport const PARTICLE_STRIDE = [\n  POSITION_ATTRIBUTE_BUFFER_SIZE,\n  SIZE_ATTRIBUTE_BUFFER_SIZE,\n  RGBA_ATTRIBUTE_BUFFER_SIZE,\n  ALPHA_ATTRIBUTE_BUFFER_SIZE,\n  TEXID_ATTRIBUTE_BUFFER_SIZE,\n].reduce((cur, acc) => cur + acc);\n","import {\n  ATTRIBUTE_TO_SIZE_MAP,\n  DEFAULT_MAX_PARTICLES,\n  PARTICLE_BYTE_SIZE,\n} from './constants';\n\nlet THREE;\n\n/**\n * Creates and provides performant buffers for mapping particle properties to geometry vertices.\n *\n * @author thrax <manthrax@gmail.com>\n * @author rohan-deshpande <rohan@creativelifeform.com>\n * @see https://threejs.org/examples/?q=buffe#webgl_buffergeometry_points_interleaved\n * @see https://threejs.org/examples/?q=points#webgl_custom_attributes_points\n */\nexport default class ParticleBuffer {\n  constructor(maxParticles = DEFAULT_MAX_PARTICLES, three) {\n    THREE = three;\n    this.maxParticles = maxParticles;\n\n    this.createInterleavedBuffer().createBufferGeometry();\n  }\n\n  /**\n   * Creates the interleaved buffer that will be used to write data to the GPU.\n   *\n   * @return {ParticleBuffer}\n   */\n  createInterleavedBuffer() {\n    const arrayBuffer = new ArrayBuffer(this.maxParticles * PARTICLE_BYTE_SIZE);\n\n    this.interleavedBuffer = new THREE.InterleavedBuffer(\n      new Float32Array(arrayBuffer),\n      PARTICLE_BYTE_SIZE\n    );\n    // this.interleavedBuffer.usage = THREE.DynamicDrawUsage;\n    \n    return this;\n  }\n\n  /**\n   * Sets the geometry's buffer attributes.\n   *\n   * NOTE Each attribute needs to be set at the right index in the buffer right after the previous\n   * attribute that occupies a set amount of size in the buffer.\n   *\n   * @return {ParticleBufferGeometry}\n   */\n  createBufferGeometry() {\n    this.geometry = new THREE.BufferGeometry();\n\n    const { interleavedBuffer, geometry } = this;\n\n    Object.keys(ATTRIBUTE_TO_SIZE_MAP).reduce((offset, attribute) => {\n      const size = ATTRIBUTE_TO_SIZE_MAP[attribute];\n\n      geometry.setAttribute(\n        attribute,\n        new THREE.InterleavedBufferAttribute(interleavedBuffer, size, offset)\n      );\n\n      return (offset += size);\n    }, 0);\n\n    return this;\n  }\n\n  /**\n   * Gets the publicly accessible interleaved buffer.\n   *\n   * @return {THREE.InterleavedBuffer} buffers - The interleaved buffer\n   */\n  get buffer() {\n    return this.interleavedBuffer;\n  }\n\n  get stride() {\n    return PARTICLE_BYTE_SIZE;\n  }\n}\n","export const DATA_TEXTURE_SIZE = 256;\n","import {\n  RENDERER_TYPE_GPU_DESKTOP,\n  RENDERER_TYPE_GPU_MOBILE,\n} from '../../../types';\n\nimport { DATA_TEXTURE_SIZE } from './constants';\nimport { __DEV__ } from '../../../../constants';\nimport potpack from 'potpack';\n\n/**\n * Dynamic texture atlas for performant support of systems with multiple emitters and textures.\n *\n */\nexport default class TextureAtlas {\n  constructor(renderer, shouldDebug) {\n    const { three: THREE, type: rendererType } = renderer;\n    const data = new Float32Array(DATA_TEXTURE_SIZE * 4);\n    const ctx = (this.ctx = document.createElement('canvas').getContext('2d'));\n    const { canvas } = ctx;\n\n    this.shouldDebug = shouldDebug;\n    this.rendererType = rendererType;\n    this.indexData = data;\n    this.canvas = canvas;\n    this.entries = [];\n\n    if (rendererType === RENDERER_TYPE_GPU_DESKTOP) {\n      this.atlasIndex = new THREE.DataTexture(\n        data,\n        DATA_TEXTURE_SIZE,\n        1,\n        THREE.RGBAFormat,\n        THREE.FloatType\n      );\n    }\n\n    canvas.width = canvas.height = DATA_TEXTURE_SIZE;\n\n    if (shouldDebug) {\n      this.debug(canvas, ctx);\n    }\n\n    this.atlasTexture = new THREE.CanvasTexture(canvas);\n    this.atlasTexture.flipY = false;\n\n    renderer.material.uniforms.uTexture.value = this.atlasTexture;\n\n    if (rendererType === RENDERER_TYPE_GPU_DESKTOP) {\n      renderer.material.uniforms.atlasIndex.value = this.atlasIndex;\n    }\n\n    renderer.material.uniformsNeedUpdate = true;\n  }\n\n  /**\n   * Logs to the console when in dev mode.\n   *\n   */\n  log(...args) {\n    if (!__DEV__) {\n      return;\n    }\n\n    console.log(...args);\n  }\n\n  /**\n   * Debugs the texture atlas by rendering it to a canvas in the DOM.\n   *\n   */\n  debug() {\n    const { canvas, ctx } = this;\n    const halfmax = canvas.width;\n\n    ctx.fillStyle = 'purple';\n    ctx.fillRect(0, 0, halfmax, halfmax);\n    ctx.fillStyle = 'green';\n    ctx.fillRect(0, halfmax, halfmax, halfmax);\n    ctx.fillStyle = 'blue';\n    ctx.fillRect(halfmax, 0, halfmax, halfmax);\n    ctx.fillStyle = 'orange';\n    ctx.fillRect(halfmax, halfmax, halfmax, halfmax);\n    ctx.fillStyle = 'yellow';\n    ctx.font = canvas.width + 'px Verdana';\n    ctx.fillText('top row', 100, 500);\n    ctx.fillStyle = 'pink';\n    ctx.fillText('bottom row', 100, 1500);\n\n    canvas.style.position = 'absolute';\n    canvas.style.width = canvas.style.height = '300px';\n    canvas.style.left = canvas.style.top = '0px';\n    canvas.style.zIndex = 100;\n\n    document.body.appendChild(canvas);\n  }\n\n  /**\n   * Adds a texture to the texture atlas and flags that the atlas needs to be updated.\n   *\n   */\n  addTexture(texture) {\n    this.log('Adding texture to atlas:', texture.uuid);\n\n    texture.textureIndex = this.entries.length;\n    this.entries.push({ texture: texture });\n    this.needsUpdate = true;\n  }\n\n  /**\n   * Updates the texture atlas. Will only rebuild the atlas if all images are loaded.\n   *\n   */\n  update() {\n    if (!this.needsUpdate) {\n      return;\n    }\n\n    const {\n      entries,\n      canvas,\n      indexData,\n      ctx,\n      atlasIndex,\n      atlasTexture,\n      rendererType,\n    } = this;\n\n    for (let i = 0; i < entries.length; i++) {\n      if (!entries[i].texture.image) {\n        return;\n      }\n    }\n\n    this.needsUpdate = false;\n\n    for (let i = 0; i < entries.length; i++) {\n      const e = entries[i];\n      const { texture } = e;\n      const { width, height } = texture.image;\n\n      e.w = width;\n      e.h = height;\n    }\n\n    const stats = potpack(entries);\n\n    this.log('Rebuilt atlas:', stats);\n\n    if (canvas.width != stats.w || canvas.height != stats.h) {\n      canvas.width = stats.w;\n      canvas.height = stats.h;\n    }\n\n    for (let i = 0; i < entries.length; i++) {\n      const e = this.entries[i];\n      const ii = e.texture.textureIndex * 4;\n\n      if (rendererType === RENDERER_TYPE_GPU_DESKTOP) {\n        indexData[ii + 0] = e.x / canvas.width;\n        indexData[ii + 1] = e.y / canvas.height;\n        indexData[ii + 2] = (e.x + e.w) / canvas.width;\n        indexData[ii + 3] = (e.y + e.h) / canvas.height;\n      }\n\n      if (rendererType === RENDERER_TYPE_GPU_MOBILE) {\n        indexData[ii + 0] = e.x / (canvas.width + 1);\n        indexData[ii + 1] = e.y / (canvas.height + 1);\n        indexData[ii + 2] = (e.x + e.w) / (canvas.width + 1);\n        indexData[ii + 3] = (e.y + e.h) / (canvas.height + 1);\n      }\n\n      ctx.drawImage(e.texture.image, e.x, e.y, e.w, e.h);\n    }\n\n    if (rendererType === RENDERER_TYPE_GPU_DESKTOP) {\n      atlasIndex.needsUpdate = true;\n    }\n\n    atlasTexture.needsUpdate = true;\n  }\n\n  /**\n   * Disposes of the textures used by the texture atlas.\n   *\n   * @return void\n   */\n  destroy() {\n    const { atlasIndex, atlasTexture, canvas } = this;\n\n    atlasTexture.dispose();\n    atlasIndex && atlasIndex.dispose();\n\n    if (this.shouldDebug) {\n      canvas.remove();\n    }\n\n    this.entries = [];\n  }\n}\n","import { DEFAULT_MAX_PARTICLES } from './ParticleBuffer/constants';\n\nexport const DEFAULT_RENDERER_OPTIONS = {\n  blending: 'AdditiveBlending',\n  baseColor: 0xffffff,\n  depthTest: true,\n  depthWrite: false,\n  transparent: true,\n  maxParticles: DEFAULT_MAX_PARTICLES,\n  shouldDebugTextureAtlas: false,\n  shouldForceDesktopRenderer: false,\n  shouldForceMobileRenderer: false,\n};\n","export { Target, UniqueList } from './stores';\nexport { default as ParticleBuffer } from './ParticleBuffer';\nexport { default as TextureAtlas } from './TextureAtlas';\n","export const SIZE_ATTENUATION_FACTOR = '600.0';\n","/**\n * Simple class that stores the particle's \"target\" or \"next\" state.\n *\n */\nexport class Target {\n  constructor(THREE) {\n    this.position = new THREE.Vector3();\n    this.size = 0;\n    this.color = new THREE.Color();\n    this.alpha = 0;\n    this.texture = null;\n    this.index = 0;\n  }\n\n  reset() {\n    this.position.set(0, 0, 0);\n    this.size = 0;\n    this.color.setRGB(0, 0, 0);\n    this.alpha = 0;\n    this.texture = null;\n  }\n}\n","/**\n * Map of particle IDs to integer ids\n */\nexport class UniqueList {\n  constructor(max = Infinity) {\n    this.max = max;\n    this.count = 0;\n    this._items = {};\n  }\n\n  add(item) {\n    if (this._items[item] !== undefined) {\n      return;\n    }\n\n    this._items[item] = this.count++;\n  }\n\n  find(item) {\n    return this._items[item];\n  }\n\n  destroy() {\n    this._items = {};\n    this.count = 0;\n  }\n}\n","export { Target } from './Target';\nexport { UniqueList } from './UniqueList';\n","import BaseRenderer from '../BaseRenderer';\nimport { DEFAULT_RENDERER_OPTIONS } from './common/constants';\nimport DesktopGPURenderer from './Desktop';\nimport MobileGPURenderer from './Mobile';\nimport { RENDERER_TYPE_GPU } from '../types';\n\n/**\n * Performant particle renderer that uses THREE.Points to propagate particle (postiion, rgba etc.,) properties to\n * vertices in a ParticleBufferGeometry.\n * Uses a dynamic texture atlas to support systems with mutliple sprites in a performant way.\n *\n * NOTE! This is an experimental renderer and is currently not covered by tests, coverage will be added when the API\n * is more stable. Currently only compatible with sprite/texture based systems. Meshes are not yet supported.\n *\n * @author thrax <manthrax@gmail.com>\n * @author rohan-deshpande <rohan@creativelifeform.com>\n */\nexport default class GPURenderer extends BaseRenderer {\n  constructor(container, THREE, options = DEFAULT_RENDERER_OPTIONS) {\n    super(RENDERER_TYPE_GPU);\n\n    const { shouldForceDesktopRenderer, shouldForceMobileRenderer } = options;\n    const args = [container, THREE, options];\n\n    if (shouldForceDesktopRenderer) {\n      return new DesktopGPURenderer(...args);\n    }\n\n    if (shouldForceMobileRenderer) {\n      return new MobileGPURenderer(...args);\n    }\n\n    if (!this.isFloatingPointTextureSupported()) {\n      return new MobileGPURenderer(...args);\n    }\n\n    return new DesktopGPURenderer(...args);\n  }\n\n  isFloatingPointTextureSupported() {\n    const canvas = document.createElement('canvas');\n\n    if (window.WebGL2RenderingContext && canvas.getContext('webgl2')) {\n      // return false here to test the mobile renderer on desktop\n      return true;\n    }\n\n    const gl = canvas.getContext('webgl');\n    const support = !!gl.getExtension('OES_texture_float');\n\n    canvas.remove();\n\n    return support;\n  }\n}\n","import BaseRenderer from './BaseRenderer';\nimport { PUID } from '../utils';\nimport { Pool } from '../core';\nimport { RENDERER_TYPE_MESH as type } from './types';\n\n/**\n * @requires THREE - { Mesh, BoxGeometry, MeshLambertMaterial }\n */\nexport default class MeshRenderer extends BaseRenderer {\n  /**\n   * @param {object} container - An Object3D container, usually a THREE.Scene\n   * @param {object} THREE - THREE Api\n   */\n  constructor(container, THREE) {\n    super(type);\n\n    this.container = container;\n    this._targetPool = new Pool();\n    this._materialPool = new Pool();\n    this._body = new THREE.Mesh(\n      new THREE.BoxGeometry(50, 50, 50),\n      new THREE.MeshLambertMaterial({ color: '#ff0000' })\n    );\n  }\n\n  isThreeSprite(particle) {\n    return particle.target.isSprite;\n  }\n\n  onSystemUpdate() {}\n\n  onParticleCreated(particle) {\n    if (!particle.target) {\n      //set target\n      if (!particle.body) particle.body = this._body;\n      particle.target = this._targetPool.get(particle.body);\n\n      //set material\n      if (particle.useAlpha || particle.useColor) {\n        particle.target.material.__puid = PUID.id(particle.body.material);\n        particle.target.material = this._materialPool.get(\n          particle.target.material\n        );\n      }\n    }\n\n    if (particle.target) {\n      particle.target.position.copy(particle.position);\n      this.container.add(particle.target);\n    }\n  }\n\n  onParticleUpdate(particle) {\n    const { target, useAlpha, useColor, rotation } = particle;\n\n    if (!target) {\n      return;\n    }\n\n    target.position.copy(particle.position);\n\n    if (!this.isThreeSprite(particle)) {\n      target.rotation.set(rotation.x, rotation.y, rotation.z);\n    }\n\n    this.scale(particle);\n\n    if (useAlpha) {\n      target.material.opacity = particle.alpha;\n      target.material.transparent = true;\n    }\n\n    if (useColor) {\n      target.material.color.copy(particle.color);\n    }\n  }\n\n  scale(particle) {\n    particle.target.scale.set(particle.scale, particle.scale, particle.scale);\n  }\n\n  onParticleDead(particle) {\n    if (particle.target) {\n      if (particle.useAlpha || particle.useColor)\n        this._materialPool.expire(particle.target.material);\n\n      this._targetPool.expire(particle.target);\n      this.container.remove(particle.target);\n      particle.target = null;\n    }\n  }\n}\n","import MeshRenderer from './MeshRenderer';\nimport { RENDERER_TYPE_SPRITE as type } from './types';\n\n/**\n * @requires THREE - { Mesh, BoxGeometry, MeshLambertMaterial, Sprite, SpriteMaterial }\n */\nexport default class SpriteRenderer extends MeshRenderer {\n  constructor(container, THREE) {\n    super(container, THREE);\n\n    /**\n     * @desc The class type.\n     * @type {string}\n     */\n    this.type = type;\n    this._body = new THREE.Sprite(\n      new THREE.SpriteMaterial({ color: 0xffffff })\n    );\n  }\n\n  scale(particle) {\n    particle.target.scale.set(\n      particle.scale * particle.radius,\n      particle.scale * particle.radius,\n      1\n    );\n  }\n}\n","export { default as CustomRenderer } from './CustomRenderer';\nexport { default as MeshRenderer } from './MeshRenderer';\nexport { default as SpriteRenderer } from './SpriteRenderer';\nexport { default as GPURenderer } from './GPURenderer';\n","export const RENDERER_TYPE_BASE = 'BaseRenderer';\nexport const RENDERER_TYPE_CUSTOM = 'CustomRenderer';\nexport const RENDERER_TYPE_SPRITE = 'SpriteRenderer';\nexport const RENDERER_TYPE_MESH = 'MeshRenderer';\nexport const RENDERER_TYPE_GPU = 'GPURenderer';\nexport const RENDERER_TYPE_GPU_MOBILE = 'MobileGPURenderer';\nexport const RENDERER_TYPE_GPU_DESKTOP = 'DesktopGPURenderer';\n","export default {\n  getRGB: function(color) {\n    var rgb = {};\n\n    if (typeof color === 'number') {\n      hex = Math.floor(color);\n      rgb.r = ((color >> 16) & 255) / 255;\n      rgb.g = ((color >> 8) & 255) / 255;\n      rgb.b = (color & 255) / 255;\n    } else if (typeof color === 'string') {\n      var m;\n\n      if (\n        (m = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(\n          color\n        ))\n      ) {\n        rgb.r = Math.min(255, parseInt(m[1], 10)) / 255;\n        rgb.g = Math.min(255, parseInt(m[2], 10)) / 255;\n        rgb.b = Math.min(255, parseInt(m[3], 10)) / 255;\n        // eslint-disable-next-line no-useless-escape\n      } else if ((m = /^\\#([A-Fa-f0-9]+)$/.exec(color))) {\n        var hex = m[1];\n\n        rgb.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n        rgb.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n        rgb.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n      }\n    } else {\n      rgb.r = color.r;\n      rgb.g = color.g;\n      rgb.b = color.b;\n    }\n\n    return rgb;\n  },\n};\n","export default {\n  _id: 0,\n  _uids: new Map(),\n  getNewId: function() {\n    return `PUID_${++this._id}`;\n  },\n  id: function(functionOrObject) {\n    if (this._uids.has(functionOrObject)) {\n      return this._uids.get(functionOrObject);\n    }\n\n    const newId = this.getNewId();\n\n    this._uids.set(functionOrObject, newId);\n\n    return newId;\n  },\n};\n","import { Vector3 } from '../core/three/';\n\nexport default {\n  toScreenPos: (function() {\n    var vector = new Vector3();\n\n    return function(pos, camera, canvas) {\n      vector.copy(pos);\n      // map to normalized device coordinate (NDC) space\n      vector.project(camera);\n      // map to 2D screen space\n      vector.x = Math.round(((vector.x + 1) * canvas.width) / 2);\n      vector.y = Math.round(((-vector.y + 1) * canvas.height) / 2);\n      vector.z = 0;\n\n      return vector;\n    };\n  })(),\n\n  toSpacePos: (function() {\n    var vector = new Vector3(),\n      dir = new Vector3(),\n      distance;\n\n    return function(pos, camera, canvas) {\n      vector.set(\n        (pos.x / canvas.width) * 2 - 1,\n        -(pos.y / canvas.height) * 2 + 1,\n        0.5\n      );\n      vector.unproject(camera);\n\n      dir.copy(vector.sub(camera.position).normalize());\n      distance = -camera.position.z / dir.z;\n      vector.copy(camera.position);\n      vector.add(dir.multiplyScalar(distance));\n\n      return vector;\n    };\n  })(),\n};\n","export default {\n  initValue: function(value, defaults) {\n    var _value = value != null && value != undefined ? value : defaults;\n\n    return _value;\n  },\n\n  isArray: function(value) {\n    return Object.prototype.toString.call(value) === '[object Array]';\n  },\n\n  destroyArray: function(array) {\n    array.length = 0;\n  },\n\n  destroyObject: function(obj) {\n    for (var o in obj) delete obj[o];\n  },\n\n  isUndefined: function() {\n    for (var id in arguments) {\n      var arg = arguments[id];\n\n      if (arg !== undefined) return false;\n    }\n\n    return true;\n  },\n\n  setVectorByObj: function(target, pOBJ) {\n    if (pOBJ['x'] !== undefined) target.position.x = pOBJ['x'];\n    if (pOBJ['y'] !== undefined) target.position.y = pOBJ['y'];\n    if (pOBJ['z'] !== undefined) target.position.z = pOBJ['z'];\n\n    if (pOBJ['vx'] !== undefined) target.velocity.x = pOBJ['vx'];\n    if (pOBJ['vy'] !== undefined) target.velocity.y = pOBJ['vy'];\n    if (pOBJ['vz'] !== undefined) target.velocity.z = pOBJ['vz'];\n\n    if (pOBJ['ax'] !== undefined) target.acceleration.x = pOBJ['ax'];\n    if (pOBJ['ay'] !== undefined) target.acceleration.y = pOBJ['ay'];\n    if (pOBJ['az'] !== undefined) target.acceleration.z = pOBJ['az'];\n\n    if (pOBJ['p'] !== undefined) target.position.copy(pOBJ['p']);\n    if (pOBJ['v'] !== undefined) target.velocity.copy(pOBJ['v']);\n    if (pOBJ['a'] !== undefined) target.acceleration.copy(pOBJ['a']);\n\n    if (pOBJ['position'] !== undefined) target.position.copy(pOBJ['position']);\n    if (pOBJ['velocity'] !== undefined) target.velocity.copy(pOBJ['velocity']);\n    if (pOBJ['accelerate'] !== undefined)\n      target.acceleration.copy(pOBJ['accelerate']);\n  },\n\n  //set prototype\n  setPrototypeByObj: function(target, proObj, filters) {\n    for (var key in proObj) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (target.hasOwnProperty(key)) {\n        if (filters) {\n          if (filters.indexOf(key) < 0)\n            target[key] = this._getValue(proObj[key]);\n        } else {\n          target[key] = this._getValue(proObj[key]);\n        }\n      }\n    }\n\n    return target;\n  },\n\n  _getValue: function(pan) {\n    if (pan.constructor.type === 'Span') return pan.getValue();\n    else return pan;\n  },\n};\n","export { default as ColorUtil } from './ColorUtil';\nexport { default as PUID } from './PUID';\nexport { default as THREEUtil } from './THREEUtil';\nexport { default as Util } from './Util';\nexport { default as uid } from './uid';\n\nexport const withDefaults = (defaults, properties) => ({\n  ...defaults,\n  ...properties,\n});\n","import uid from 'uuid/v1';\n\nexport default uid;\n","import MathUtils from '../math/MathUtils';\nimport Util from '../utils/Util';\nimport Zone from './Zone';\nimport { ZONE_TYPE_BOX as type } from './types';\n\nexport default class BoxZone extends Zone {\n  /**\n   * BoxZone is a box zone\n   * @param {Number|Vector3D} x - the position's x value or a Vector3D Object\n   * @param {Number} y - the position's y value\n   * @param {Number} z - the position's z value\n   * @param {Number} w - the Box's width\n   * @param {Number} h - the Box's height\n   * @param {Number} d - the Box's depth\n   * @example\n   * var boxZone = new BoxZone(0,0,0,50,50,50);\n   * or\n   * var boxZone = new BoxZone(new Vector3D(0,0,0), 50, 50, 50);\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(a, b, c, d, e, f) {\n    super(type);\n\n    // TODO this reassigning of arguments is pretty dangerous, need to fix it.\n    // eslint-disable-next-line\n    var x, y, z, w, h, d;\n\n    if (Util.isUndefined(b, c, d, e, f)) {\n      x = y = z = 0;\n      w = h = d = a || 100;\n    } else if (Util.isUndefined(d, e, f)) {\n      x = y = z = 0;\n      w = a;\n      h = b;\n      d = c;\n    } else {\n      x = a;\n      y = b;\n      z = c;\n      w = d;\n      h = e;\n      d = f;\n    }\n\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.width = w;\n    this.height = h;\n    this.depth = d;\n    // TODO Set this via an argument to the constructor\n    this.friction = 0.85;\n    // TODO Set this via an argument to the constructor\n    this.max = 6;\n  }\n\n  /**\n   * Returns true to indicate this is a BoxZone.\n   *\n   * @return {boolean}\n   */\n  isBoxZone() {\n    return true;\n  }\n\n  getPosition() {\n    this.vector.x = this.x + MathUtils.randomAToB(-0.5, 0.5) * this.width;\n    this.vector.y = this.y + MathUtils.randomAToB(-0.5, 0.5) * this.height;\n    this.vector.z = this.z + MathUtils.randomAToB(-0.5, 0.5) * this.depth;\n\n    return this.vector;\n  }\n\n  _dead(particle) {\n    if (particle.position.x + particle.radius < this.x - this.width / 2)\n      particle.dead = true;\n    else if (particle.position.x - particle.radius > this.x + this.width / 2)\n      particle.dead = true;\n\n    if (particle.position.y + particle.radius < this.y - this.height / 2)\n      particle.dead = true;\n    else if (particle.position.y - particle.radius > this.y + this.height / 2)\n      particle.dead = true;\n\n    if (particle.position.z + particle.radius < this.z - this.depth / 2)\n      particle.dead = true;\n    else if (particle.position.z - particle.radius > this.z + this.depth / 2)\n      particle.dead = true;\n  }\n\n  _bound(particle) {\n    if (particle.position.x - particle.radius < this.x - this.width / 2) {\n      particle.position.x = this.x - this.width / 2 + particle.radius;\n      particle.velocity.x *= -this.friction;\n      this._static(particle, 'x');\n    } else if (particle.position.x + particle.radius > this.x + this.width / 2) {\n      particle.position.x = this.x + this.width / 2 - particle.radius;\n      particle.velocity.x *= -this.friction;\n      this._static(particle, 'x');\n    }\n\n    if (particle.position.y - particle.radius < this.y - this.height / 2) {\n      particle.position.y = this.y - this.height / 2 + particle.radius;\n      particle.velocity.y *= -this.friction;\n      this._static(particle, 'y');\n    } else if (particle.position.y + particle.radius > this.y + this.height / 2) {\n      particle.position.y = this.y + this.height / 2 - particle.radius;\n      particle.velocity.y *= -this.friction;\n      this._static(particle, 'y');\n    }\n\n    if (particle.position.z - particle.radius < this.z - this.depth / 2) {\n      particle.position.z = this.z - this.depth / 2 + particle.radius;\n      particle.velocity.z *= -this.friction;\n      this._static(particle, 'z');\n    } else if (particle.position.z + particle.radius > this.z + this.depth / 2) {\n      particle.position.z = this.z + this.depth / 2 - particle.radius;\n      particle.velocity.z *= -this.friction;\n      this._static(particle, 'z');\n    }\n  }\n\n  _static(particle, axis) {\n    if (particle.velocity[axis] * particle.acceleration[axis] > 0) return;\n    if (\n      Math.abs(particle.velocity[axis]) <\n      Math.abs(particle.acceleration[axis]) * 0.0167 * this.max\n    ) {\n      particle.velocity[axis] = 0;\n      particle.acceleration[axis] = 0;\n    }\n  }\n\n  _cross(particle) {\n    if (\n      particle.position.x + particle.radius < this.x - this.width / 2 &&\n      particle.velocity.x <= 0\n    )\n      particle.position.x = this.x + this.width / 2 + particle.radius;\n    else if (\n      particle.position.x - particle.radius > this.x + this.width / 2 &&\n      particle.velocity.x >= 0\n    )\n      particle.position.x = this.x - this.width / 2 - particle.radius;\n\n    if (\n      particle.position.y + particle.radius < this.y - this.height / 2 &&\n      particle.velocity.y <= 0\n    )\n      particle.position.y = this.y + this.height / 2 + particle.radius;\n    else if (\n      particle.position.y - particle.radius > this.y + this.height / 2 &&\n      particle.velocity.y >= 0\n    )\n      particle.position.y = this.y - this.height / 2 - particle.radius;\n\n    if (\n      particle.position.z + particle.radius < this.z - this.depth / 2 &&\n      particle.velocity.z <= 0\n    )\n      particle.position.z = this.z + this.depth / 2 + particle.radius;\n    else if (\n      particle.position.z - particle.radius > this.z + this.depth / 2 &&\n      particle.velocity.z >= 0\n    )\n      particle.position.z = this.z - this.depth / 2 - particle.radius;\n  }\n}\n","import Vector3D from '../math/Vector3D';\nimport Zone from './Zone';\nimport { ZONE_TYPE_LINE as type } from './types';\n\nexport default class LineZone extends Zone {\n  /**\n   * LineZone is a 3d line zone\n   * @param {Number|Vector3D} x1 - the line's start point of x value or a Vector3D Object\n   * @param {Number|Vector3D} y1 - the line's start point of y value or a Vector3D Object\n   * @param {Number} z1 - the line's start point of z value\n   * @param {Number} x2 - the line's end point of x value\n   * @param {Number} y2 - the line's end point of y value\n   * @param {Number} z2 - the line's end point of z value\n   * @example\n   * var lineZone = new System.LineZone(0,0,0,100,100,0);\n   * or\n   * var lineZone = new System.LineZone(new System.Vector3D(0,0,0),new System.Vector3D(100,100,0));\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(x1, y1, z1, x2, y2, z2) {\n    super(type);\n\n    if (x1 instanceof Vector3D) {\n      this.x1 = x1.x;\n      this.y1 = x1.y;\n      this.z1 = x1.z;\n\n      this.x2 = x2.x;\n      this.y2 = x2.y;\n      this.z2 = x2.z;\n    } else {\n      this.x1 = x1;\n      this.y1 = y1;\n      this.z1 = z1;\n\n      this.x2 = x2;\n      this.y2 = y2;\n      this.z2 = z2;\n    }\n\n    this.supportsCrossing = false;\n  }\n\n  /**\n   * Returns true to indicate this is a LineZone.\n   *\n   * @return {boolean}\n   */\n  isLineZone() {\n    return true;\n  }\n\n  getPosition() {\n    this.random = Math.random();\n    this.vector.x = this.x1 + this.random * (this.x2 - this.x1);\n    this.vector.y = this.y1 + this.random * (this.y2 - this.y1);\n    this.vector.z = this.z1 + this.random * (this.z2 - this.z1);\n\n    return this.vector;\n  }\n}\n","import Zone from './Zone';\nimport { ZONE_TYPE_MESH as type } from './types';\n\n/**\n * Uses a three THREE.Geometry to determine the zone parameters.\n *\n */\nexport default class MeshZone extends Zone {\n  /**\n   * @constructs {MeshZone}\n   *\n   * @param {THREE.Geometry|Mesh} bounds - the geometry or mesh that will determine the zone bounds\n   * @param {number} scale - the zone scale\n   * @param {THREE.Geometry} ThreeGeometry - the three geometry class\n   * @return void\n   */\n  constructor(bounds, scale = 1, ThreeGeometry) {\n    super(type);\n\n    this.geometry = null;\n    this.scale = scale;\n    this.supportsCrossing = false;\n\n    if (bounds.type && bounds.type === 'Geometry') {\n      this.geometry = bounds;\n    }\n\n    if (bounds.geometry) {\n      this.geometry = bounds.geometry;\n    }\n\n    if (!this.geometry) {\n      throw new Error(\n        'MeshZone unable to set geometry from the supplied bounds'\n      );\n    }\n\n    if (this.geometry.isBufferGeometry) {\n      this.geometry = new ThreeGeometry().fromBufferGeometry(this.geometry);\n    }\n  }\n\n  /**\n   * Returns true to indicate this is a MeshZone.\n   *\n   * @return {boolean}\n   */\n  isMeshZone() {\n    return true;\n  }\n\n  getPosition() {\n    const vertices = this.geometry.vertices;\n    const rVector = vertices[(vertices.length * Math.random()) >> 0];\n\n    this.vector.x = rVector.x * this.scale;\n    this.vector.y = rVector.y * this.scale;\n    this.vector.z = rVector.z * this.scale;\n\n    return this.vector;\n  }\n}\n","import Util from '../utils/Util';\nimport Zone from './Zone';\nimport { ZONE_TYPE_POINT as type } from './types';\n\nexport default class PointZone extends Zone {\n  /**\n   * PointZone is a point zone\n   * @param {Number|Vector3D} x - the center's x value or a Vector3D Object\n   * @param {Number} y - the center's y value\n   * @param {Number} z - the center's z value\n   * @example\n   * var pointZone = new System.PointZone(0,30,10);\n   * or\n   * var pointZone = new System.PointZone(new System.Vector3D(0,30,10));\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(a, b, c) {\n    super(type);\n\n    // TODO see below, these should probably be assigned properly\n    // eslint-disable-next-line\n    var x, y, z;\n\n    if (Util.isUndefined(a, b, c)) {\n      x = y = z = 0;\n    } else {\n      x = a;\n      // eslint-disable-next-line\n      y = b;\n      // eslint-disable-next-line\n      z = c;\n    }\n\n    this.x = x;\n\n    // TODO shouldn't this be set to y?\n    this.y = x;\n\n    // TODO shouldn't this be set to z?\n    this.z = x;\n    this.supportsCrossing = false;\n  }\n\n  /**\n   * Returns true to indicate this is a PointZone.\n   *\n   * @return {boolean}\n   */\n  isPointZone() {\n    return true;\n  }\n\n  getPosition() {\n    this.vector.x = this.x;\n    this.vector.y = this.y;\n    this.vector.z = this.z;\n\n    return this.vector;\n  }\n}\n","import THREEUtil from '../utils/THREEUtil';\nimport Vector3D from '../math/Vector3D';\nimport Zone from './Zone';\nimport { ZONE_TYPE_SCREEN as type } from './types';\n\nexport default class ScreenZone extends Zone {\n  /**\n   * ScreenZone is a 3d line zone\n   * @param {Number|Vector3D} x1 - the line's start point of x value or a Vector3D Object\n   * @param {Number|Vector3D} y1 - the line's start point of y value or a Vector3D Object\n   * @param {Number} z1 - the line's start point of z value\n   * @param {Number} x2 - the line's end point of x value\n   * @param {Number} y2 - the line's end point of y value\n   * @param {Number} z2 - the line's end point of z value\n   * @example\n   * var lineZone = new ScreenZone(0,0,0,100,100,0);\n   * or\n   * var lineZone = new ScreenZone(new Vector3D(0,0,0),new Vector3D(100,100,0));\n   * @extends {Zone}\n   * @constructor\n   */\n  constructor(camera, renderer, dis, dir) {\n    super(type);\n\n    this.camera = camera;\n    this.renderer = renderer;\n    this.dis = dis || 20;\n    dir = dir || '1234';\n\n    for (var i = 1; i < 5; i++) this['d' + i] = dir.indexOf(i + '') >= 0;\n  }\n\n  /**\n   * Returns true to indicate this is a ScreenZone.\n   *\n   * @return {boolean}\n   */\n  isScreenZone() {\n    return true;\n  }\n\n  _dead(particle) {\n    var pos = THREEUtil.toScreenPos(\n      particle.position,\n      this.camera,\n      this.renderer.domElement\n    );\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis && this.d1) {\n      particle.dead = true;\n    } else if (pos.y - particle.radius > canvas.height + this.dis && this.d3) {\n      particle.dead = true;\n    }\n\n    if (pos.x + particle.radius < -this.dis && this.d4) {\n      particle.dead = true;\n    } else if (pos.x - particle.radius > canvas.width + this.dis && this.d2) {\n      particle.dead = true;\n    }\n  }\n\n  _bound(particle) {\n    var pos = THREEUtil.toScreenPos(\n      particle.position,\n      this.camera,\n      this.renderer.domElement\n    );\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis) {\n      particle.velocity.y *= -1;\n    } else if (pos.y - particle.radius > canvas.height + this.dis) {\n      particle.velocity.y *= -1;\n    }\n\n    if (pos.x + particle.radius < -this.dis) {\n      particle.velocity.y *= -1;\n    } else if (pos.x - particle.radius > canvas.width + this.dis) {\n      particle.velocity.y *= -1;\n    }\n  }\n}\n\nScreenZone.prototype.getPosition = (function() {\n  var vec2 = new Vector3D(),\n    canvas;\n\n  return function() {\n    canvas = this.renderer.domElement;\n    vec2.x = Math.random() * canvas.width;\n    vec2.y = Math.random() * canvas.height;\n    this.vector.copy(THREEUtil.toSpacePos(vec2, this.camera, canvas));\n\n    return this.vector;\n  };\n})();\n\nScreenZone.prototype._cross = (function() {\n  var vec2 = new Vector3D();\n\n  return function(particle) {\n    var pos = THREEUtil.toScreenPos(\n      particle.position,\n      this.camera,\n      this.renderer.domElement\n    );\n    var canvas = this.renderer.domElement;\n\n    if (pos.y + particle.radius < -this.dis) {\n      vec2.x = pos.x;\n      vec2.y = canvas.height + this.dis + particle.radius;\n      particle.position.y = THREEUtil.toSpacePos(vec2, this.camera, canvas).y;\n    } else if (pos.y - particle.radius > canvas.height + this.dis) {\n      vec2.x = pos.x;\n      vec2.y = -this.dis - particle.radius;\n      particle.position.y = THREEUtil.toSpacePos(vec2, this.camera, canvas).y;\n    }\n\n    if (pos.x + particle.radius < -this.dis) {\n      vec2.y = pos.y;\n      vec2.x = canvas.width + this.dis + particle.radius;\n      particle.position.x = THREEUtil.toSpacePos(vec2, this.camera, canvas).x;\n    } else if (pos.x - particle.radius > canvas.width + this.dis) {\n      vec2.y = pos.y;\n      vec2.x = -this.dis - particle.radius;\n      particle.position.x = THREEUtil.toSpacePos(vec2, this.camera, canvas).x;\n    }\n  };\n})();\n","import { PI } from '../constants';\nimport Util from '../utils/Util';\nimport Vector3D from '../math/Vector3D';\nimport Zone from './Zone';\nimport { ZONE_TYPE_SPHERE as type } from './types';\n\n/**\n * A spherical zone for particles to be emitted within.\n *\n */\nexport default class SphereZone extends Zone {\n  /**\n   * @constructs {SphereZone}\n   *\n   * @param {number} centerX - the sphere's center x coordinate\n   * @param {number} centerY - the sphere's center y coordinate\n   * @param {number} centerZ - the sphere's center z coordinate\n   * @param {number} radius - the sphere's radius value\n   * @return void\n   */\n  constructor(centerX, centerY, centerZ, radius) {\n    super(type);\n\n    // TODO see below, these should probably be assigned properly\n    // eslint-disable-next-line\n    let x, y, z, r;\n\n    if (Util.isUndefined(centerY, centerZ, radius)) {\n      x = y = z = 0;\n      r = centerX || 100;\n    } else {\n      x = centerX;\n      // eslint-disable-next-line\n      y = centerY;\n      // eslint-disable-next-line\n      z = centerZ;\n      r = radius;\n    }\n\n    this.x = x;\n\n    // TODO shouldn't this be set to y?\n    this.y = x;\n\n    // TODO shouldn't this be set to z?\n    this.z = x;\n    this.radius = r;\n    this.the = this.phi = 0;\n  }\n\n  /**\n   * Returns true to indicate this is a SphereZone.\n   *\n   * @return {boolean}\n   */\n  isSphereZone() {\n    return true;\n  }\n\n  /**\n   * Sets the particle to dead if the particle collides with the sphere.\n   *\n   * @param {object} particle\n   * @return void\n   */\n  _dead(particle) {\n    var d = particle.position.distanceTo(this);\n\n    if (d - particle.radius > this.radius) particle.dead = true;\n  }\n\n  /**\n   * Warns that this zone does not support the _cross method.\n   *\n   * @return void\n   */\n  _cross() {\n    console.warn(`${this.constructor.name} does not support the _cross method`);\n  }\n}\n\nSphereZone.prototype.getPosition = (function() {\n  var tha, phi, r;\n\n  return function() {\n    this.random = Math.random();\n\n    r = this.random * this.radius;\n    tha = PI * Math.random(); //[0-pi]\n    phi = PI * 2 * Math.random(); //[0-2pi]\n\n    this.vector.x = this.x + r * Math.sin(tha) * Math.cos(phi);\n    this.vector.y = this.y + r * Math.sin(phi) * Math.sin(tha);\n    this.vector.z = this.z + r * Math.cos(tha);\n\n    return this.vector;\n  };\n})();\n\nSphereZone.prototype._bound = (function() {\n  var normal = new Vector3D(),\n    v = new Vector3D(),\n    k;\n\n  return function(particle) {\n    var d = particle.position.distanceTo(this);\n\n    if (d + particle.radius >= this.radius) {\n      normal\n        .copy(particle.position)\n        .sub(this)\n        .normalize();\n      v.copy(particle.velocity);\n      k = 2 * v.dot(normal);\n      particle.velocity.sub(normal.scalar(k));\n    }\n  };\n})();\n","import Vector3D from '../math/Vector3D';\nimport { ZONE_TYPE_ABSTRACT } from './types';\n\n/**\n * A Zone determines the area in 3D space where an emitter's particles can position\n * themselves. They are supplied to both the Position initializer\n * and the CrossZone behaviour.\n *\n * @see {@link '../initialize/Position.js'}\n * @see {@link '../behaviour/CrossZone.js'}\n * @abstract\n */\nexport default class Zone {\n  /**\n   * Constructs a Zone instance.\n   *\n   * @param {string} type - The zone type\n   * @return void\n   */\n  constructor(type = ZONE_TYPE_ABSTRACT) {\n    this.type = type;\n    this.vector = new Vector3D(0, 0, 0);\n    this.random = 0;\n    this.crossType = 'dead';\n    this.log = true;\n    this.supportsCrossing = true;\n  }\n\n  getPosition() {\n    return null;\n  }\n\n  crossing(particle) {\n    if (!this.supportsCrossing) {\n      return console.warn(\n        `${this.constructor.name} does not support the crossing method`\n      );\n    }\n\n    switch (this.crossType) {\n      case 'bound':\n        this._bound(particle);\n        break;\n\n      case 'cross':\n        this._cross(particle);\n        break;\n\n      case 'dead':\n        this._dead(particle);\n        break;\n    }\n  }\n\n  /**\n   * Determines if this zone is a BoxZone.\n   *\n   * @return {boolean}\n   */\n  isBoxZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a LineZone.\n   *\n   * @return {boolean}\n   */\n  isLineZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a MeshZone.\n   *\n   * @return {boolean}\n   */\n  isMeshZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a PointZone.\n   *\n   * @return {boolean}\n   */\n  isPointZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a ScreenZone.\n   *\n   * @return {boolean}\n   */\n  isScreenZone() {\n    return false;\n  }\n\n  /**\n   * Determines if this zone is a SphereZone.\n   *\n   * @return {boolean}\n   */\n  isSphereZone() {\n    return false;\n  }\n\n  /**\n   * Sets the particle's dead property to true if required.\n   *\n   * @param {Particle} particle\n   * @abstract\n   */\n  _dead(particle) {} //eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  _bound(particle) {} //eslint-disable-line\n\n  /**\n   * @abstract\n   */\n  _cross(particle) {} //eslint-disable-line\n}\n","export { default as BoxZone } from './BoxZone';\nexport { default as LineZone } from './LineZone';\nexport { default as MeshZone } from './MeshZone';\nexport { default as PointZone } from './PointZone';\nexport { default as ScreenZone } from './ScreenZone';\nexport { default as SphereZone } from './SphereZone';\n","export const ZONE_TYPE_ABSTRACT = 'Zone';\nexport const ZONE_TYPE_BOX = 'BoxZone';\nexport const ZONE_TYPE_LINE = 'LineZone';\nexport const ZONE_TYPE_MESH = 'MeshZone';\nexport const ZONE_TYPE_POINT = 'PointZone';\nexport const ZONE_TYPE_SCREEN = 'ScreenZone';\nexport const ZONE_TYPE_SPHERE = 'SphereZone';\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseRandom = require('./_baseRandom');\n\n/**\n * A specialized version of `_.sample` for arrays.\n *\n * @private\n * @param {Array} array The array to sample.\n * @returns {*} Returns the random element.\n */\nfunction arraySample(array) {\n  var length = array.length;\n  return length ? array[baseRandom(0, length - 1)] : undefined;\n}\n\nmodule.exports = arraySample;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nmodule.exports = baseRandom;\n","var arraySample = require('./_arraySample'),\n    values = require('./values');\n\n/**\n * The base implementation of `_.sample`.\n *\n * @private\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n */\nfunction baseSample(collection) {\n  return arraySample(values(collection));\n}\n\nmodule.exports = baseSample;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arraySample = require('./_arraySample'),\n    baseSample = require('./_baseSample'),\n    isArray = require('./isArray');\n\n/**\n * Gets a random element from `collection`.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n * @example\n *\n * _.sample([1, 2, 3, 4]);\n * // => 2\n */\nfunction sample(collection) {\n  var func = isArray(collection) ? arraySample : baseSample;\n  return func(collection);\n}\n\nmodule.exports = sample;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","\nexport default function potpack(boxes) {\n\n    // calculate total box area and maximum box width\n    let area = 0;\n    let maxWidth = 0;\n\n    for (const box of boxes) {\n        area += box.w * box.h;\n        maxWidth = Math.max(maxWidth, box.w);\n    }\n\n    // sort the boxes for insertion by height, descending\n    boxes.sort((a, b) => b.h - a.h);\n\n    // aim for a squarish resulting container,\n    // slightly adjusted for sub-100% space utilization\n    const startWidth = Math.max(Math.ceil(Math.sqrt(area / 0.95)), maxWidth);\n\n    // start with a single empty space, unbounded at the bottom\n    const spaces = [{x: 0, y: 0, w: startWidth, h: Infinity}];\n\n    let width = 0;\n    let height = 0;\n\n    for (const box of boxes) {\n        // look through spaces backwards so that we check smaller spaces first\n        for (let i = spaces.length - 1; i >= 0; i--) {\n            const space = spaces[i];\n\n            // look for empty spaces that can accommodate the current box\n            if (box.w > space.w || box.h > space.h) continue;\n\n            // found the space; add the box to its top-left corner\n            // |-------|-------|\n            // |  box  |       |\n            // |_______|       |\n            // |         space |\n            // |_______________|\n            box.x = space.x;\n            box.y = space.y;\n\n            height = Math.max(height, box.y + box.h);\n            width = Math.max(width, box.x + box.w);\n\n            if (box.w === space.w && box.h === space.h) {\n                // space matches the box exactly; remove it\n                const last = spaces.pop();\n                if (i < spaces.length) spaces[i] = last;\n\n            } else if (box.h === space.h) {\n                // space matches the box height; update it accordingly\n                // |-------|---------------|\n                // |  box  | updated space |\n                // |_______|_______________|\n                space.x += box.w;\n                space.w -= box.w;\n\n            } else if (box.w === space.w) {\n                // space matches the box width; update it accordingly\n                // |---------------|\n                // |      box      |\n                // |_______________|\n                // | updated space |\n                // |_______________|\n                space.y += box.h;\n                space.h -= box.h;\n\n            } else {\n                // otherwise the box splits the space into two spaces\n                // |-------|-----------|\n                // |  box  | new space |\n                // |_______|___________|\n                // | updated space     |\n                // |___________________|\n                spaces.push({\n                    x: space.x + box.w,\n                    y: space.y,\n                    w: space.w - box.w,\n                    h: box.h\n                });\n                space.y += box.h;\n                space.h -= box.h;\n            }\n            break;\n        }\n    }\n\n    return {\n        w: width, // container width\n        h: height, // container height\n        fill: (area / (width * height)) || 0 // space utilization\n    };\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","import { System } from './core';\n\nexport * from './behaviour';\nexport * from './debug';\nexport * from './ease';\nexport * from './emitter';\nexport * from './initializer';\nexport * from './math';\nexport * from './renderer';\nexport * from './utils';\nexport * from './zone';\nexport { System, Particle, Pool } from './core';\nexport default System;\n"],"names":["MathUtils","createSpan","Behaviour","PARTICLE_ALPHA_THRESHOLD","getEasingByName","BEHAVIOUR_TYPE_ALPHA","type","Alpha","constructor","alphaA","alphaB","life","easing","isEnabled","reset","same","_same","undefined","initialize","particle","useAlpha","transform","getValue","mutate","time","index","energize","alpha","lerp","energy","fromJSON","json","DEFAULT_ATTRACITON_RADIUS","DEFAULT_ATTRACTION_FORCE_SCALAR","DEFAULT_BEHAVIOUR_EASING","DEFAULT_LIFE","PARTICLE_LENGTH_SQ_THRESHOLD","Vector3D","BEHAVIOUR_TYPE_ATTRACTION","Attraction","targetPosition","force","radius","normalizeValue","radiusSq","attractionForce","lengthSq","copy","sub","position","normalize","scalar","acceleration","add","x","y","z","BEHAVIOUR_TYPE_ABSTRACT","MEASURE","isNumber","uid","Infinity","id","age","dead","_life","normalizeForce","value","applyBehaviour","target","scale","Math","max","destroy","BEHAVIOUR_TYPE_COLLISION","Collision","emitter","useMass","onCollide","particles","delta","slice","otherParticle","overlap","distance","averageMass1","averageMass2","i","length","sqrt","_getAverageMass","clone","particleA","particleB","mass","createColorSpan","ColorUtil","BEHAVIOUR_TYPE_COLOR","Color","colorA","colorB","getRGB","useColor","color","r","g","b","Zone","DEFAULT_CROSS_TYPE","BEHAVIOUR_TYPE_CROSS_ZONE","CrossZone","zone","crossType","crossing","call","zoneType","zoneParams","Object","values","BEHAVIOUR_TYPE_FORCE","Force","fx","fy","fz","random","BEHAVIOUR_TYPE_GRAVITY","Gravity","gravity","DEFAULT_RANDOM_DRIFT_DELAY","BEHAVIOUR_TYPE_RANDOM_DRIFT","RandomDrift","driftX","driftY","driftZ","delay","randomForce","delayPan","ax","randomAToB","ay","az","addValue","BEHAVIOUR_TYPE_REPULSION","Repulsion","DR","PI","BEHAVIOUR_TYPE_ROTATE","Rotate","rotationType","_rotationType","_setRotation","rotation","fR","tR","addR","particleRotation","set","eulerFromDir","velocity","BEHAVIOUR_TYPE_SCALE","Scale","scaleA","scaleB","oldRadius","BEHAVIOUR_TYPE_SPRING","Spring","spring","friction","pos","easeLinear","DEFAULT_BEHAVIOUR_EASING_TYPE","default","POOL_MAX","TIME_STEP","EULER","RK2","RK4","VERLET","BIND_EMITTER_EVENT","__DEV__","process","env","NODE_ENV","DEFAULT_AGE","DEFAULT_ALPHA","DEFAULT_BODY","DEFAULT_DEAD","DEFAULT_EASING","DEFAULT_ENERGY","DEFAULT_MASS","DEFAULT_PARENT","DEFAULT_RADIUS","DEFAULT_SCALE","DEFAULT_SLEEP","DEFAULT_USE_ALPHA","DEFAULT_USE_COLOR","Util","CORE_TYPE_PARTICLE","Particle","properties","sleep","body","parent","old","behaviours","distanceToCamera","setPrototypeByObj","getDirection","atan2","clear","destroyObject","removeAllBehaviours","update","behaviour","addBehaviour","push","addBehaviours","removeBehaviour","indexOf","splice","destroyArray","PUID","CORE_TYPE_POOL","Pool","cID","list","create","functionOrObject","constructorArgs","canCreateNewObject","Error","canInstantiateObject","canCloneObject","object","getCount","count","get","obj","args","p","puid","__puid","pop","expire","_getList","EventDispatcher","EMITTER_ADDED","EMITTER_REMOVED","SYSTEM_UPDATE","SYSTEM_UPDATE_AFTER","DEFAULT_SYSTEM_DELTA","Emitter","INTEGRATION_TYPE_EULER","fromJSONAsync","CORE_TYPE_SYSTEM","System","preParticles","integrationType","canUpdate","emitters","renderers","pool","eventDispatcher","THREE","options","dispatch","event","dispatchEvent","addRenderer","renderer","init","removeRenderer","remove","addEmitter","removeEmitter","emit","onStart","onUpdate","onEnd","addEventListener","map","experimental_emit","Promise","resolve","addOnEmitterDeadEventListener","all","e","console","warn","d","isEmitting","total","INITIALIZER_TYPE_BODY","INITIALIZER_TYPE_BODY_SPRITE","INITIALIZER_TYPE_LIFE","INITIALIZER_TYPE_MASS","INITIALIZER_TYPE_POLAR_VELOCITY","INITIALIZER_TYPE_POSITION","INITIALIZER_TYPE_RADIAL_VELOCITY","INITIALIZER_TYPE_RADIUS","INITIALIZER_TYPE_TEXTURE","INITIALIZER_TYPE_VECTOR_VELOCITY","ZONE_TYPE_BOX","ZONE_TYPE_LINE","ZONE_TYPE_MESH","ZONE_TYPE_POINT","ZONE_TYPE_SPHERE","RENDERER_TYPE_SPRITE","DEFAULT_INDEX","SUPPORTED_JSON_INITIALIZER_TYPES","SUPPORTED_JSON_BEHAVIOUR_TYPES","SUPPORTED_JSON_RENDERER_TYPES","SUPPORTED_JSON_ZONE_TYPES","INITIALIZER_TYPES_THAT_REQUIRE_THREE","Initializer","Rate","makeRate","makeInitializers","items","initializers","forEach","data","includes","makeBehaviours","system","rate","emitterBehaviours","totalEmitTimes","setRate","setRotation","setInitializers","setBehaviours","setEmitterBehaviours","setPosition","TextureInitializer","DEFAULT_OPTIONS","shouldAutoEmit","reject","numberOfInitializers","madeInitializers","doNotRequireTextureLoading","filter","texture","doRequireTextureLoading","textureLoader","TextureLoader","load","loadedTexture","numberOfBehaviours","madeBehaviours","makeEmitters","madeEmitters","numberOfEmitters","then","madeEmitterBehaviours","setTotalEmitTimes","setLife","catch","madeEmitter","Quaternion","Vector3","Matrix4","_Math","Euler","order","_x","_y","_z","_order","DefaultOrder","RotationOrders","defineProperties","prototype","_onChangeCallback","assign","isEuler","euler","setFromRotationMatrix","m","clamp","te","elements","m11","m12","m13","m21","m22","m23","m31","m32","m33","asin","abs","setFromQuaternion","matrix","q","makeRotationFromQuaternion","setFromVector3","v","reorder","newOrder","setFromEuler","equals","fromArray","array","toArray","offset","toVector3","optionalResult","_onChange","callback","DEG2RAD","RAD2DEG","generateUUID","lut","toString","d0","d1","d2","d3","uuid","toUpperCase","min","euclideanModulo","n","mapLinear","a1","a2","b1","b2","t","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","arguments","error","isMatrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","identity","me","copyPosition","extractBasis","xAxis","yAxis","zAxis","setFromMatrixColumn","makeBasis","extractRotation","v1","scaleX","scaleY","scaleZ","makeRotationFromEuler","a","cos","sin","c","f","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","zero","one","compose","lookAt","eye","up","subVectors","crossVectors","multiply","multiplyMatrices","premultiply","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","multiplyScalar","s","applyToBufferAttribute","attribute","l","getX","getY","getZ","applyMatrix4","setXYZ","determinant","transpose","tmp","isVector3","getInverse","throwOnDegenerate","t11","t12","t13","t14","det","msg","detInv","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","theta","makeRotationY","makeRotationZ","makeRotationAxis","axis","angle","tx","ty","makeScale","makeShear","quaternion","w","_w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","sx","sy","sz","decompose","vector","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","h","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","Number","EPSILON","len","tDir","isQuaternion","c1","c2","c3","s1","s2","s3","setFromAxisAngle","halfAngle","trace","setFromUnitVectors","vFrom","vTo","EPS","dot","angleTo","acos","rotateTowards","step","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","setScalar","setX","setY","setZ","setComponent","getComponent","addVectors","addScalar","addScaledVector","subScalar","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyMatrix3","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","manhattanLength","setLength","lerpVectors","v2","cross","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","distanceTo","distanceToSquared","dx","dy","dz","manhattanDistanceTo","setFromSpherical","setFromSphericalCoords","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","fromBufferAttribute","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","DEFAULT_POSITION","DEFAULT_SIZE","size","onSystemUpdated","drawZone","container","wireframe","width","height","depth","geometry","isPointZone","SphereGeometry","isLineZone","isBoxZone","BoxGeometry","isSphereZone","isMeshZone","material","MeshBasicMaterial","mesh","Mesh","drawEmitter","OctahedronGeometry","renderInfo","getCreatedNumber","getEmitterPos","style","addInfo","str","_infoType","name","_infoCon","innerHTML","self","document","createElement","cssText","join","bg","parentNode","appendChild","DEFAULT_WIDTH","DEFAULT_HEIGHT","DEFAULT_DEPTH","Debug","once","window","arg","Array","parseInt","shift","apply","unshift","ease","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","setEasingByName","easeName","DEFAULT_BIND_EMITTER","DEFAULT_BIND_EMITTER_EVENT","DEFAULT_DAMPING","DEFAULT_EMITTER_INDEX","DEFAULT_EMITTER_RATE","EMITTER_DEAD","PARTICLE_CREATED","PARTICLE_DEAD","PARTICLE_UPDATE","integrate","InitializerUtil","EMITTER_TYPE_EMITTER","currentEmitTime","damping","bindEmitter","bindEmitterEvent","newPosition","newRotation","stopEmit","removeAllParticles","addInitializer","initializer","addInitializers","removeInitializer","removeAllInitializers","addEmitterBehaviour","addEmitterBehaviours","removeEmitterBehaviour","removeAllEmitterBehaviours","onEmitterDead","createParticle","setupParticle","generate","updateEmitterBehaviours","THREEUtil","EMITTER_TYPE_FOLLOW","FollowEmitter","mouseTarget","pObj","initValue","_allowEmitting","initEventHandler","mousemoveHandler","mousemove","mousedownHandler","mousedown","mouseupHandler","mouseup","setCameraAndCanvas","canvas","layerX","layerY","offsetX","offsetY","toSpacePos","removeEventListener","listeners","_listeners","listener","arr","removeAllEventListeners","eventName","eventTarget","ret","handler","hasEventListener","createArraySpan","Body","DEFAULT_JSON_MATERIAL_PROPERTIES","DEFAULT_MATERIAL_PROPERTIES","SUPPORTED_MATERIAL_BLENDING_MODES","withDefaults","BodySprite","materialProperties","Sprite","SpriteMaterial","sprite","ensureMappedBlendingMode","blending","INITIALIZER_TYPE_ABSTRACT","hasBeenInitialized","requiresWebGlApi","particleEuler","Life","center","lifePan","Mass","massPan","Position","zones","concat","addZone","params","getPosition","Radius","DEFAULT_RATE_NUM_PAN","DEFAULT_RATE_TIME_PAN","Span","INITIALIZER_TYPE_RATE","numPan","timePan","startTime","nextTime","particlesMin","particlesMax","perSecondMin","perSecondMax","Texture","Polar3D","Velocity","PolarVelocity","polar3d","tha","dirVec","toVector3D","_useV","polarRadius","polarTheta","polarPhi","velocityTheta","RadialVelocity","vector3d","radiusPan","VectorVelocity","vr","getNormal","fog","INITIALIZER_TYPE_ZONE","sample","MATH_TYPE_ARRAY_SPAN","ArraySpan","isArray","MATH_TYPE_BOX","Box","contains","MATH_TYPE_COLOR_SPAN","ColorSpan","colors","shouldRandomize","randomColor","INT","randomFloating","randomZone","display","degreeTransform","toColor16","num","axisRotate","v0","k","MATH_TYPE_POLAR_3D","setRadius","setPhi","setTheta","MATH_TYPE_SPAN","_isArray","_center","vector3D","INTEGRATION_TYPE_RK2","INTEGRATION_TYPE_RK4","INTEGRATION_TYPE_VERLET","eulerIntegration","MATH_TYPE_VECTOR_3D","RENDERER_TYPE_BASE","BaseRenderer","onSystemUpdate","onParticleCreated","onParticleUpdate","onParticleDead","logRendererType","RENDERER_TYPE_CUSTOM","CustomRenderer","targetPool","materialPool","ParticleBuffer","Target","TextureAtlas","UniqueList","fragmentShader","vertexShader","DEFAULT_RENDERER_OPTIONS","RENDERER_TYPE_GPU_DESKTOP","DesktopGPURenderer","three","props","maxParticles","baseColor","depthTest","depthWrite","transparent","shouldDebugTextureAtlas","particleBuffer","ShaderMaterial","uniforms","uTexture","atlasIndex","uniqueList","buffer","stride","points","Points","frustumCulled","needsUpdate","textureAtlas","updateTarget","mapParticleTargetPropsToPoint","setRGB","find","textureIndex","getTextureID","updatePointPosition","updatePointSize","updatePointColor","updatePointAlpha","updatePointTextureIndex","attributes","debug","addTexture","DATA_TEXTURE_SIZE","SIZE_ATTENUATION_FACTOR","RENDERER_TYPE_GPU_MOBILE","MobileGPURenderer","FFatlasIndex","atlasDim","Vector2","atlasTexture","image","ti","ta","ida","indexData","nx","ny","px","py","DEFAULT_MAX_PARTICLES","VECTOR_3_SIZE","RGBA_SIZE","FLOAT_BYTE_SIZE","POSITION_BYTE_SIZE","SIZE_BYTE_SIZE","RGBA_BYTE_SIZE","ALL_BYTE_SIZES","PARTICLE_BYTE_SIZE","reduce","cur","acc","POSITION_ATTRIBUTE_BUFFER_SIZE","SIZE_ATTRIBUTE_BUFFER_SIZE","RGBA_ATTRIBUTE_BUFFER_SIZE","ALPHA_ATTRIBUTE_BUFFER_SIZE","TEXID_ATTRIBUTE_BUFFER_SIZE","ATTRIBUTE_TO_SIZE_MAP","texID","PARTICLE_STRIDE","createInterleavedBuffer","createBufferGeometry","arrayBuffer","ArrayBuffer","interleavedBuffer","InterleavedBuffer","Float32Array","BufferGeometry","keys","setAttribute","InterleavedBufferAttribute","potpack","shouldDebug","rendererType","ctx","getContext","entries","DataTexture","CanvasTexture","flipY","uniformsNeedUpdate","halfmax","fillStyle","fillRect","font","fillText","zIndex","stats","ii","drawImage","dispose","shouldForceDesktopRenderer","shouldForceMobileRenderer","_items","item","RENDERER_TYPE_GPU","GPURenderer","isFloatingPointTextureSupported","WebGL2RenderingContext","gl","support","getExtension","RENDERER_TYPE_MESH","MeshRenderer","_targetPool","_materialPool","_body","MeshLambertMaterial","isThreeSprite","isSprite","opacity","SpriteRenderer","rgb","hex","exec","charAt","_id","_uids","Map","getNewId","has","newId","toScreenPos","defaults","_value","o","isUndefined","setVectorByObj","pOBJ","proObj","filters","key","hasOwnProperty","_getValue","pan","BoxZone","_dead","_bound","_static","_cross","LineZone","supportsCrossing","MeshZone","bounds","ThreeGeometry","isBufferGeometry","fromBufferGeometry","vertices","rVector","PointZone","ZONE_TYPE_SCREEN","ScreenZone","dis","isScreenZone","domElement","d4","vec2","SphereZone","centerX","centerY","centerZ","the","ZONE_TYPE_ABSTRACT"],"sourceRoot":""}